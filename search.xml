<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Spring Security å…¥é—¨]]></title>
    <url>%2F2020%2F02%2F12%2FSpring%20Security%2F</url>
    <content type="text"><![CDATA[Spring Security å…¥é—¨ä»‹ç»é€šå¸¸åœ¨å¼€å‘webåº”ç”¨çš„æ—¶å€™ï¼Œéœ€è¦å¾ˆå¤šå¯¹é¡µé¢å®‰å…¨çš„æŽ§åˆ¶ï¼Œå¯ä»¥é€šè¿‡æ‹¦æˆªå™¨ã€AOPå®žçŽ°ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ Spring Securityã€Shiro è¿™ç§ç”¨äºŽç”¨æˆ·è®¤è¯å’Œç”¨æˆ·æŽˆæƒçš„æ¡†æž¶åšåˆ°ï¼ŒSpring Sercurity å°±æ˜¯Spring å…¨å®¶æ¡¶ä¸­å…³äºŽå®‰å…¨æ–¹é¢çš„ä¸€ä¸ªæ¡†æž¶ï¼ŒåŸºäºŽSpring AOPå’ŒServletè¿‡æ»¤å™¨ã€‚ ä¸»è¦åŠŸèƒ½ è®¤è¯ï¼šéªŒè¯ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦åˆæ³•ï¼ˆæ˜¯å¦æ˜¯ç³»ç»Ÿä¸­çš„ç”¨æˆ·ï¼‰ã€‚ æŽˆæƒï¼šä¸ºä¸åŒçš„ç”¨æˆ·æŽˆäºˆç›¸åº”çš„æƒé™ã€‚ é˜²å¾¡ä¼šè¯å›ºå®šï¼Œç‚¹å‡»åŠ«æŒï¼Œè·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ç­‰æ”»å‡»ã€‚ åˆä½“éªŒè®¤è¯ æ·»åŠ starter &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt; åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨çš„controller @Controllerpublic class AppController &#123; @RequestMapping("/hello") @ResponseBody public String hello() &#123; return "hello"; &#125;&#125; è¿è¡Œé¡¹ç›® å¯ä»¥çœ‹åˆ°æŽ§åˆ¶å°æœ‰ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªéšæœºç”Ÿæˆçš„UUIDï¼Œå°±æ˜¯é»˜è®¤çš„å¯†ç ï¼Œé»˜è®¤çš„ç”¨æˆ·åæ˜¯user è®¿é—®localhost:8080/helloï¼ŒSpring Security çš„æ‹¦æˆªå™¨ä¼šé‡å®šå‘åˆ°/loginä¸‹ã€‚ è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ä¹‹åŽï¼Œå°±ä¼šè·³è½¬åˆ°/helloé¡µé¢ä¸‹äº†ã€‚ æ­¤å¤„çš„ç”¨æˆ·åå’Œå¯†ç å¯ä»¥åœ¨application.propertiesæ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š spring.security.user.name=userspring.security.user.password=123 æŽˆæƒæˆ‘ä»¬æŽ¥ä¸‹æ¥ä¼šåˆ›å»ºä¸¤ä¸ªç”¨æˆ·ï¼Œä¸¤ä¸ªç”¨æˆ·æœ‰ä¸åŒçš„æƒé™ï¼Œæ ¹æ®æƒé™ä¸åŒï¼Œç”¨æˆ·å¯ä»¥è®¿é—®çš„é¡µé¢ä¹Ÿä¸åŒã€‚ åˆ›å»ºä¸€ä¸ªç»§æ‰¿WebSecurityConfigurerAdapterçš„ç±»ï¼Œé‡å†™configureæ–¹æ³• @Configuration@EnableWebSecuritypublic class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Autowired MyUserDetailsService myUserDetailsService; // ç¡¬ç¼–ç åœ¨å†…å­˜ä¸­çš„ç”¨æˆ· @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception &#123; auth.inMemoryAuthentication() .withUser("user") .password(new BCryptPasswordEncoder().encode("user")) .roles("USER") .and() .withUser("admin") .password(new BCryptPasswordEncoder().encode("admin")) .roles("ADMIN"); &#125; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.authorizeRequests() // æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®/loginæŽ¥å£ .antMatchers("/login").permitAll() // åªæœ‰å…·æœ‰ADMINæƒé™çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—®/adminä¸‹çš„æŽ¥å£ .antMatchers("/admin/*").hasRole("ADMIN") .antMatchers("/user/*").hasRole("USER") // å¯¹äºŽå‰©ä½™çš„æŽ¥å£åªè¦ç™»é™†æˆåŠŸå°±å¯ä»¥ç™»é™† .anyRequest().authenticated() .and() .formLogin().defaultSuccessUrl("/hello"); &#125;&#125; ä¸Šé¢é‡å†™äº†ä¸¤ä¸ªconfigureæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªconfigureæ–¹æ³•å¯ä»¥åˆ›å»ºå‡ ä¸ªç¡¬ç¼–ç åœ¨å†…å­˜ä¸­çš„ç”¨æˆ·ï¼Œæ³¨æ„roles(&quot;USER&quot;)æ·»åŠ çš„æƒé™é»˜è®¤ä¼šåŠ ä¸Šâ€ROLE_â€ã€‚è¿™æ˜¯spring securityçš„æ ¸å¿ƒé…ç½®ç±»ã€‚ è¿è¡Œé¡¹ç›®ï¼Œä½¿ç”¨userç”¨æˆ·ç™»å½•çš„æ—¶å€™åªå¯ä»¥è®¿é—®/userä¸‹çš„æŽ¥å£ï¼Œè®¿é—®/adminä¸‹çš„æŽ¥å£ä¼šæŠ¥403é”™è¯¯ã€‚ æºç åˆ†æžç”¨æˆ·å‚æ•° é¦–å…ˆæ‰¾åˆ°SecurityProperties.javaï¼ŒæŸ¥çœ‹å…¶ä¸­çš„Useré™æ€å†…éƒ¨ç±»ã€‚ public static class User &#123; /** * Default user name. */ private String name = "user"; /** * Password for the default user name. * é»˜è®¤ç”¨æˆ·çš„å¯†ç ï¼Œå¯ä»¥çœ‹åˆ°ï¼ŒUUIDå°±æ˜¯åœ¨æ­¤å¤„ç”Ÿæˆçš„ */ private String password = UUID.randomUUID().toString(); /** * Granted roles for the default user name. * ä¸ºé»˜è®¤ç”¨æˆ·æŽˆäºˆçš„è§’è‰² */ private List&lt;String&gt; roles = new ArrayList&lt;&gt;(); /** * æ˜¯å¦ç”Ÿæˆå¯†ç  */ private boolean passwordGenerated = true; .....&#125; ç”¨æˆ·åå¯†ç éªŒè¯ è¿›å…¥UsernamePasswordAuthenticationFilterç±»ã€‚ å¯ä»¥é€šè¿‡ç±»æ³¨é‡Šçœ‹åˆ°ï¼Œæ­¤ç±»çš„ä½œç”¨æ˜¯Processes an authentication form submissionï¼Œå¤„ç†èº«ä»½éªŒè¯æäº¤çš„è¡¨å•ã€‚ public UsernamePasswordAuthenticationFilter() &#123; super(new AntPathRequestMatcher("/login", "POST"));&#125; ä¸Šé¢æ˜¯è¯¥ç±»çš„æž„é€ å™¨ï¼Œä½¿ç”¨æä¾›çš„æ¨¡å¼å’ŒHTTPæ–¹æ³•ä»¥ä¸åŒºåˆ†å¤§å°å†™çš„æ–¹å¼åˆ›å»ºåŒ¹é…å™¨ã€‚ æŸ¥çœ‹è¯¥ç±»çš„æŠ½è±¡çˆ¶ç±» AbstractAuthenticationProcessingFilter ä¸­çš„ public Authentication attemptAuthentication() æ–¹æ³•ä»‹ç»ï¼šPerforms actual authenticationï¼Œæ­¤æ–¹æ³•å°±æ˜¯å®žé™…æ‰§è¡Œèº«ä»½éªŒè¯çš„æ–¹æ³•ï¼š public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException &#123; if (postOnly &amp;&amp; !request.getMethod().equals("POST")) &#123; throw new AuthenticationServiceException( "Authentication method not supported: " + request.getMethod()); &#125; // èŽ·å–è¯·æ±‚ä¸­å‚æ•°usernameå’Œpasswordçš„å†…å®¹ String username = obtainUsername(request); String password = obtainPassword(request); // åˆ¤ç©º if (username == null) &#123; username = ""; &#125; if (password == null) &#123; password = ""; &#125; // åŽ»æŽ‰usernameä¸­çš„ç©ºæ ¼ username = username.trim(); // åˆ›å»ºä¸€ä¸ªç”¨äºŽèº«ä»½è®¤è¯çš„Token UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken( username, password); // Allow subclasses to set the "details" property setDetails(request, authRequest); return this.getAuthenticationManager().authenticate(authRequest);&#125; æ•´ä¸ªèº«ä»½éªŒè¯çš„è¿‡ç¨‹ï¼š è¯·æ±‚åˆ°è¾¾AbstractAuthenticationProcessingFilterçš„å®žçŽ°ç±»UsernamePasswordAuthenticationFilterè¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨å°†requestä¸­çš„è´¦å·å¯†ç ç»„åˆæˆAuthenticationçš„ä¸€ä¸ªå®žçŽ°ç±»UsernamePasswordAuthenticationTokenï¼Œåˆ›å»ºä¸€ä¸ªç”¨äºŽèº«ä»½è®¤è¯çš„tokenã€‚ å°†åˆ›å»ºå¥½çš„tokenä¼ ç»™AuthenticationManagerçš„authenticateæ–¹æ³•ï¼ŒéªŒè¯tokenæ˜¯å¦æœ‰æ•ˆã€‚ AuthenticationManageréªŒè¯æˆåŠŸä¹‹åŽï¼Œä¼šè¿”å›žä¸€ä¸ªAuthenticationå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†ï¼ˆæƒé™ä¿¡æ¯ã€èº«ä»½ä¿¡æ¯ã€ç»†èŠ‚ä¿¡æ¯ï¼Œå¯†ç é€šå¸¸ä¼šè¢«ç§»é™¤ï¼‰ã€‚ æœ€åŽé€šè¿‡SecurityContextHolder.getContext().getAuthentication().getPrincipal()å°†Authenticationè®¾ç½®åˆ°security contextä¸­ï¼Œä¸€èˆ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç æ¥èŽ·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ­¤ä¿¡æ¯æ˜¯å‚¨å­˜åœ¨HttpSessionä¸­çš„ï¼Œå¯ä»¥éšæ—¶æ‹¿åˆ°ã€‚ SecurityContext securityContext = SecurityContextHolder.getContext();Authentication auth = securityContext.getAuthentication(); è‡ªå®šä¹‰ç™»å½•æŽ¥å£å’Œç™»å½•é¡µé¢ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬åªä½¿ç”¨äº†å†…å­˜ä¸­çš„ä¸¤ä¸ªç”¨æˆ·ç™»å½•ï¼Œå®žé™…é¡¹ç›®ä¸­è‚¯å®šæ˜¯è¦ä»Žæ•°æ®åº“ä¸­æŸ¥è¯¢çš„ï¼Œä¸‹é¢è®²è§£å¦‚ä½•è‡ªå®šä¹‰ç™»å½•æŽ¥å£ã€‚ åœ¨WebSecurityConfig.javaä¸­å¢žåŠ é…ç½®ï¼š @Beanpublic PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder();&#125; å®žçŽ°è‡ªå®šä¹‰çš„UserDetailsServiceæŽ¥å£ï¼š @Componentpublic class MyUserDetailsService implements UserDetailsService &#123; @Autowired PasswordEncoder passwordEncoder; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; // å¦‚æžœæ˜¯ä»Žæ•°æ®åº“ä¸­æŸ¥è¯¢å¯†ç ï¼Œå°†æ­¤å¤„çš„passwordæ”¹æˆæŸ¥è¯¢ä¹‹åŽèŽ·å¾—çš„ç»“æžœå³å¯ String password = passwordEncoder.encode("123"); return new User(username, password, AuthorityUtils.createAuthorityList("ROLE_ADMIN")); &#125;&#125; æ³¨æ„ï¼Œæ­¤å¤„çš„å¯†ç éœ€è¦ç»è¿‡ç¼–ç å™¨åŠ å¯†åŽçš„å€¼ï¼ŒåŒ…æ‹¬ä¸Šé¢åœ¨å†…å­˜ä¸­å®šä¹‰çš„ä¸¤ä¸ªç”¨æˆ·ï¼Œå¯†ç éƒ½éœ€è¦æ˜¯ç¬¦åˆç¼–ç å™¨çš„ç¼–ç è§„åˆ™çš„ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ å¯ç”¨è‡ªå®šä¹‰æŽ¥å£ï¼Œåœ¨MySecurityConfigä¸­ï¼Œå¢žåŠ userDetailsService(myUserDetailsService)ã€‚ @Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.userDetailsService(myUserDetailsService) .authorizeRequests() // æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®/loginæŽ¥å£ .antMatchers("/login").permitAll() // åªæœ‰å…·æœ‰ADMINæƒé™çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—®/adminä¸‹çš„æŽ¥å£ .antMatchers("/admin/*").hasRole("ADMIN") .antMatchers("/user/*").hasRole("USER") // å¯¹äºŽå‰©ä½™çš„æŽ¥å£åªè¦ç™»é™†æˆåŠŸå°±å¯ä»¥ç™»é™† .anyRequest().authenticated() .and() .formLogin().defaultSuccessUrl("/hello");&#125; è‡ªå®šä¹‰ç™»å½•ç•Œé¢ åœ¨templatesä¸‹åˆ›å»ºlogin.htmlï¼Œæ³¨æ„ï¼ŒæŽ¥å£ä¸­çš„ç”¨æˆ·åå¯†ç çš„nameè¦å’Œsecurityä¸­çš„å¯¹åº”ï¼ŒæŽ¥å£åç§°è¦å’ŒåŽé¢è¦é…ç½®çš„.loginProcessingUrl()å¯¹åº”ã€‚ &lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Login&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h2&gt;ç™»å½•&lt;/h2&gt;&lt;form action="/auth/login" method="post"&gt; &lt;label&gt; &lt;input name="username" placeholder="username"&gt; &lt;/label&gt; &lt;label&gt; &lt;input name="password" placeholder="password"&gt; &lt;/label&gt; &lt;input type="submit" value="ç™»å½•"&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt; é…ç½®WebSecurityConfig åœ¨configureä¸­å¢žåŠ é…ç½®ï¼Œä¸»è¦æ˜¯loginPageé»˜è®¤ç™»é™†é¡µé¢é…ç½®ï¼ŒloginProcessingUrlç™»é™†è¯·æ±‚çš„urlï¼Œcsrf().disable()å…³é—­csrfã€‚ @Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.csrf().disable() .userDetailsService(myUserDetailsService) .authorizeRequests() .antMatchers("/login").permitAll() // æ³¨æ„ï¼Œæ­¤å¤„çš„rolesä¿¡æ¯ä¼šé»˜è®¤åŠ ä¸ŠROLE_ .antMatchers("/admin/*").hasRole("ADMIN") .antMatchers("/user/*").hasRole("USER") // å‰©ä½™çš„æŽ¥å£ï¼Œåªè¦ç™»å½•æˆåŠŸå°±å¯ä»¥ä½¿ç”¨ .anyRequest().authenticated() .and() .formLogin() .defaultSuccessUrl("/hello") .loginPage("/login") .loginProcessingUrl("/auth/login");&#125; å†æ¬¡è¿è¡Œé¡¹ç›®æ‰“å¼€ï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå®šä¹‰çš„ç™»é™†é¡µé¢äº†]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ç†è§£é€’å½’]]></title>
    <url>%2F2020%2F02%2F10%2F%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E9%80%92%E5%BD%92%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬æ€æƒ³å†™å¥½é€’å½’è¦æŽŒæ¡å‡ ä¸ªæŠ€å·§ï¼š 1 æ˜Žç¡®é€’å½’å‡½æ•°çš„ä½œç”¨ï¼Œå°†é€’å½’å‡½æ•°çœ‹ä½œä¸€ä¸ªé»‘ç›’æˆ‘è‡ªå·±æŠŠè¯¥æŠ€å·§ç§°ä¸ºé»‘ç›’æ€æƒ³ï¼Œæˆ‘è®¤ä¸ºé»‘ç›’æ€æƒ³å¯¹äºŽç†è§£é€’å½’æœ‰å¾ˆå¤§çš„ä½œç”¨ï¼Œé€’å½’å‡½æ•°å°±æ˜¯éšè—äº†å¾ˆå¤šç»†èŠ‚ï¼Œæˆ‘ä»¬æ²¡å¿…è¦åŽ»ä¸€æ­¥ä¸€æ­¥åœ°æ¨¡æ‹Ÿé€’å½’å‡½æ•°çš„è¿è¡Œï¼Œé‚£æ ·å¤§è„‘ä¹Ÿå—ä¸äº†ã€‚ æ¯”å¦‚æœ€ç®€å•çš„é˜¶ä¹˜å‡½æ•°ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°int Factorial(int n)ï¼Œè§„å®šæ­¤å‡½æ•°çš„ä½œç”¨å°±æ˜¯è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¿”å›žè¯¥æ•°çš„é˜¶ä¹˜ï¼Œæˆ‘ä»¬è§£é¢˜çš„è¿‡ç¨‹ä¸­éœ€è¦æ—¶åˆ»ä¿æŒè¿™ç§æ€æƒ³ã€‚ 2 æ˜Žç¡®é€’å½’ç»“æŸçš„æ¡ä»¶é€’å½’å¦å¤–ä¸€ä¸ªé‡è¦çš„å› ç´ å°±æ˜¯è¦æ˜Žç¡®é€’å½’çš„ç»“æŸæ¡ä»¶ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æžœé€’å½’æ— æ³•æ­£å¸¸ç»ˆæ­¢ï¼Œæœ€ç»ˆä¼šå¯¼è‡´æ ˆæº¢å‡ºï¼Œæ‰€ä»¥æ˜Žç¡®é€’å½’ç»“æŸçš„æ¡ä»¶æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨æ‰¾è¿™ä¸ªæ¡ä»¶çš„æ—¶å€™éƒ½è¦å¯»æ‰¾è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼šåœ¨è¯¥å‚æ•°ä¸‹è¯¥å‡½æ•°å¯ä»¥è¿”å›žç¡®åˆ‡çš„å€¼ï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦å¯»æ‰¾æŸäº›ç®€å•æƒ…å†µï¼Œè¿™äº›æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥èŽ·å–è¿”å›žå€¼ã€‚ ä¾‹å¦‚ï¼Œè¿˜æ˜¯é˜¶ä¹˜çš„ä¾‹å­ï¼Œæˆ‘ä»¬çŸ¥é“1çš„é˜¶ä¹˜æ˜¯1ï¼Œ2çš„é˜¶ä¹˜æ˜¯2ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºå¦‚æžœnç­‰äºŽ1æˆ–è€…2ï¼Œå°±å¯ä»¥ç›´æŽ¥è¿”å›žnçš„å€¼ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±å˜æˆäº†ï¼š int Factorial(int n) &#123; if (n &lt;= 2) return n; ...&#125; 3 ç¼©å°é€’å½’èŒƒå›´ï¼ŒèŽ·å¾—ç­‰ä»·æ¡ä»¶æˆ‘è§‰ç€è¿™æ˜¯é€’å½’ä¸­æœ€éš¾çš„éƒ¨åˆ†äº†ï¼Œè¯´æ˜¯è¦ç¡®å®šç­‰ä»·æ¡ä»¶ï¼Œå…¶å®žæœ‰çš„æ—¶å€™ç­‰ä»·æ¡ä»¶å¾ˆå¥½æ‰¾ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹å¹¶ä¸æ˜¯å¾ˆæ˜Žæ˜¾çš„ç­‰ä»·æ¡ä»¶ï¼Œä¸€èˆ¬æˆ‘ä¼šåˆ†ä¸ºä¸¤ç§é—®é¢˜ï¼Œä¸€ç§æ˜¯å¯ä»¥å¾ˆå®¹æ˜“æŽ¨å¯¼å‡ºå…¬å¼çš„ï¼Œè¿™ç§é—®é¢˜æŽ¨å‡ºå…¬å¼æ¥é—®é¢˜ä¹Ÿå°±åŸºæœ¬è§£å†³äº†ï¼Œå¦å¤–ä¸€ç§æ˜¯å¯»æ‰¾ç¼©å°é€’å½’èŒƒå›´çš„åŠžæ³•ï¼Œä½¿é€’å½’ä¸æ–­è¶‹è¿‘é€’å½’ç»“æŸæ¡ä»¶ï¼ˆå…¶å®žç¬¬ä¸€ç§ä¹Ÿæ˜¯ä¸ºäº†è¾¾åˆ°è¯¥ç›®çš„ï¼‰ã€‚è¿™ä¸€éƒ¨åˆ†éœ€è¦ä¸æ–­åšé¢˜ç§¯ç´¯æ€»ç»“ï¼ŒåŒæ—¶é»‘ç›’æ€æƒ³åœ¨æ­¤å¤„å……åˆ†ä½“çŽ°å‡ºæ¥äº†ã€‚ å®Œå–„é˜¶ä¹˜çš„ä¾‹å­ï¼š æˆ‘ä»¬çŸ¥é“ï¼Œé˜¶ä¹˜çš„å…¬å¼æ˜¯ $f(n)=n!$ï¼Œå®¹æ˜“å¾—å‡º$f(n-1)=(n-1)!$ï¼Œ$f(n)=n(n-1)!$ï¼Œé‚£ä¹ˆæœ€ç»ˆå¾—åˆ°çš„å…¬å¼å°±æ˜¯$f(n)=nf(n-1)$ï¼Œè¿™é‡Œçš„f(n)å°±æ˜¯ç­‰ä»·äºŽç¬¬ä¸€æ­¥æˆ‘ä»¬ç¡®å®šçš„å‡½æ•°Factorial(int n)ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±å˜æˆäº†ï¼š int Factorial(int n) &#123; if (n &lt;= 2) return n; return n * Factorial(n - 1);&#125; çŽ°åœ¨çš„å‡½æ•°å°±å’Œæˆ‘ä»¬ä¸€å¼€å§‹æŽ¨å‡ºçš„å…¬å¼æ˜¯ä¸€ä¸ªæ„æ€äº†ï¼Œå‘ä¸€ä¸ªä½œç”¨ä¸ºè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°å¾—åˆ°è¯¥æ•°çš„é˜¶ä¹˜çš„å‡½æ•°ä¸­è¾“å…¥å‚æ•°nï¼Œæ ¹æ®åˆšåˆšå¾—åˆ°çš„å…¬å¼è¿”å›žèŽ·å¾—çš„ç»“æžœï¼Œæ¯æ¬¡è®¡ç®—éƒ½ä¼šå°†é€’å½’èŒƒå›´å‡å°ï¼Œç›´åˆ°è¾¾åˆ°ç»“æŸæ¡ä»¶ã€‚ é¢˜ç›®æ•´ç†ä¸‹é¢çš„é¢˜ç›®éƒ½æ˜¯åœ¨åˆ·å‰‘æŒ‡offerå’ŒLeetCodeä¸­é‡åˆ°çš„å¯ä»¥ç”¨é€’å½’æ±‚è§£çš„å‡ ä¸ªé¢˜ç›®ï¼ŒæŒ‘äº†å‡ ä¸ªå…¸åž‹çš„é¢˜ç›®ï¼Œéš¾åº¦åœ¨æˆ‘çœ‹æ¥æ˜¯æŒ‰ç…§é¡ºåºé€’å¢žçš„ã€‚ å¤§å®¶éƒ½çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ŒçŽ°åœ¨è¦æ±‚è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¯·ä½ è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ï¼ˆä»Ž0å¼€å§‹ï¼Œç¬¬0é¡¹ä¸º0ï¼‰ã€‚ æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å…¬å¼æ˜¯ $f(n) = f(n-1) + f(n-2)$ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦ç¡®å®šé€’å½’çš„ç»“æŸæ¡ä»¶ã€‚f(0)=0ï¼Œf(1)=1ï¼Œf(2)=f(1)+f(0)â€¦æ‰€ä»¥å½“n&lt;=1æ—¶ï¼Œè¾“å…¥nè¿”å›žnï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è§£å‡ºæ”¹é¢˜ç›®äº†ã€‚ å®žçŽ°ï¼š int Fibonacci(int n) &#123; if (n &lt;= 2) return 1; return Fibonacci(n - 1) + Fibonacci(n - 2);&#125; ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ï¼ˆå…ˆåŽæ¬¡åºä¸åŒç®—ä¸åŒçš„ç»“æžœï¼‰ã€‚ è¿™é“é¢˜ç›®æœ€é‡è¦çš„å°±æ˜¯æŽ¨å‡ºå…¬å¼äº†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè¯•ç€æ¨¡æ‹Ÿå‡ æ¬¡ï¼Œå¦‚æžœn=1ï¼Œåªæœ‰ä¸€ä¸ªå°é˜¶ï¼Œf(1)=1ï¼ŒåŒæ ·åœ°ï¼Œf(2)=1ã€‚å½“æœ‰ä¸‰ä¸ªå°é˜¶ï¼Œå³n=3æ—¶å€™ï¼Œè¦åˆ†ä¸¤æ¬¡è·³ï¼Œç¬¬ä¸€æ¬¡è·³æœ‰ä¸¤ç§é€‰æ‹©1æˆ–2ï¼Œå¦‚æžœç¬¬ä¸€æ¬¡é€‰1ï¼Œé‚£ä¹ˆè¿˜å‰©ä¸¤èŠ‚å°é˜¶ï¼Œé—®é¢˜å°±å›žåˆ°äº†f(2)ï¼Œç¬¬äºŒæ¬¡å°±åªæœ‰ä¸€ç§è·³æ³•ï¼›å¦‚æžœç¬¬ä¸€æ¬¡é€‰2ï¼Œé‚£ä¹ˆè¿˜å‰©ä¸€èŠ‚å°é˜¶ï¼Œé—®é¢˜å›žåˆ°f(1)ï¼Œç¬¬äºŒæ¬¡åªæœ‰ä¸€ç§è·³æ³•ï¼Œæ•…f(3)=f(2)+f(1)ã€‚æ‰€ä»¥ï¼Œå½“è·³nçº§å°é˜¶æ—¶ï¼Œç¬¬ä¸€æ¬¡æœ‰ä¸¤ç§è·³æ³•ï¼Œå¦‚æžœç¬¬ä¸€æ¬¡é€‰æ‹©äº†1ï¼Œé‚£ä¹ˆæœ‰f(n-1)ä¸­è·³æ³•ï¼›å¦‚æžœç¬¬ä¸€æ¬¡é€‰æ‹©äº†2ï¼Œé‚£ä¹ˆæœ‰f(n-2)ç§è·³æ³•ï¼Œæ€»å…±æœ‰f(n-1)+f(n-2)ç§è·³æ³•ï¼Œå…¬å¼ä¸ºf(n)=f(n-1)+f(n-2)ã€‚ ç»“æŸæ¡ä»¶ä¹Ÿå¾ˆæ˜Žæ˜¾äº†ï¼Œn&lt;=2æ—¶ï¼Œè¿”å›žnã€‚ å®žçŽ°ï¼š int JumpFloor(int target) &#123; if (target &lt;= 2) return target; return JumpFloor(target - 1) + JumpFloor(target - 2);&#125; ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚ æ ¹æ®ä¸Šé¢˜å®¹æ˜“æŽ¨å‡º$f(n)=f(n-1)+f(n-2)+â€¦+f(0)$ï¼Œ $f(n-1)=f(n-2)+f(n-3)+â€¦+f(0)$ ä¸¤å¼ç›¸å‡ï¼Œå¾—$f(n)=2f(n-1)$ å®žçŽ°ï¼š int JumpFloor(int target) &#123; if (target &lt;= 2) return target; return 2 * JumpFloor(target - 1);&#125; è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œåè½¬é“¾è¡¨åŽï¼Œè¾“å‡ºæ–°é“¾è¡¨çš„è¡¨å¤´ã€‚ å¯¹äºŽæ­¤é¢˜æ¥è¯´ï¼Œé»‘ç›’æ€æƒ³å°±å¾ˆé‡è¦ï¼Œé¦–å…ˆæ˜Žç¡®æ­¤å‡½æ•°çš„ä½œç”¨ï¼Œæ­¤å‡½æ•°çš„ä½œç”¨æ˜¯è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä¹‹åŽå¯¹é“¾è¡¨è¿›è¡Œåè½¬ï¼Œè¿”å›žåè½¬åŽæ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ é¦–å…ˆï¼Œæ˜Žç¡®ç»“æŸæ¡ä»¶ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥å°†æŸäº›ç®€å•æƒ…å†µä½œä¸ºç»“æŸæ¡ä»¶ï¼Œå½“head==nullæˆ–è€…head.next==nullï¼ˆåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼‰æ—¶ï¼Œåè½¬é“¾è¡¨çš„ç»“æžœå°±æ˜¯ç›´æŽ¥è¿”å›žheadï¼Œé‚£ä¹ˆç»“æŸé€’å½’çš„æ¡ä»¶å°±æ˜¯if (head == null || head.next == null) return head;ã€‚ æœ€åŽä¸€æ­¥å°±æ˜¯å¯»æ‰¾ç­‰ä»·å…³ç³»ï¼Œç¼©å°é€’å½’èŒƒå›´ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥å‡½æ•°çš„è¿”å›žå€¼æ˜¯åè½¬ä¹‹åŽçš„æ–°èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ–°èŠ‚ç‚¹å°±æ˜¯æ—§é“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œè¦æƒ³ä¸€æ­¥æ­¥é€¼è¿‘ç­”æ¡ˆï¼Œæ˜¾ç„¶éœ€è¦ä¸€æ­¥æ­¥å‘åŽæœç´¢ï¼Œé€’å½’éƒ¨åˆ†å°±æ˜¯reverse(head.next)ï¼Œå…ˆå°†è¿™ä¸€å¥åŠ è¿›ä»£ç ä¸­åŽ»ï¼š Node reverse(Node head) &#123; if (head == null || head.next == null) return head; Node newNode = reverse(head.next); // æš‚æ—¶ä¸returnï¼Œå…ˆç”¨å˜é‡å‚¨å­˜&#125; reverse(head.next)çš„ä½œç”¨å³ä¸ºè¾“å…¥å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†å¤´èŠ‚ç‚¹åŽé¢çš„èŠ‚ç‚¹éƒ½åè½¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬¬äºŒä¸ªé“¾è¡¨å°±æ˜¯æ‰§è¡Œreverse(head.next)ä¹‹åŽçš„å˜åŒ–ã€‚ ï¼ˆå¯èƒ½åˆ°è¿™é‡Œä¼šæœ‰ç–‘é—®äº†ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å†™ä»»ä½•å°†é“¾è¡¨åè½¬çš„é€»è¾‘ï¼Œé“¾è¡¨ä¸å¯èƒ½è‡ªå·±å°±åè½¬äº†ï¼Œç¡®å®žï¼Œåˆ°ç›®å‰ä¸ºæ­¢æ²¡æœ‰ä»»ä½•å®žé™…ä»£ç å¯ä»¥å°†é“¾è¡¨åè½¬ï¼Œä½†æ˜¯é€’å½’çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯çœç•¥äº†ç»†èŠ‚ï¼Œè€Œä¸”ä¸€å®šè¦è®°ä½é»‘ç›’æ€æƒ³ï¼Œå°†é€’å½’å‡½æ•°çœ‹ä½œé»‘ç›’ï¼Œå³ä½¿å‡½æ•°çœ‹èµ·ä»€ä¹ˆéƒ½æ²¡æœ‰åšï¼Œä¹Ÿè¦ä»Žå¿ƒåº•é‡Œé¢è®©è‡ªå·±ç›¸ä¿¡å®ƒçŽ°åœ¨å°±èµ·äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå¦åˆ™ä½ çš„å¤§è„‘å°±çˆ†æ ˆäº†ðŸ’¥ï¼‰ ä¸‹ä¸€æ­¥è§‚å¯Ÿä¸Šå›¾ä¸­ç¬¬äºŒä¸ªé“¾è¡¨ï¼Œæ­¤æ—¶è¯¥é“¾è¡¨å¹¶æ²¡æœ‰åè½¬å®Œæ¯•ï¼Œæ—§é“¾è¡¨çš„å¤´èŠ‚ç‚¹è¿˜æ²¡æœ‰å˜åŒ–ï¼Œä¸‹é¢æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°±è¦å°†é“¾è¡¨å®Œå…¨åè½¬ã€‚è®©å›¾ä¸­2èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘1èŠ‚ç‚¹ï¼Œ1èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘ç©ºå°±å¯ä»¥äº†ï¼Œæœ€åŽæˆ‘ä»¬å†å°†åˆšåˆšå‚¨å­˜çš„æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹è¿”å›žå°±å¯ä»¥äº†ã€‚æœ€ç»ˆçš„é“¾è¡¨å°±æ˜¯è¿™æ ·å­çš„ï¼š æœ€åŽï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š Node reverse(Node head) &#123; if (head == null || head.next == null) return head; Node newNode = reverse(head.next); head.next.next = head; head.next = null; return newNode;&#125; è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aï¼ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æž„ã€‚ï¼ˆpsï¼šæˆ‘ä»¬çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æž„ï¼‰ å…³äºŽä»€ä¹ˆæ˜¯æ•°çš„å­ç»“æž„ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚ åœ¨ä¸€å¼€å§‹åšè¿™ä¸ªé¢˜çš„æ—¶å€™ï¼Œæˆ‘çš„æƒ³æ³•æ—¢ç„¶å‰åºåºåˆ—å’Œä¸­åºåºåˆ—å°±å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼Œé‚£ä¹ˆé€šè¿‡åˆ†åˆ«å‰åºéåŽ†å’Œä¸­åºéåŽ†åŽ»å¾—åˆ°ä¸¤ä¸ªæ•°çš„éåŽ†åºåˆ—ï¼Œç„¶è€Œè¿™ç§æ–¹æ³•æ˜¯è¡Œä¸é€šçš„ï¼Œå¾ˆå®¹æ˜“æ‰¾å‡ºåä¾‹ï¼Œä¸è¦ç”¨è¿™ç§æ–¹æ³•åŽ»åˆ¤æ–­ã€‚ æ•´ä¸ªç®—æ³•è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æžœç›¸ç­‰ï¼Œå°±ç»§ç»­åˆ¤æ–­ä¸¤ä¸ªæ ‘çš„å·¦å­©å­ã€å³å­©å­â€¦å¦åˆ™ï¼Œç›´æŽ¥ç»“æŸåˆ¤æ–­å¯¹Aæ ‘çš„æ ¹èŠ‚ç‚¹çš„å·¦å­©å­æ‰§è¡Œä¸Šé¢çš„åˆ¤æ–­ã€‚ æ­¤é¢˜éœ€è¦åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼šä¸€ä¸ªæ˜¯å¯¹Aæ ‘ä¸æ–­éåŽ†ï¼Œä¸€ä¸ªæ˜¯å¯¹ABæ ‘çš„èŠ‚ç‚¹è¿›è¡Œé€ä¸€åˆ¤æ–­ã€‚ é¦–å…ˆè§„å®šå‡½æ•°boolean HasSubtree(TreeNode root1,TreeNode root2)çš„ä½œç”¨ä¸ºè¾“å…¥æ ‘Aã€Bçš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚æžœBæ˜¯Açš„å­ç»“æž„ï¼Œè¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseã€‚ ç¬¬äºŒæ­¥ï¼Œç¡®å®šé€’å½’ç»“æŸæ¡ä»¶ï¼Œé¢˜ç›®ä¸­æåˆ°ï¼Œçº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æž„ï¼Œé‚£ä¹ˆå¯ä»¥ä»Žè¿™é‡Œå…¥æ‰‹ï¼Œå¦‚æžœAã€Bæœ‰ä»»ä½•ä¸€ä¸ªä¸ºç©ºï¼Œç›´æŽ¥è¿”å›žfalseã€‚å®žé™…ä¸Šï¼Œæ­¤å¤„çš„èŠ‚ç‚¹ä¸ºç©ºè¿˜åŒ…å«ç€å¦ä¸€ä¸ªè¯­ä¹‰ï¼Œå°±æ˜¯é€’å½’éåŽ†ç»“æŸï¼Œä¸‹é¢ä¹Ÿä¼šç”¨åˆ°è¿™ä¸ªæ¡ä»¶ã€‚çŽ°åœ¨å‡½æ•°å°±å˜æˆäº†ï¼š boolean HasSubtree(TreeNode root1,TreeNode root2) &#123; if (root1 == null || root2 == null) return false;&#125; æœ€åŽç¡®å®šè¯¥å‡½æ•°çš„ä¸»ä½“éƒ¨åˆ†ï¼Œæˆ‘ä»¬å…ˆä¸å†™å‡ºå¦ä¸€ä¸ªé€’å½’åˆ¤æ–­è¿‡ç¨‹çš„å‡½æ•°ï¼Œå…ˆå°†ç¬¬ä¸€ä¸ªé€’å½’å‡½æ•°çš„æž¶å­æ­å¥½ï¼Œåœ¨æœ¬é¢˜ä¸­ï¼Œç¼©å°é€’å½’èŒƒå›´çš„æ–¹æ³•å°±æ˜¯éåŽ†ï¼Œæ”¾åœ¨æœ¬é¢˜ä¸­å¯¹äºŒå‰æ ‘çš„éåŽ†å°±æ˜¯åˆ¤æ–­å®Œæ ¹èŠ‚ç‚¹åˆ¤æ–­å·¦å­©å­ã€å³å­©å­ï¼Œå¦‚æžœæ ¹èŠ‚ç‚¹é€šè¿‡äº†åˆ¤æ–­ï¼Œå°±è¿”å›žtrueï¼Œæ²¡æœ‰é€šè¿‡ï¼Œå°±é€’å½’åˆ¤æ–­å·¦å­©å­â€¦ä»£ç å¦‚ä¸‹ï¼ˆåˆ©ç”¨äº†é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯è¿ç®—ï¼‰ï¼š boolean HasSubtree(TreeNode root1,TreeNode root2) &#123; if (root1 == null || root2 == null) return false; return judge(root1, root2) || HasSubtree(root1.left, root2.left) || HasSubtree(root1.right, root2.right);&#125; ä¸‹é¢å°±æ˜¯è¡¥å…¨boolean judge(TreeNode root1,TreeNode root2)æ–¹æ³•äº†ï¼Œè¯¥æ–¹æ³•çš„ä½œç”¨å®žé™…ä¸Šæ˜¯è¾“å…¥ä¸¤ä¸ªäºŒå‰æ ‘ABï¼Œåªæ¯”è¾ƒæ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­Bæ˜¯å¦æ˜¯Açš„ä¸ºå­ç»“æž„ã€‚ é¦–å…ˆï¼Œç¡®å®šé€’å½’ç»“æŸæ¡ä»¶ï¼Œå› ä¸ºæ­¤å¤„ABæ ‘çš„éƒ½ä¸å¯èƒ½ä¸ºç©ºäº†ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªé€’å½’å‡½æ•°çš„åˆ¤æ–­æ¡ä»¶å°±ä¸é€‚ç”¨äº†ï¼Œç”±äºŽä»ç„¶éœ€è¦å¯¹æ ‘è¿›è¡Œé€’å½’åˆ¤æ–­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡éåŽ†ç»“æŸæ—¶å€™çš„æƒ…å†µä½œä¸ºç»“æŸæ¡ä»¶ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºï¼šå¦‚æžœAæ ‘å…ˆéåŽ†å®Œæ¯•å³root1==nullï¼Œé‚£ä¹ˆæ­¤æ—¶åº”è¯¥è¿”å›žfalseï¼›å¦‚æžœBæ ‘å…ˆéåŽ†å®Œæ¯•å³root2==nullï¼Œé‚£ä¹ˆæ­¤æ—¶åº”è¯¥è¿”å›žtrueï¼ˆå®žåœ¨ç†è§£ä¸äº†ç”»å›¾åˆ†æžä¸€ä¸‹ï¼‰ã€‚ ä¸‹é¢ï¼Œè¡¥å…¨å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œå¦‚æžœä¸¤ä¸ªæ ‘å½“å‰çš„èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œç›´æŽ¥è¿”å›žfalseï¼›å¦‚æžœç›¸ç­‰ï¼Œé€’å½’åˆ¤æ–­å·¦å­æ ‘ã€å³å­æ ‘ï¼Œå¦‚æžœéƒ½ç›¸ç­‰ï¼Œè¿”å›žtrueã€‚ å®Œæ•´ä»£ç å¦‚ä¸‹ boolean HasSubtree(TreeNode root1,TreeNode root2) &#123; if (root1 == null || root2 == null) return false; return judge(root1, root2) || HasSubtree(root1.left, root2.left) || HasSubtree(root1.right, root2.right);&#125;boolean judge(TreeNode root1,TreeNode root2) &#123; if (root2 == null) return true; if (root1 == null) return false; if (root1.val == root2.val) return judge(root1.left, root2.left) &amp;&amp; judge(root1.right, root2.right); else return false;&#125; ç†è§£ä¸Šé¢å‡ ä¸ªé¢˜ç›®åŽï¼Œé€’å½’å·®ä¸å¤šå°±å¯ä»¥å…¥é—¨äº†ï¼Œæˆ‘æ€»ç»“çš„åŠžæ³•ä¸ä¸€å®šé€‚ç”¨äºŽæ‰€æœ‰çš„é€’å½’é¢˜ç›®ï¼Œä¸å¯ç”Ÿæ¬ç¡¬å¥—ï¼Œå¤šåšé¢˜ï¼Œå¤šæ€»ç»“ç»éªŒå’Œæ–¹æ³•ã€‚ å‚è€ƒèµ„æ–™ï¼š https://www.zhihu.com/question/31412436/answer/683820765 https://zhuanlan.zhihu.com/p/86745433]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æœç´¢æ ‘]]></title>
    <url>%2F2020%2F02%2F09%2F%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%2F</url>
    <content type="text"><![CDATA[äºŒå‰æœç´¢æ ‘åŸºæœ¬æ•°æ®ç»“æž„äºŒå‰æœç´¢æ ‘(Binary Search Tree)æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œè‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ã€‚ å¦‚æžœæœ‰ä¸€ç»„æ•°ç»„ï¼š{5, 4, 7, 6, 1, 3, 9}ï¼ŒæŒ‰ç…§é¡ºåºç”Ÿæˆä¸€æ£µäºŒå‰æœç´¢æ ‘çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š æœ€åŽå°±å¾—åˆ°ä¸€æ£µä¸‹é¢çš„äºŒå‰æ ‘ï¼š ç®—æ³•æ’å…¥ æ’å…¥çš„ç®—æ³•å°±æ˜¯ä¸Šé¢å»ºç«‹ä¸€æ£µäºŒå‰æœç´¢æ ‘çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡æ’å…¥çš„æ—¶å€™é¦–å…ˆåˆ¤æ–­éœ€è¦æ’å…¥çš„èŠ‚ç‚¹å’Œæ ¹èŠ‚ç‚¹çš„å¤§å°ï¼Œå¦‚æžœå‰è€…å¤§äºŽåŽè€…ï¼Œå¹¶ä¸”å³å­©å­ä¸ç©ºï¼Œå°±è®¾ç½®ä¸ºå³å­©å­ï¼Œå³å­©å­ä¸ºç©ºéœ€è¦é€’å½’æ’å…¥ï¼Œå°äºŽçš„è¯åŒç†ã€‚ æ ¹æ®å·²æœ‰åºåˆ—åˆ›å»ºäºŒå‰æœç´¢æ ‘ æ ¹æ®å·²æœ‰åºåˆ—å¾ªçŽ¯æ’å…¥å³å¯ã€‚ æœç´¢ æ ¹æ®è¦æŸ¥æ‰¾çš„å…ƒç´ ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹æœç´¢ï¼Œæ¯”è¾ƒæœç´¢çš„å€¼å’ŒèŠ‚ç‚¹çš„å€¼ï¼Œç­‰äºŽå°±è¿”å›žå½“å‰èŠ‚ç‚¹ï¼Œæœç´¢çš„å€¼å¤§äºŽèŠ‚ç‚¹çš„å€¼å°±é€’å½’æœç´¢å·¦å­æ ‘ï¼Œå¦åˆ™é€’å½’æœç´¢å³å­æ ‘ã€‚ æ‰€æœ‰çš„ç®—æ³•å®žçŽ°å¦‚ä¸‹ï¼š BSTree.java public class BSTree&lt;T extends Comparable&lt;T&gt;&gt; &#123; /** * æ ¹èŠ‚ç‚¹ */ private TreeNode&lt;T&gt; root = null; public BSTree(TreeNode&lt;T&gt; root) &#123; this.root = root; &#125; /** * åˆ›å»ºäºŒå‰æœç´¢æ ‘ * * @param a éœ€è¦è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹ */ public void buildBSTree(List&lt;T&gt; a) &#123; for (T value : a) &#123; createBSTreeNode(root, value); &#125; &#125; /** * å¯¹å¤–æš´éœ²çš„æœç´¢æ’å…¥æ–¹æ³• * @param val è¦æ’å…¥çš„æ•°å€¼ */ public void insert(T val) &#123; createBSTreeNode(root, val); &#125; /** * å¯¹å¤–æš´éœ²çš„æœç´¢æ–¹æ³• * @param val è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ * @return è¿”å›ž val æ‰€åœ¨èŠ‚ç‚¹ */ public TreeNode&lt;T&gt; search (T val) &#123; return search(this.root, val); &#125; /** * åˆ›å»ºäºŒå‰æœç´¢æ ‘èŠ‚ç‚¹ */ private void createBSTreeNode(TreeNode&lt;T&gt; treeNode, T val) &#123; if (root == null) &#123; root = new TreeNode&lt;&gt;(val); &#125; else &#123; int result = treeNode.getData().compareTo(val); if (result &lt;= 0) &#123; if (treeNode.getRightNode() == null) &#123; // å¦‚æžœå½“å‰èŠ‚ç‚¹å³å­©å­ä¸ºç©ºï¼Œå°±ç›´æŽ¥æ’å…¥ treeNode.setRightNode(new TreeNode&lt;&gt;(val)); &#125; else &#123; // å¦‚æžœå½“å‰èŠ‚ç‚¹å³å­©å­ä¸ä¸ºç©ºï¼Œå°±é€’å½’è°ƒç”¨åˆ›å»ºèŠ‚ç‚¹çš„æ–¹æ³• createBSTreeNode(treeNode.getRightNode(), val); &#125; &#125; else &#123; if (treeNode.getLeftNode() == null) &#123; treeNode.setLeftNode(new TreeNode&lt;&gt;(val)); &#125; else &#123; createBSTreeNode(treeNode.getLeftNode(), val); &#125; &#125; &#125; &#125; /** * å¯»æ‰¾äºŒå‰æœç´¢æ ‘ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œè¿”å›žè¯¥å…ƒç´ æ‰€åœ¨èŠ‚ç‚¹ * * @param treeNode æ ¹èŠ‚ç‚¹ * @param val è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ * @return è¿”å›ž val æ‰€åœ¨èŠ‚ç‚¹ */ private TreeNode&lt;T&gt; search(TreeNode&lt;T&gt; treeNode, T val) &#123; int result = treeNode.getData().compareTo(val); if (result &lt; 0) &#123; return search(treeNode.getRightNode(), val); &#125; else if (result &gt;0) &#123; return search(treeNode.getLeftNode(), val); &#125; return treeNode; &#125;&#125;]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
        <tag>binary tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot æ•´åˆæ‹¦æˆªå™¨]]></title>
    <url>%2F2020%2F02%2F08%2FSpring%20Boot%E6%95%B4%E5%90%88%E6%8B%A6%E6%88%AA%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Spring Boot æ•´åˆæ‹¦æˆªå™¨Interceptorä»‹ç»æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰åŒè¿‡æ»¤å™¨ï¼ˆFilterï¼‰ä¸€æ ·ï¼Œéƒ½æ˜¯ AOP çš„å®žçŽ°ï¼Œå½“è¯·æ±‚å‘é€åˆ° Controller æ—¶ï¼Œåœ¨è¢« Controller å¤„ç†ä¹‹å‰ï¼Œå®ƒå¿…é¡»ç»è¿‡ Interceptorsï¼ˆ0æˆ–æ›´å¤šï¼‰ã€‚ å…³äºŽæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨åœ¨æ¡†æž¶ä¸­çš„åŒºåˆ«ï¼š Filter ä¸ä¾èµ–äºŽæ¡†æž¶ï¼Œä¾èµ–äºŽServletå®¹å™¨ã€‚ä½¿ç”¨æ—¶éœ€è¦åœ¨æ³¨å†Œbeanå¹¶åœ¨åœ¨ç±»ä¸ŠåŠ  @Componentå°±å¯ä»¥è¢«springæ¡†æž¶æ‰«æåˆ°ã€‚ Interceptor ä¾èµ–springæ¡†æž¶ï¼Œæ˜¯å»ºè®®ä¼˜å…ˆä½¿ç”¨Interceptorï¼Œè€Œä¸æ˜¯Filterã€‚æ¯•ç«Ÿæ¡†æž¶å°è£…çš„ï¼ŒæŽ¥å£åŠŸèƒ½ä¼šæ›´ä¸°å¯Œä¸€äº›ã€‚ æ›´å¤šå…³äºŽæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨çš„åŒºåˆ«ï¼Œå¯ä»¥ç§»æ­¥çŸ¥ä¹Žï¼šè¯·æ•™ä¸€ä¸‹å…³äºŽè¿‡æ»¤å™¨ï¼Œæ‹¦æˆªå™¨ï¼Œç›‘å¬å™¨å…·ä½“åº”ç”¨ä¸Šçš„åŒºåˆ«ï¼Ÿ è‡ªå®šä¹‰Interceptorå¦‚æžœéœ€è¦è‡ªå®šä¹‰Interceptorï¼Œéœ€è¦å®žçŽ° HandlerInterceptor æŽ¥å£æˆ–è€…ç»§æ‰¿ HandlerInterceptorAdapter ç±»ï¼Œå¹¶ä¸”é‡å†™ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•ï¼š default boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; return true;&#125;default void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception &#123;&#125;default void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception &#123;&#125; ä¸Šé¢çš„ preHandle æ–¹æ³•å¦‚æžœè¿”å›ž true æ„å‘³ç€è¯·æ±‚ä¼šç»§ç»­åˆ°è¾¾ Controller ï¼Œå¦åˆ™ä¸ä¼šåˆ°è¾¾ Controllerã€‚ åˆ›å»ºè‡ªå®šä¹‰ Interceptor MyInterceptor,java æ­¤ Interceptor è¿‡æ»¤æ‰€æœ‰è¯·æ±‚ã€‚ @Componentpublic class MyInterceptor implements HandlerInterceptor &#123; private String className = this.getClass().getName(); @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; System.out.println(className + "::::" + "preHandle\n"); return true; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; System.out.println(className + "::::" + "postHandler\n"); &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; System.out.println(className + "::::" + "afterCompletion\n"); &#125;&#125; OldLoginInterceptor.java æ­¤æ‹¦æˆªå™¨çš„ä½œç”¨æ˜¯ï¼šå¦‚æžœç”¨æˆ·è¾“å…¥ä¸€ä¸ªå·²ç»åºŸå¼ƒçš„è¿žæŽ¥â€/admin/oldLoginâ€ ï¼Œå°†ä¼šé‡å®šå‘åˆ°æ–°çš„â€admin/loginâ€ @Componentpublic class OldLoginInterceptor implements HandlerInterceptor &#123; private String className = this.getClass().getName(); @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; System.out.println(className + "::::" + "preHandle"); System.out.println("Request URL: " + request.getRequestURL()); System.out.println("Sorry! This URL is no longer used, Redirect to /admin/login\n"); response.sendRedirect(request.getContextPath() + "/admin/login"); return false; &#125;&#125; AdminInterceptor.java æ­¤æ‹¦æˆªå™¨çš„ä½œç”¨æ˜¯æ‹¦æˆªâ€/admin/*â€ä¸‹çš„è¯·æ±‚ã€‚ @Componentpublic class AdminInterceptor implements HandlerInterceptor &#123; private String className = this.getClass().getName(); @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; System.out.println(className + "::::" + "preHandle\n"); return true; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; System.out.println(className + "::::" + "postHandler\n"); &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; System.out.println(className + "::::" + "afterCompletion\n"); &#125;&#125; æ³¨å†Œæ‹¦æˆªå™¨@Configurationpublic class InterceptorConfig implements WebMvcConfigurer &#123; @Autowired AdminInterceptor adminInterceptor; @Autowired MyInterceptor myInterceptor; @Autowired OldLoginInterceptor oldLoginInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) &#123; registry.addInterceptor(myInterceptor); registry.addInterceptor(oldLoginInterceptor) .addPathPatterns("/admin/oldLogin"); registry.addInterceptor(adminInterceptor) .addPathPatterns("/admin/*") .excludePathPatterns("admin/oldLogin"); &#125;&#125; è‡ªå®šä¹‰ Controller éªŒè¯æ‹¦æˆªå™¨@RestControllerpublic class LoginController &#123; @GetMapping("/test") public String test() &#123; System.out.println("Now in Controller\n"); return "test"; &#125; @Deprecated @GetMapping("/admin/oldLogin") public String oldLogin(Model model) &#123; // Code here never run. return "oldLogin"; &#125; @GetMapping("/admin/login") public String login(Model model) &#123; return "login"; &#125;&#125; æµ‹è¯•å½“è®¿é—®â€/testâ€æ—¶ï¼ŒåŽå°è¾“å‡ºå¦‚ä¸‹ï¼š top.liuergo.demo.interceptor.MyInterceptor::::preHandleNow in Controllertop.liuergo.demo.interceptor.MyInterceptor::::postHandlertop.liuergo.demo.interceptor.MyInterceptor::::afterCompletion å¯ä»¥çœ‹å‡ºï¼Œåœ¨è¿›å…¥ Controller ä¹‹å‰é¦–å…ˆæ‰§è¡Œæ‹¦æˆªå™¨çš„ preHandler() æ–¹æ³•ï¼Œå¦‚æžœ preHandler() æ–¹æ³•è¿”å›ž true ï¼Œå°±ä¼šè¿›å…¥ Controller ï¼Œå½“ Controller æ‰§è¡Œå®Œæ¯•ä¹‹åŽæ‰ä¼šè¿›å…¥ postHandler() æ–¹æ³•ã€‚ ä¸‰ä¸ªæ–¹æ³•çš„ä½œç”¨ï¼š preHandleï¼šåœ¨ controller å¤„ç†è¯·æ±‚ä¹‹å‰è¢«è°ƒç”¨ã€‚é¢„å¤„ç†ï¼Œå¯ä»¥è¿›è¡Œç¼–ç ã€å®‰å…¨æŽ§åˆ¶ã€æƒé™æ ¡éªŒç­‰å¤„ç†ã€‚ postHandleï¼šåœ¨controllerå¤„ç†è¯·æ±‚æ‰§è¡Œå®ŒæˆåŽï¼Œç”Ÿæˆè§†å›¾ä¹‹å‰æ‰§è¡Œã€‚ afterCompletionï¼šåœ¨DispatcherServletå®Œå…¨å¤„ç†å®Œè¯·æ±‚åŽè¢«è°ƒç”¨ï¼Œå¯ç”¨äºŽæ¸…ç†èµ„æºç­‰ã€‚ å½“è®¿é—®â€/admin/oldLoginâ€æ—¶ï¼ŒåŽå°è¾“å‡ºå¦‚ä¸‹ï¼š top.liuergo.demo.interceptor.OldLoginInterceptor::::preHandleRequest URL: http://localhost:8080/admin/oldLoginSorry! This URL is no longer used, Redirect to /admin/logintop.liuergo.demo.interceptor.MyInterceptor::::afterCompletiontop.liuergo.demo.interceptor.MyInterceptor::::preHandletop.liuergo.demo.interceptor.AdminInterceptor::::preHandletop.liuergo.demo.interceptor.AdminInterceptor::::postHandlertop.liuergo.demo.interceptor.MyInterceptor::::postHandlertop.liuergo.demo.interceptor.AdminInterceptor::::afterCompletiontop.liuergo.demo.interceptor.MyInterceptor::::afterCompletion]]></content>
      <categories>
        <category>Spring Boot</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æ ‘]]></title>
    <url>%2F2020%2F02%2F08%2F%E4%BA%8C%E5%8F%89%E6%A0%91%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨åˆ·ç®—æ³•é¢˜ï¼Œè¶ç€è¿™ä¸ªæœºä¼šå°†æ•°æ®ç»“æž„å†å¤ä¹ ä¸€éï¼Œæ ‘è¿™ä¸€éƒ¨åˆ†å‡†å¤‡æŒ‰ç…§äºŒå‰æ ‘-&gt;äºŒå‰æœç´¢æ ‘-&gt;AVLæ ‘-&gt;çº¢é»‘æ ‘çš„é¡ºåºå­¦ä¹ ã€‚ äºŒå‰æ ‘äºŒå‰æ ‘çš„å¸¸ç”¨ç®—æ³•æ ‘çš„èŠ‚ç‚¹ç±»å¦‚ä¸‹ï¼š TreeNode.java public class TreeNode&lt;T&gt; &#123; /** * å³èŠ‚ç‚¹ */ private TreeNode&lt;T&gt; rightNode; /** * å·¦èŠ‚ç‚¹ */ private TreeNode&lt;T&gt; leftNode; /** * æ•°æ® */ private T data; public TreeNode(T data) &#123; this.data = data; &#125; // getter and setter&#125; éåŽ†äºŒå‰æ ‘çš„éåŽ†æœ‰ä¸‰ç§æ–¹å¼ï¼šå…ˆåºéåŽ†ã€ä¸­åºéåŽ†ã€åŽåºéåŽ†ã€‚è¿™é‡Œçš„å…ˆä¸­åŽéƒ½æ˜¯æŒ‡çš„æ ¹èŠ‚ç‚¹åœ¨éåŽ†ä¸­çš„é¡ºåºï¼Œå¯¹äºŽå·¦å³å­©å­çš„é¡ºåºéƒ½æ˜¯å…ˆå·¦åŽå³ï¼Œå…ˆåºéåŽ†å°±æ˜¯æŒ‰ç…§æ ¹-&gt;å·¦-&gt;å³çš„é¡ºåºï¼Œä¸­åºéåŽ†å°±æ˜¯æŒ‰ç…§å·¦-&gt;ä¸­-&gt;å³çš„é¡ºåºï¼ŒåŽåºéåŽ†å°±æ˜¯å·¦-&gt;å³-&gt;ä¸­çš„é¡ºåºã€‚ å¦‚æžœæœ‰ä¸‹é¢çš„ä¸€æ£µäºŒå‰æ ‘ï¼Œä¸‹é¢åˆ†åˆ«ä½¿ç”¨é€’å½’å’Œéžé€’å½’æ–¹å¼éåŽ†è¿™æ£µæ ‘ã€‚ é€’å½’æ–¹å¼ ä½¿ç”¨é€’å½’æ–¹å¼éåŽ†å°±éžå¸¸ç®€å•äº†ï¼Œå¦‚æžœé€’å½’ç†è§£ä¸äº†å¯ä»¥å¤šåšä¸€äº›é€’å½’çš„é¢˜ç›®ç»ƒä¹ ã€‚ å…ˆåºéåŽ† public void preorderTraversal(TreeNode&lt;?&gt; root) &#123; if (root != null) &#123; System.out.print(root.getData()); preorderTraversal(root.getLeftNode()); preorderTraversal(root.getRightNode()); &#125;&#125; éžé€’å½’æ–¹å¼(å±‚æ¬¡éåŽ†) éžé€’å½’æ–¹å¼ç›¸å¯¹äºŽé€’å½’æ–¹å¼æ¥è¯´å°±ç¨å¾®æœ‰äº›éº»çƒ¦äº†ï¼Œéœ€è¦ç”¨åˆ°é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„æ€§è´¨ã€‚ åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿã€‚ å°†é˜Ÿé¦–çš„èŠ‚ç‚¹å‡ºé˜Ÿï¼Œæ¯æ¬¡å‡ºé˜Ÿä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å°†å…¶å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿ(å¦‚æžœå­˜åœ¨çš„è¯)ã€‚ é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œå°±éåŽ†å®Œäº†æ‰€æœ‰çš„å…ƒç´ ã€‚ è¿˜æ˜¯ä»¥ä¸Šé¢çš„äºŒå‰æ ‘ä¸ºä¾‹ï¼Œå±‚æ¬¡éåŽ†çš„è¿‡ç¨‹å¦‚ä¸‹ ä»£ç å¦‚ä¸‹ï¼š public static &lt;T&gt; ArrayList&lt;T&gt; levelTraversal(TreeNode&lt;T&gt; root) &#123; ArrayList&lt;T&gt; resultList = new ArrayList&lt;&gt;(); if (root == null) return resultList; Queue&lt;TreeNode&lt;T&gt;&gt; queue = new LinkedList&lt;&gt;(); queue.add(root); while (!queue.isEmpty()) &#123; TreeNode&lt;T&gt; treeNode = queue.poll(); resultList.add(treeNode.getData()); if (treeNode.getLeftNode() != null) queue.add(treeNode.getLeftNode()); if (treeNode.getRightNode() != null) queue.add(treeNode.getRightNode()); &#125; return resultList;&#125; å…¶ä»–ç®—æ³•è®¡ç®—æ ‘çš„æ·±åº¦ è¯¥ç®—æ³•ä¹Ÿæ˜¯ä½¿ç”¨é€’å½’çš„æ–¹å¼ï¼Œéœ€è¦æ¯”è¾ƒå·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ï¼Œå¤§çš„æ‰æ˜¯æ•°çš„æ·±åº¦ã€‚ public static &lt;T&gt; int getDepth(TreeNode&lt;T&gt; root) &#123; if (root == null) &#123; return 0; &#125; else &#123; int leftDepth = getDepth(root.getLeftNode()); int rightDepth = getDepth(root.getRightNode()); return Math.max(leftDepth, rightDepth) + 1; &#125;&#125; æµ‹è¯• ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯JUnit 5ã€‚ public class BTreeTest &#123; private TreeNode&lt;String&gt; root = new TreeNode&lt;String&gt;("A"); @BeforeEach public void init() &#123; TreeNode&lt;String&gt; node1 = new TreeNode&lt;String&gt;("B"); TreeNode&lt;String&gt; node2 = new TreeNode&lt;String&gt;("C"); TreeNode&lt;String&gt; node3 = new TreeNode&lt;String&gt;("D"); TreeNode&lt;String&gt; node4 = new TreeNode&lt;String&gt;("E"); TreeNode&lt;String&gt; node5 = new TreeNode&lt;String&gt;("F"); TreeNode&lt;String&gt; node6 = new TreeNode&lt;String&gt;("G"); TreeNode&lt;String&gt; node7 = new TreeNode&lt;String&gt;("V"); root.setChildren(node1, node2); node1.setChildren(node3, node4); node2.setChildren(node5, node6); node6.setRightNode(node7); &#125; @Test public void traversal() &#123; System.out.print("å‰åºéåŽ†::"); BTreeUtils.preorderTraversal(root); System.out.println(); System.out.print("ä¸­åºéåŽ†::"); BTreeUtils.inorderTraversal(root); System.out.println(); System.out.print("åŽåºéåŽ†::"); BTreeUtils.postorderTraversal(root); System.out.println(); System.out.print("å±‚æ¬¡éåŽ†::"); System.out.println(BTreeUtils.levelTraversal(root)); &#125;&#125; æµ‹è¯•ç»“æžœå¦‚ä¸‹ï¼š æ€»ç»“åœ¨äºŒå‰æ ‘ä¸­ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªæ€æƒ³å°±æ˜¯é€’å½’ï¼Œé²è¿…è¯´è¿‡ï¼šâ€œäººç†è§£è¿­ä»£ï¼Œç¥žç†è§£é€’å½’â€(é²è¿…ï¼šæˆ‘æ²¡è¯´è¿‡)ï¼Œé€’å½’è™½éš¾ç†è§£ï¼Œä½†æ˜¯æ˜¯å¾ˆé‡è¦çš„ä¸€ç§æ€æƒ³ï¼Œç­‰å¤šåˆ·äº›é¢˜ç›®ä¹‹åŽï¼Œä¼šå†å¯¹é€’å½’åšä¸€ä¸ªå…¨é¢çš„æ€»ç»“ã€‚]]></content>
      <categories>
        <category>algorithm</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
        <tag>binary tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Graphvizä¼˜é›…åœ°ç»˜åˆ¶äºŒå‰æ ‘]]></title>
    <url>%2F2020%2F02%2F08%2F%E4%BD%BF%E7%94%A8Graphviz%E4%BC%98%E9%9B%85%E5%9C%B0%E7%BB%98%E5%88%B6%E4%BA%8C%E5%8F%89%E6%A0%91%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨Graphvizä¼˜é›…åœ°ç»˜åˆ¶äºŒå‰æ ‘æœ¬æ–‡é‡ç‚¹è®²è¿°ä½¿ç”¨Graphvizç»˜åˆ¶äºŒå‰æ ‘çš„æœ€ä½³å§¿åŠ¿z å®‰è£…Graphviz Windowsï¼šhttps://graphviz.gitlab.io/_pages/Download/Download_windows.html Linuxï¼šsudo apt-get install graphviz é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦VSCodeï¼Œæ²¡æœ‰å®‰è£…çš„å¯ä»¥è‡ªè¡ŒåŽ»å®˜ç½‘ä¸‹è½½ã€‚ é…ç½® VSCodeåœ¨VSCodeå¯ä»¥ä¸‹è½½ä¸€ä¸ªGraphvizå³æ—¶æ¸²æŸ“çš„å·¥å…·ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ 1 å®‰è£…æ’ä»¶ å®‰è£…æ’ä»¶Graphviz Previewå’ŒGraphviz (dot) language support for Visual Studio Codeï¼Œç¬¬äºŒä¸ªæ˜¯é’ˆå¯¹.dotæ–‡ä»¶çš„é«˜äº®æ’ä»¶ã€‚ 2 é…ç½®settings.json Ctrl + Shift + p æ‰“å¼€è¾“å…¥Open Settingsï¼Œæ‰“å¼€settings.jsonæ–‡ä»¶ï¼ŒåŠ å…¥&quot;graphvizPreview.dotPath&quot;:&quot;...(ä½ çš„Graphvizå®‰è£…è·¯å¾„)\\bin\\dot.exe&quot;ï¼ŒVSCodeçš„é…ç½®å°±å®Œæˆäº†ã€‚ ç¼–å†™dotæ–‡ä»¶æ­¤å¤„åªç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè¯­æ³•è®²è§£ï¼Œæœ¬èº«Graphvizçš„è¯­æ³•ä¹Ÿä¸éš¾ï¼Œæœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡Œå­¦ä¹  graph binary_tree&#123; node[shape=circle]; A -- B A -- C B -- D B -- E C -- F C -- G&#125; ç¼–è¾‘å®ŒæˆåŽåœ¨VSCodeä¸­æ‰“å¼€ï¼Œä½¿ç”¨æœç´¢graphvizå¿«æ·é”®Ctrl + K, Vã€‚å°±å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„é¢„è§ˆï¼Œå¯¹dotæ–‡ä»¶çš„ä¿®æ”¹ä¼šå³æ—¶æ¸²æŸ“ã€‚ç‚¹å‡»å³ä¸Šè§’çš„Exportå¯ä»¥ç›´æŽ¥å¯¼å‡ºæ–‡ä»¶ã€‚ ç¾ŽåŒ–äºŒå‰æ ‘å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ç”»å‡ºçš„äºŒå‰æ ‘è¿˜æ˜¯å¾ˆä¸‘ï¼Œç½‘ä¸Šæœ‰ä¸ªå¤§ä½¬å†™çš„è„šæœ¬å¯ä»¥å°†graphvizç”Ÿæˆçš„äºŒå‰æ ‘å˜å¾—æ›´æ¼‚äº®ã€‚ å°†ä¸‹é¢çš„å†…å®¹ä¿å­˜ä¸ºbinarytree.gvprã€‚ // from Emden Gansner// https://mailman.research.att.com/pipermail/graphviz-interest/2010q2/007101.html// requires GraphViz 2.28.0 (fails with 2.26.3 at least)BEGIN &#123; double tw[node_t]; // width of tree rooted at node double nw[node_t]; // width of node double xoff[node_t]; // x offset of root from left side of its tree double sp = 36; // extra space between left and right subtrees double wd, w, w1, w2; double x, y, z; edge_t e1, e2; node_t n;&#125;BEG_G &#123; $.bb = &quot;&quot;; $tvtype=TV_postfwd; // visit root after all children visited&#125;N &#123; sscanf ($.width, &quot;%f&quot;, &amp;w); w *= 72; // convert inches to points nw[$] = w; if ($.outdegree == 0) &#123; tw[$] = w; xoff[$] = w/2.0; &#125; else if ($.outdegree == 1) &#123; e1 = fstout($); w1 = tw[e1.head]; tw[$] = w1 + (sp+w)/2.0; if (e1.side == &quot;left&quot;) xoff[$] = tw[$] - w/2.0; else xoff[$] = w/2.0; &#125; else &#123; e1 = fstout($); w1 = tw[e1.head]; e2 = nxtout(e1); w2 = tw[e2.head]; wd = w1 + w2 + sp; if (w &gt; wd) wd = w; tw[$] = wd; xoff[$] = w1 + sp/2.0; &#125;&#125;BEG_G &#123; $tvtype=TV_fwd; // visit root first, then children&#125;N &#123; if ($.indegree == 0) &#123; sscanf ($.pos, &quot;%f,%f&quot;, &amp;x, &amp;y); $.pos = sprintf(&quot;0,%f&quot;, y); &#125; if ($.outdegree == 0) return; sscanf ($.pos, &quot;%f,%f&quot;, &amp;x, &amp;y); wd = tw[$]; e1 = fstout($); n = e1.head; sscanf (n.pos, &quot;%f,%f&quot;, &amp;z, &amp;y); if ($.outdegree == 1) &#123; if (e1.side == &quot;left&quot;) n.pos = sprintf(&quot;%f,%f&quot;, x - tw[n] - sp/2.0 + xoff[n], y); else n.pos = sprintf(&quot;%f,%f&quot;, x + sp/2.0 + xoff[n], y); &#125; else &#123; n.pos = sprintf(&quot;%f,%f&quot;, x - tw[n] - sp/2.0 + xoff[n], y); e2 = nxtout(e1); n = e2.head; sscanf (n.pos, &quot;%f,%f&quot;, &amp;z, &amp;y); n.pos = sprintf(&quot;%f,%f&quot;, x + sp/2.0 + xoff[n], y); &#125;&#125; è¿™æ ·ï¼Œåœ¨ç”ŸæˆäºŒå‰æ ‘çš„æ—¶å€™ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ¯”è¾ƒæ¼‚äº®çš„äºŒå‰æ ‘äº† dot test.dot | gvpr -c -f binarytree.gvpr | neato -n -Tpng -o tree.png æ€»ç»“æ‰€ä»¥æœ€èˆ’æœçš„å§¿åŠ¿å°±æ˜¯åœ¨VSCodeä¸­ç›´æŽ¥ç¼–è¾‘dotæ–‡ä»¶ï¼Œå¯ä»¥å³æ—¶é¢„è§ˆæ ‘çš„ç»“æž„å’ŒåŸºæœ¬å½¢çŠ¶ï¼Œéœ€è¦è¾“å‡ºçš„æ—¶å€™ç›´æŽ¥ä½¿ç”¨VSCodeé›†æˆçš„ç»ˆç«¯ï¼ˆåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯wslï¼‰ç”Ÿæˆå›¾ç‰‡ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶å¤¹ä½œä¸ºå·¥ä½œåŒºï¼Œå¹¶æŠŠè„šæœ¬æ–‡ä»¶å°±æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ›´åŠ æ–¹ä¾¿ç»˜åˆ¶ã€‚]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>Graphviz</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot æ•´åˆè¿‡æ»¤å™¨]]></title>
    <url>%2F2020%2F02%2F07%2FSpring%20Boot%E6%95%B4%E5%90%88%E8%BF%87%E6%BB%A4%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Spring Bootæ•´åˆè¿‡æ»¤å™¨Filterçš„æ¦‚å¿µå°±ä¸å¤šä»‹ç»äº†ï¼ŒFilter è¿‡æ»¤å™¨æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹â€”â€”AOP çš„å…·ä½“å®žçŽ°ã€‚ Filter ä½¿ç”¨å®žçŽ°ä¸€ä¸ªè¿‡æ»¤å™¨åªéœ€è¦å®žçŽ° Filter æŽ¥å£ï¼Œé‡å†™ä¸‰ä¸ªæ–¹æ³•å°±å¯ä»¥ã€‚ @Componentpublic class MyFilter implements Filter &#123; // åˆå§‹åŒ–è¿‡æ»¤å™¨æ—¶çš„æ“ä½œ @Override public void init(FilterConfig filterConfig) throws ServletException &#123; &#125; // å¯¹è¯·æ±‚è¿›è¡Œè¿‡æ»¤ @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; &#125; // è¿‡æ»¤å™¨é”€æ¯ä¹‹åŽçš„æ“ä½œ @Override public void destroy() &#123; &#125;&#125; è‡ªå®šä¹‰Filteråœ¨ Spring Boot ä¸­å®žçŽ°ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œæœ‰ä¸‹é¢ä¸¤ç§æ–¹å¼ã€‚ 1. æ‰‹åŠ¨æ³¨å†Œé…ç½®å®žçŽ° Filter æŽ¥å£ï¼Œå¹¶é‡å†™å…¶ä¸­çš„ä¸‰ä¸ªæ–¹æ³•ã€‚ @Componentpublic class MyFilter implements Filter &#123; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; System.out.println("åˆå§‹åŒ–è¿‡æ»¤å™¨ï¼š" + filterConfig.getFilterName()); &#125; @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; System.out.println("è¿‡æ»¤å™¨å¼€å§‹å¯¹è¯·æ±‚è¿›è¡Œé¢„å¤„ç†"); HttpServletRequest request = (HttpServletRequest) servletRequest; String requestUri = request.getRequestURI(); System.out.println("è¯·æ±‚çš„æŽ¥å£ä¸ºï¼š" + requestUri); long startTime = System.currentTimeMillis(); //é€šè¿‡ doFilter æ–¹æ³•å®žçŽ°è¿‡æ»¤åŠŸèƒ½ filterChain.doFilter(servletRequest, servletResponse); // ä¸Šé¢çš„ doFilter æ–¹æ³•æ‰§è¡Œç»“æŸåŽç”¨æˆ·çš„è¯·æ±‚å·²ç»è¿”å›ž long endTime = System.currentTimeMillis(); System.out.println("è¯¥ç”¨æˆ·çš„è¯·æ±‚å·²ç»å¤„ç†å®Œæ¯•ï¼Œè¯·æ±‚èŠ±è´¹çš„æ—¶é—´ä¸ºï¼š" + (endTime - startTime)); &#125; @Override public void destroy() &#123; System.out.println("é”€æ¯è¿‡æ»¤å™¨"); &#125;&#125; åœ¨é…ç½®ç±»ä¸­æ³¨å†Œè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ @Configurationpublic class MyFilterConfig &#123; @Autowired MyFilter myFilter; @Bean public FilterRegistrationBean&lt;MyFilter&gt; myFilterFilterRegistrationBean() &#123; FilterRegistrationBean&lt;MyFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;(); filterRegistrationBean.setFilter(myFilter); filterRegistrationBean.setUrlPatterns(new ArrayList&lt;&gt;(Collections.singletonList("/api/*"))); return filterRegistrationBean; &#125;&#125; 2. ä½¿ç”¨ @WebFilter æ³¨è§£@WebFilter(filterName = "MyFilterWithAnnotation", urlPatterns = "/api/*")public class MyFilterWithAnnotation implements Filter &#123; ...&#125; æ­¤å¤–ï¼Œè¿˜éœ€è¦åœ¨ Spring Boot çš„å¯åŠ¨ç±»ä¸­æ·»åŠ  @ServletComponentScan æ³¨è§£ã€‚ è‡ªå®šä¹‰ Controller éªŒè¯è¿‡æ»¤å™¨@RestController@RequestMapping("/api")public class MyController &#123; @GetMapping("/hello") public String hello() &#123; return "hello"; &#125;&#125; æŽ§åˆ¶å°çš„è¾“å‡ºï¼š]]></content>
      <categories>
        <category>Spring Boot</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JPAè¿žè¡¨æŸ¥è¯¢å’Œåˆ†é¡µ]]></title>
    <url>%2F2020%2F02%2F06%2FJPA%E8%BF%9E%E8%A1%A8%E6%9F%A5%E8%AF%A2%E5%92%8C%E5%88%86%E9%A1%B5%2F</url>
    <content type="text"><![CDATA[æ­¤èŠ‚æ˜¯åœ¨Spring Data JPAå­¦ä¹ çš„åŸºç¡€ä¸Šå†™çš„ ç›¸å…³å®žä½“ç±» Person.java /** * @author LiuZhongYue * @date 2020/02/06 */@Data@Entity@Builder(toBuilder = true)@AllArgsConstructor@NoArgsConstructorpublic class Person &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private long id; @Column(unique = true) private String name; private int age; private Long companyId; private Long schoolId; public Person(String name, Integer age) &#123; this.name = name; this.age = age; &#125;&#125; Company.java /** * å…¬å¸ç±» * * @author LiuZhongYue * @date 2020/02/06 */@Data@Entity@NoArgsConstructorpublic class Company &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; @Column(unique = true) private String companyName; private String description; public Company(String companyName, String description) &#123; this.companyName = companyName; this.description = description; &#125;&#125; School.java /** * å­¦æ ¡ç±» * * @author LiuZhongYue * @date 2020/02/06 */@Data@Entity@NoArgsConstructorpublic class School &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; @Column(unique = true) private String schoolName; private String description; public School(String schoolName, String description) &#123; this.schoolName = schoolName; this.description = description; &#125;&#125; å¤šè¡¨è”æŸ¥å®žçŽ° é¦–å…ˆå»ºç«‹ä¸€ä¸ªUserDTOç”¨æ¥å‚¨å­˜è”æŸ¥åŽçš„ç»“æžœã€‚ UserDTO.java /** * @author LiuZhongYue * @date 2020/02/06 */@Data@NoArgsConstructor@AllArgsConstructor@Builder(toBuilder = true)public class UserDTO &#123; private String name; private int age; private String companyName; private String schoolName;&#125; åœ¨PersonRepositoryæŽ¥å£ä¸­å¢žåŠ ä¸‹é¢çš„æ–¹æ³• @Query("select new top.liuergo.demo.DTO.UserDTO" + "(p.name, p.age, c.companyName, s.schoolName) " + "from Person p " + "left join Company c on p.companyId = c.id " + "left join School s on p.schoolId = s.id " + "where p.id = :id")Optional&lt;UserDTO&gt; findUserInformation(@Param("id") Long personId); ä¸Šé¢çš„ sql è¯­å¥ä¸­æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼š select åŽé¢ new äº†ä¸€ä¸ª UserDTO å¯¹è±¡ï¼Œç›´æŽ¥å°† sql è¿”å›žçš„æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ UserDTO å¯¹è±¡ä¸Šã€‚ æ³¨æ„ left join çš„ä½¿ç”¨ï¼Œè¿™æ ·å¦‚æžœä¸€ä¸ªç”¨æˆ·æ²¡æœ‰è®¾ç½® compnayId æˆ–è€… schoolIdï¼Œä¹Ÿä¼šè¿”å›žç›¸åº”çš„ç»“æžœï¼Œæ³¨æ„æ ¹æ®ä¸šåŠ¡ä½¿ç”¨ä¸åŒçš„è¿žæŽ¥æ–¹æ³•ã€‚ åˆ†é¡µå®žçŽ°@Query(value = "select new top.liuergo.demo.DTO.UserDTO" + "(p.name, p.age, c.companyName, s.schoolName) " + "from Person p " + "left join Company c on p.companyId = c.id " + "left join School s on p.schoolId = s.id ", countQuery = "select count(p.id) " + "from Person p " + "left join Company c on p.companyId = c.id " + "left join School s on p.schoolId = s.id")Page&lt;UserDTO&gt; getUserInformationList(Pageable pageable); ä¸ºäº†å®žçŽ°åˆ†é¡µï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªPageableå‚æ•°ï¼Œå¯¹äºŽå…¶ä¸­çš„countQueryå±žæ€§ï¼Œæºç ä¸­æ˜¯è¿™æ ·è§£é‡Šçš„ï¼š Defines a special count query that shall be used for pagination queries to lookup the total number of elements for a page. If non is configured we will derive the count query from the original query or {@link #countProjection()} query if any. å¤§ä½“æ„æ€å°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªå¯èƒ½è¢«åˆ†é¡µæŸ¥è¯¢ç”¨åˆ°çš„ç‰¹æ®Šçš„ sql è¯­å¥ï¼Œå…¶ä½œç”¨æ˜¯ä¸ºäº†æŸ¥è¯¢æ¯ä¸ªé¡µé¢çš„å…ƒç´ æ€»æ•°ï¼Œå¦‚æžœä½ ä¸è®¾ç½®è¿™ä¸ªå±žæ€§JPAä¼šç›´æŽ¥ä»ŽåŽŸå§‹çš„ sql ä¸­è‡ªåŠ¨èŽ·å–ã€‚ åˆ†é¡µä½¿ç”¨ï¼š PageRequest pageRequest = PageRequest.of(2, 10, Sort.Direction.DESC, "age");Page&lt;UserDTO&gt; result = personRepository.getUserInformationList(pageRequest);System.out.println("æ€»é¡µæ•°ï¼š" + result.getTotalPages());System.out.println(result.getContent());]]></content>
      <categories>
        <category>Java Web</category>
      </categories>
      <tags>
        <tag>Java Web</tag>
        <tag>Spring Data JPA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Data JPA å­¦ä¹ ]]></title>
    <url>%2F2020%2F02%2F05%2FSpring%20Data%20JPA%2F</url>
    <content type="text"><![CDATA[å®˜æ–¹æ–‡æ¡£ï¼š https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference JPAï¼ŒJava Persistence APIï¼ˆJavaæŒä¹…å±‚APIï¼‰çš„ç®€ç§°ã€‚ ç›¸å…³ä¾èµ–&lt;!--è¿™é‡Œä½¿ç”¨mysqlæ•°æ®åº“--&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt; é…ç½®æ•°æ®åº“è¿žæŽ¥ä¿¡æ¯å’ŒJPA# mysqlæ•°æ®åº“è¿žæŽ¥ç›¸å…³é…ç½®spring.datasource.url=jdbc:mysql://localhost:3306/springboot_jpa?useSSL=false&amp;serverTimezone=CTTspring.datasource.username=rootspring.datasource.password=123456# æ‰“å°å‡º sql è¯­å¥spring.jpa.show-sql=truespring.jpa.hibernate.ddl-auto=createspring.jpa.open-in-view=false# åˆ›å»ºçš„è¡¨çš„ ENGINE ä¸º InnoDBspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect spring.jpa.hibernate.ddl-autoé€‰é¡¹æœ‰å››ä¸ªå¸¸ç”¨çš„å±žæ€§ï¼š create:æ¯æ¬¡é‡æ–°å¯åŠ¨é¡¹ç›®éƒ½ä¼šé‡æ–°åˆ›æ–°è¡¨ç»“æž„ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤± create-drop:æ¯æ¬¡å¯åŠ¨é¡¹ç›®åˆ›å»ºè¡¨ç»“æž„ï¼Œå…³é—­é¡¹ç›®åˆ é™¤è¡¨ç»“æž„ update:æ¯æ¬¡å¯åŠ¨é¡¹ç›®ä¼šæ›´æ–°è¡¨ç»“æž„ validate:éªŒè¯è¡¨ç»“æž„ï¼Œä¸å¯¹æ•°æ®åº“è¿›è¡Œä»»ä½•æ›´æ”¹ æ³¨ï¼šåœ¨ç”Ÿäº§çŽ¯å¢ƒä¸è¦ä½¿ç”¨ ddl è‡ªåŠ¨ç”Ÿæˆè¡¨ç»“æž„ã€‚ åˆ›å»ºå®žä½“ç±»package top.liuergo.demo.entity;import lombok.Data;import lombok.NoArgsConstructor;import javax.persistence.*;/** * @author LiuZhongYue * @date 2020/02/06 */@Data@Entity@NoArgsConstructorpublic class Person &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private long id; @Column(unique = true) private String name; @Column private int age; public Person(String name, Integer age) &#123; this.name = name; this.age = age; &#125;&#125; @Entityï¼šè¡¨ç¤ºè¯¥ç±»æ˜¯æ•°æ®åº“æŒä¹…åŒ–ç±»ã€‚ @Idï¼šæŒ‡æ˜ŽæŸå­—æ®µä¸ºä¸»é”®id @GeneratedValue(strategy = GenerationType.IDENTITY)ï¼šé…ç½®è‡ªåŠ¨å¢žé•¿çš„ä¸»é”® æ­¤æ—¶è¿è¡Œé¡¹ç›®å¦‚æžœå¯ä»¥çœ‹åˆ°æŽ§åˆ¶å°æ‰“å°å‡ºäº†å»ºè¡¨çš„DDLå°±è¯´æ˜Žä¸Šé¢çš„æ­¥éª¤æ²¡æœ‰é—®é¢˜ã€‚ Hibernate: drop table if exists personHibernate: create table person ( id bigint not null auto_increment, age integer, name varchar(255), primary key (id)) engine=InnoDBHibernate: alter table person add constraint UK_p0wr4vfyr2lyifm8avi67mqw5 unique (name) å®žçŽ°æ“ä½œæ•°æ®åº“çš„ Repository æŽ¥å£@Repositorypublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; &#123;&#125; JpaRepositoryæŽ¥å£ç»§æ‰¿äº†PagingAndSortingRepository&lt;T, ID&gt;ã€QueryByExampleExecutor&lt;T&gt;æŽ¥å£ï¼Œåªè¦ç»§æ‰¿äº†JpaRepositoryæŽ¥å£ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸºæœ¬çš„å¢žåˆ æŸ¥æ”¹ã€åˆ†é¡µæŸ¥è¯¢ç­‰ç­‰ã€‚ ç®€å•CRUDé¦–å…ˆç¼–å†™ä¸€ä¸ªæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯• @SpringBootTest(classes = DemoApplication.class)@RunWith(SpringRunner.class)@TestPropertySource(locations = &#123;"classpath:application.properties"&#125;)public class DemoApplicationTests &#123; @Autowired PersonRepository personRepository; @Test public void jpaTest() &#123; &#125;&#125; ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“ Person person = new Person("Jack", 22);personRepository.save(person); è¯¥æ–¹æ³•æ‰€å¯¹åº”çš„ sql è¯­å¥å°±æ˜¯insert into person (age, name) values (?, ?)ï¼Œåœ¨æŽ§åˆ¶å°ä¹Ÿå¯ä»¥çœ‹åˆ°æ‰“å°ã€‚ æ ¹æ® id æŸ¥æ‰¾ç”¨æˆ· Optional&lt;Person&gt; personOptional = personRepository.findById(id);personOptional.ifPresent(value -&gt; System.out.println(value.getName())); ä¸Šè¿°æ–¹æ³•å°±å¯ä»¥æ‰“å°å‡ºç›¸åº” id çš„ nameï¼ŒfindById()æ–¹æ³•è¿”å›žçš„æ˜¯Optionalç±»åž‹çš„å¯¹è±¡ï¼Œé€šè¿‡get()æ–¹æ³•å°±å¯ä»¥å–å¾—ç›¸åº”çš„Personå¯¹è±¡ï¼Œä½†æ˜¯æ³¨æ„è¦ä½¿ç”¨ifPresent()æ–¹æ³•å¯¹å…¶è¿›è¡Œåˆ¤ç©ºï¼Œå¦åˆ™å¦‚æžœfindById()æ–¹æ³•æ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„å¯¹è±¡ä¿¡æ¯å°±ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ï¼Œå¦‚æžœä¸æƒ³æŠ›å‡ºå¼‚å¸¸å°±è¦ä½¿ç”¨ifPresent()æ–¹æ³•ï¼Œå»ºè®®é…åˆlambadaè¡¨è¾¾å¼è¿›è¡Œä¹¦å†™ã€‚ æ ¹æ® id åˆ é™¤ç”¨æˆ· personRepository.deleteById(id); å¯¹åº”çš„ sql è¯­å¥ï¼šdelete from person where id=? æ›´æ–°ç”¨æˆ· æ›´æ–°æ“ä½œä¹Ÿæ˜¯é€šè¿‡save()æ–¹æ³•å®žçŽ°çš„ Person person = new Person("Jack", 12);personRepository.save(person);// æ›´æ–°personçš„nameå­—æ®µperson.setName("JJJJack");personRepository.save(person); è‡ªå®šä¹‰ SQL è¯­å¥ æ ¹æ® name æŸ¥æ‰¾ Person @Query("select p from Person p where p.name = :name")Optional&lt;Person&gt; findByName(@Param("name") String name); æ ¹æ® id æ›´æ–° name @Modifying@Transactional@Query("update Person p set p.name = :name where p.id = :id")void updateNameById(@Param("name") String name, @Param("id") Long id); æ³¨æ„ä¸€å®šè¦åŠ ä¸Š@Modifyingå’Œ@Transcationalæ³¨é‡Šï¼Œå¦åˆ™ä¼šæŠ¥Not supported for DML operationsçš„é”™è¯¯ï¼Œå› ä¸ºJPAè¦æ±‚ï¼Œâ€æ²¡æœ‰äº‹åŠ¡æ”¯æŒï¼Œä¸èƒ½æ‰§è¡Œæ›´æ–°å’Œåˆ é™¤æ“ä½œâ€œï¼Œå¢žåˆ æ”¹æŸ¥é™¤äº†æŸ¥éƒ½æ˜¯äº‹åŠ¡çº§åˆ«çš„ï¼Œéƒ½éœ€è¦åŠ ä¸Š@Transcationaæ³¨é‡Šï¼Œæ³¨æ„è¯¥æ³¨é‡Šåº”è¯¥åŠ è½½Serviceå±‚ï¼Œæ­¤å¤„æ²¡æœ‰Serviceå±‚ï¼Œæ‰€ä»¥ç›´æŽ¥åŠ åœ¨äº†daoå±‚ã€‚ æ³¨æ„äº‹é¡¹ä»¥åŠè¸©å‘ æ³¨æ„Optionalç±»çš„ä½¿ç”¨ï¼Œä¸»è¦æ˜¯ifPresent()å’Œget()æ–¹æ³•çš„é…åˆä½¿ç”¨ï¼Œä¹‹åŽä¼šä¸“é—¨å¯¹è¯¥ç±»è¿›è¡Œæ€»ç»“ã€‚ æ³¨æ„@Transcationalæ³¨é‡Šçš„ä½¿ç”¨ï¼Œå¢žåˆ æ”¹éƒ½éœ€è¦äº‹åŠ¡çš„æ”¯æŒã€‚]]></content>
      <categories>
        <category>Spring Boot</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
        <tag>JPA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitå‘½ä»¤æ•´ç†]]></title>
    <url>%2F2020%2F02%2F04%2Fgit%E5%91%BD%E4%BB%A4%E6%95%B4%E5%90%88%2F</url>
    <content type="text"><![CDATA[git å®˜æ–¹æŒ‡å—ï¼šhttps://git-scm.com/book/zh/v2/ é…ç½®å‘½ä»¤1. æŸ¥çœ‹é…ç½®ä¿¡æ¯# æŸ¥çœ‹æ‰€æœ‰é…ç½®git config --list# æŸ¥çœ‹ç”¨æˆ·ågit config user.name# æŸ¥çœ‹é‚®ç®±git config user.email 2. å…¨å±€é…ç½®ç”¨æˆ·åå’Œé‚®ç®±# å…¨å±€é…ç½®ç”¨æˆ·ågit config --global user.name "username"# å…¨å±€é…ç½®é‚®ç®±git config --global user.email "xxx@xxx.com" åŸºæœ¬å‘½ä»¤1. æŸ¥çœ‹çŠ¶æ€# æŸ¥çœ‹å½“å‰æ–‡ä»¶çŠ¶æ€git status# ä½œç”¨åŒä¸Šï¼Œè¾“å‡ºä¿¡æ¯æ›´åŠ ç®€çŸ­git status -s 2. è·Ÿè¸ªæ–‡ä»¶# è·Ÿè¸ªæ–‡ä»¶ï¼Œå°†æ–‡ä»¶å‚¨å­˜åœ¨æš‚å­˜åŒºgit add README.MD# è·Ÿè¸ªæ‰€æœ‰æ–‡ä»¶(ä¸€èˆ¬ä¸è¦ç”¨)git add . 3. æäº¤æ–‡ä»¶# å¯åŠ¨æ–‡æœ¬ç¼–è¾‘å™¨ä»¥ä¾¿è¾“å…¥æœ¬æ¬¡æäº¤çš„è¯´æ˜Žgit commit# ç›´æŽ¥å°†æœ¬æ¬¡æäº¤è¯´æ˜Žå†™åœ¨-mä¹‹åŽ(æ­¤æ–¹æ³•ä½¿ç”¨çš„æ¯”è¾ƒå¤š)git commit -m "added new benchmarks"# æŠŠæ‰€æœ‰å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ä¸€å¹¶æäº¤ï¼Œä»Žè€Œè·³è¿‡ git add æ­¥éª¤git commit -a -m "added new benchmarks" 4. æŸ¥çœ‹æäº¤åŽ†å²git log# ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤git log -(n) 5. æ’¤é”€æ“ä½œ# å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶git reset HEAD &lt;file&gt;ã€# æ’¤é”€å¯¹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹git checkout -- README.MD 6. ç‰ˆæœ¬å›žé€€# ç‰ˆæœ¬å›žé€€ï¼Œå›žé€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬git reset --hard HEAD^# ç‰ˆæœ¬å›žé€€ï¼Œidä¸ºç‰ˆæœ¬å·æˆ–è€…æ“ä½œå·git reset --hart &lt;id&gt;# æŸ¥çœ‹æ“ä½œè®°å½•git reflog SSHå…¬é’¥# ç”ŸæˆSSHå…¬é’¥ï¼Œé»˜è®¤å‚¨å­˜åœ¨~/.sshç›®å½•ä¸‹ssh-keygen -t rsa -b 4096 -C "your_email@example.com"# æ£€éªŒå…¬é’¥æ˜¯å¦é…ç½®æˆåŠŸssh -T git@github.com ç‰ˆæœ¬é—®é¢˜åˆ†æ”¯1. æŸ¥çœ‹åˆ†æ”¯# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯git branch# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯git branch -r# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branch -a 2. åˆ†æ”¯æ“ä½œ# åˆ›å»ºåˆ†æ”¯developgit branch develop# åˆ é™¤åˆ†æ”¯developgit branch -d develop# åˆ‡æ¢åˆ†æ”¯git checkout develop# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°developåˆ†æ”¯# ç­‰ä»·äºŽ git branch develop + git checkout developgit checkout -b devlop# åˆå¹¶åˆ†æ”¯git merge develog# å°†åˆ†æ”¯ develop æŽ¨é€åˆ°è¿œç¨‹git push origin develop# åˆ é™¤è¿œç¨‹åˆ†æ”¯developgit push origin --delete develop]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[zshåŸºæœ¬é…ç½®ä»¥åŠæ“ä½œ]]></title>
    <url>%2F2020%2F02%2F01%2Fzsh%2F</url>
    <content type="text"><![CDATA[è‡ªä»Žç”µè„‘ä¸Šå®‰è£…wslä»¥åŽï¼Œå¯¹zshçš„æŠ˜è…¾å°±ä¸€å‘ä¸å¯æ”¶æ‹¾ï¼Œä¸å¯å¦è®¤zshç¡®å®žå¯ä»¥å¾ˆæœ‰æ•ˆåœ°æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆçŽ‡ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ä¸€äº›åŸºæœ¬é…ç½®ä»¥åŠæ“ä½œä¾›è‡ªå·±æŸ¥é˜…ã€‚ å®‰è£… å®‰è£…zsh sudo apt-get install zsh é…ç½®é»˜è®¤Shell chsh -s /bin/zsh å®‰è£…oh-my-zsh sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" é…ç½®ä¸»é¢˜ ç¼–è¾‘ oh-my-zsh é…ç½®æ–‡ä»¶ vim ~/.zshrc ä¿®æ”¹ä¸»é¢˜ ä¿®æ”¹ZSH_THEME=&quot;ys&quot;ï¼Œè‡ªå¸¦çš„ä¸»é¢˜éƒ½å¯ä»¥åœ¨~/.oh-my-zsh/themesæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°ã€‚ ä½¿é…ç½®ç”Ÿæ•ˆ source ~/.zshrc å®‰è£…æ’ä»¶ ä»¥å®‰è£…è¯­æ³•é«˜äº®æ’ä»¶ä¸ºä¾‹ åœ¨~/.oh-my-zsh/pluginsç›®å½•ä¸‹å…‹éš†æ’ä»¶ã€‚ cd ~/.oh-my-zsh/plugins &amp;&amp; git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ç¼–è¾‘ oh-my-zsh é…ç½®æ–‡ä»¶ vim ~/.zshrc ä¿®æ”¹å…¶ä¸­çš„pluginså­—æ®µï¼Œzshé»˜è®¤åªæœ‰ä¸€ä¸ª git æ’ä»¶ï¼Œå°†åˆšåˆšä¸‹è½½çš„zsh-syntax-highlightingæ·»åŠ è¿›åŽ»ã€‚ plugins=( git zsh-syntax-highlighting) ä½¿é…ç½®ç”Ÿæ•ˆ source ~/.zshrc zshä¼šè‡ªå¸¦å¾ˆå¤šæ’ä»¶ï¼Œæ‰€æœ‰è‡ªå¸¦çš„æ’ä»¶éƒ½å¯ä»¥åœ¨~/.oh-my-zsh/pluginsæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°ï¼Œéƒ¨åˆ†æ’ä»¶ç›´æŽ¥åœ¨.zshrcæ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„åç§°å³å¯ å¿«æ·é”®åœ¨zshä¸­æœ‰å¾ˆå¤šæ¯”è¾ƒæ–¹ä¾¿çš„å¿«æ·é”®ï¼Œæ­¤å¤„æ•´ç†å‡ ä¸ªè‡ªå·±ç»å¸¸ç”¨åˆ°çš„ï¼š [Ctrl] + [U]ï¼šåˆ é™¤æ•´è¡Œ [Ctrl] + [W]ï¼šåˆ é™¤å…‰æ ‡ä¹‹å‰çš„å­—æ¯ [Ctrl] + [L]ï¼šæ¸…å± [Ctrl] + [R]ï¼šæœç´¢åŽ†å²è¾“å…¥ [Ctrl] + [A]ï¼šå°†å…‰æ ‡ç§»åŠ¨è¡Œé¦– [Ctrl] + [E]ï¼šå°†å…‰æ ‡ç§»åŠ¨è¡Œå°¾ æ’ä»¶æŽ¨ègitæ­¤æ’ä»¶æ˜¯gité»˜è®¤å¼€å¯çš„ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ä¸€äº›aliasï¼Œå¯ä»¥åœ¨~/.oh-my-zsh/plugins/git/git.plugin.zshæ–‡ä»¶ä¸­æŸ¥çœ‹åˆ°è¿™äº›aliasã€‚ zsh-autosuggestionsæ­¤æ’ä»¶ä¼šè®°å½•ä½ ä¹‹å‰è¾“å…¥è¿‡çš„æ‰€æœ‰å‘½ä»¤ï¼Œå¹¶è‡ªåŠ¨åŒ¹é…ä½ å¯èƒ½æƒ³è¦è¾“å…¥å‘½ä»¤ï¼ŒæŒ‰â†’å°±å¯ä»¥è¡¥å…¨å‘½ä»¤ aoutojumpå®žçŽ°ç›®å½•ä¹‹é—´çš„å¿«é€Ÿè·³è½¬ï¼Œj + ç›®å½•åå°±å¯ä»¥ç›´æŽ¥è¿›å…¥é‚£ä¸ªç›®å½•ä¸ç”¨å†é¢‘ç¹åœ°ä½¿ç”¨cdè¿›å…¥äº†ã€‚ sudoå¿˜è®°åŠ sudoäº†ï¼Ÿå®‰è£…è¿™ä¸ªæ’ä»¶ä¹‹åŽåŒå‡»ESCå°±ä¼šç»™ä½ è‡ªåŠ¨åŠ ä¸Šã€‚]]></content>
      <categories>
        <category>zsh</category>
      </categories>
      <tags>
        <tag>-zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Bootå®žçŽ°çƒ­éƒ¨ç½²]]></title>
    <url>%2F2020%2F02%2F01%2FSpring%20Boot%E7%83%AD%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨spring-boot-devtoolså®žçŽ°ç®€å•çš„çƒ­éƒ¨ç½² çƒ­éƒ¨ç½²æŒ‡çš„æ˜¯åœ¨æˆ‘ä»¬è°ƒè¯•ç¨‹åºçš„æ—¶å€™æ— éœ€æ¯æ¬¡éƒ½é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œå°±å¯ä»¥æ›´æ–°ç¨‹åºï¼Œç‰¹åˆ«æ˜¯é¡¹ç›®æ¯”è¾ƒå¤§ï¼Œæ¯æ¬¡é‡æ–°è¿è¡Œéƒ½éœ€è¦è€—è´¹å¤§é‡æ—¶é—´çš„æ—¶å€™ï¼Œä½¿ç”¨çƒ­éƒ¨ç½²å¯ä»¥å¾ˆæœ‰æ•ˆåœ°èŠ‚çœæ—¶é—´ã€‚ æ·»åŠ ä¾èµ– Maven &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt; æ›´æ”¹é…ç½® æ‰“å¼€Settings-&gt;Compilerï¼Œå‹¾é€‰ Build project automaticallyã€‚ å¿«æ·é”®Ctrl+Shift+Alt+/ï¼Œé€‰æ‹©Registry å‹¾é€‰ compiler.automake.allow.when.app.running]]></content>
      <categories>
        <category>Spring Boot</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxçŸ¥è¯†å›žé¡¾]]></title>
    <url>%2F2020%2F01%2F20%2FLinux%E7%9F%A5%E8%AF%86%E5%9B%9E%E9%A1%BE%2F</url>
    <content type="text"><![CDATA[æ–‡ä»¶ç³»ç»Ÿ ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰è¢«æ“ä½œç³»ç»Ÿç®¡ç†çš„èµ„æºï¼Œä¾‹å¦‚ç½‘å¡ã€IOè®¾å¤‡ç­‰éƒ½è¢«çœ‹åšæ˜¯ä¸€ä¸ªæ–‡ä»¶ æ–‡ä»¶ç±»åž‹å’Œç›®å½•ç»“æž„Linuxæ”¯æŒäº”ç§æ–‡ä»¶ç±»åž‹ï¼š æ–‡ä»¶ç±»åž‹ æè¿° ç¤ºä¾‹ æ™®é€šæ–‡ä»¶ åœ¨å­˜å‚¨è®¾å¤‡ä¸Šå­˜å‚¨ä¿¡æ¯å’Œæ•°æ® æºç¨‹åºä»£ç ã€å¯æ‰§è¡Œæ–‡ä»¶ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰ ç›®å½•æ–‡ä»¶ è¡¨ç¤ºå’Œç®¡ç†ç³»ç»Ÿä¸­çš„æ–‡ä»¶ /rootã€/dev é“¾æŽ¥æ–‡ä»¶ ä¸åŒç›®å½•ä¸‹æ–‡ä»¶çš„å…±äº«(å¯ç±»æ¯”Windowsä¸­çš„å¿«æ·æ–¹å¼) è®¾å¤‡æ–‡ä»¶ ç”¨æ¥è®¿é—®è®¾å¤‡æ–‡ä»¶ Linuxä¸‹è®¿é—®ç½‘å¡ã€IOè®¾å¤‡ç­‰ å‘½åç®¡é“(FIFO) ä¸€ç§ç‰¹æ®Šç±»åž‹çš„æ–‡ä»¶ï¼ŒLinuxç³»ç»Ÿä¸‹è¿›ç¨‹ä¹‹é—´çš„é€šè®¯å¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶è¿›è¡Œ Linuxæ–‡ä»¶ç›®å½•è¯´æ˜Ž /binï¼š å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶(lsã€catã€mkdirç­‰)ï¼Œå¸¸ç”¨å‘½ä»¤ä¸€èˆ¬éƒ½åœ¨è¿™é‡Œï¼› /etcï¼š å­˜æ”¾ç³»ç»Ÿç®¡ç†å’Œé…ç½®æ–‡ä»¶ï¼› /homeï¼š å­˜æ”¾æ‰€æœ‰ç”¨æˆ·æ–‡ä»¶çš„æ ¹ç›®å½•ï¼Œæ˜¯ç”¨æˆ·ä¸»ç›®å½•çš„åŸºç‚¹ï¼Œæ¯”å¦‚ç”¨æˆ·userçš„ä¸»ç›®å½•å°±æ˜¯/home/userï¼Œå¯ä»¥ç”¨~userè¡¨ç¤ºï¼› /usr ï¼š ç”¨äºŽå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åºæ¯”è¾ƒé‡è¦çš„ç›®å½•/usr/local æœ¬åœ°ç³»ç»Ÿç®¡ç†å‘˜è½¯ä»¶å®‰è£…ç›®å½•ï¼ˆå®‰è£…ç³»ç»Ÿçº§çš„åº”ç”¨ï¼‰ã€‚è¿™æ˜¯æœ€åºžå¤§çš„ç›®å½•ï¼Œè¦ç”¨åˆ°çš„åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶å‡ ä¹Žéƒ½åœ¨è¿™ä¸ªç›®å½•ï¼› /optï¼š é¢å¤–å®‰è£…çš„å¯é€‰åº”ç”¨ç¨‹åºåŒ…æ‰€æ”¾ç½®çš„ä½ç½®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠtomcatç­‰éƒ½å®‰è£…åˆ°è¿™é‡Œï¼› /procï¼š è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿç›®å½•ï¼Œæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ã€‚å¯ç›´æŽ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥èŽ·å–ç³»ç»Ÿä¿¡æ¯ï¼› /rootï¼š è¶…çº§ç”¨æˆ·ï¼ˆç³»ç»Ÿç®¡ç†å‘˜ï¼‰çš„ä¸»ç›®å½•ï¼› /sbin: å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæœ‰rootæ‰èƒ½è®¿é—®ã€‚è¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿçº§åˆ«çš„ç®¡ç†å‘½ä»¤å’Œç¨‹åºã€‚å¦‚ifconfigç­‰ï¼› /devï¼š ç”¨äºŽå­˜æ”¾è®¾å¤‡æ–‡ä»¶ï¼› /mntï¼š ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿçš„å®‰è£…ç‚¹ï¼Œç³»ç»Ÿæä¾›è¿™ä¸ªç›®å½•æ˜¯è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½å…¶ä»–çš„æ–‡ä»¶ç³»ç»Ÿï¼› /bootï¼š å­˜æ”¾ç”¨äºŽç³»ç»Ÿå¼•å¯¼æ—¶ä½¿ç”¨çš„å„ç§æ–‡ä»¶ï¼› /lib ï¼š å­˜æ”¾ç€å’Œç³»ç»Ÿè¿è¡Œç›¸å…³çš„åº“æ–‡ä»¶ ï¼› /tmpï¼š ç”¨äºŽå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶ï¼Œæ˜¯å…¬ç”¨çš„ä¸´æ—¶æ–‡ä»¶å­˜å‚¨ç‚¹ï¼› /varï¼š ç”¨äºŽå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æŸäº›å¤§æ–‡ä»¶çš„æº¢å‡ºåŒºï¼Œæ¯”æ–¹è¯´å„ç§æœåŠ¡çš„æ—¥å¿—æ–‡ä»¶ï¼ˆç³»ç»Ÿå¯åŠ¨æ—¥å¿—ç­‰ã€‚ï¼‰ç­‰ï¼› /lost+foundï¼š è¿™ä¸ªç›®å½•å¹³æ—¶æ˜¯ç©ºçš„ï¼Œç³»ç»Ÿéžæ­£å¸¸å…³æœºè€Œç•™ä¸‹â€œæ— å®¶å¯å½’â€çš„æ–‡ä»¶ï¼ˆwindowsä¸‹å«ä»€ä¹ˆ.chkï¼‰å°±åœ¨è¿™é‡Œã€‚ LinuxåŸºæœ¬å‘½ä»¤Linuxå‘½ä»¤å¤§å…¨ï¼šhttp://man.linuxde.net/ ç›®å½•åˆ‡æ¢å‘½ä»¤ cdï¼šåˆ‡æ¢åˆ°æŸä¸ªç›®å½•ã€‚ cd ..ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€å±‚ç›®å½•ã€‚ cd /ï¼šåˆ‡æ¢åˆ°æ ¹ç›®å½•ã€‚ cd ~ï¼šåˆ‡æ¢åˆ°ç”¨æˆ·ä¸»ç›®å½•ï¼Œç›¸å½“äºŽcd /home/usernameæˆ–è€…cd /rootã€‚ cd -ï¼šè¿”å›žè¿›å…¥æ­¤ç›®å½•ä¹‹å‰æ‰€åœ¨çš„ç›®å½•ã€‚ cd !$ï¼šæŠŠä¸Šä¸ªå‘½ä»¤çš„å‚æ•°ä½œä¸ºcdå‚æ•°ä½¿ç”¨ã€‚ ç›®å½•æ“ä½œ mkdir ç›®å½•åç§°ï¼šæ·»åŠ ä¸€ä¸ªç›®å½•ã€‚ ls ç›®å½•åç§°ï¼šæŸ¥çœ‹ç›®å½•ä¿¡æ¯ã€‚ ls -l æˆ–è€… llï¼š æŸ¥çœ‹ç›®å½•è¯¦ç»†ä¿¡æ¯ã€‚ ls -aï¼šæ˜¾ç¤ºç›®å½•æ‰€æœ‰ä¿¡æ¯(åŒ…æ‹¬éšè—æ–‡ä»¶)ã€‚ find ç›®å½•åç§° å‚æ•°ï¼šå¯»æ‰¾æŸä¸ªç›®å½•ã€‚ ç¤ºä¾‹ï¼š find .ï¼šåˆ—å‡ºå½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ find /usr -name &quot;*.txt&quot;ï¼šåœ¨/usrç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰æ‰©å±•åä¸ºâ€.txtâ€çš„æ–‡ä»¶ã€‚ find /usr -iname &quot;*.txt&quot;ï¼šåŒä¸Šï¼Œä½†æ˜¯å¿½ç•¥å¤§å°å†™ã€‚ find . -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;ï¼šåœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰ä»¥.txtå’Œ.pdfç»“å°¾çš„æ–‡ä»¶ã€‚ æ–‡ä»¶æ“ä½œ touch æ–‡ä»¶åç§°ï¼šåˆ›å»ºæ–‡ä»¶ã€‚ cat/more/less/tailï¼šæŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€‚ catï¼šæŸ¥çœ‹æ–‡ä»¶å…¨éƒ¨å†…å®¹ã€‚ moreï¼š å¯ä»¥æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œå›žè½¦å¯ä»¥å‘ä¸‹ä¸€è¡Œï¼Œ ç©ºæ ¼å¯ä»¥å‘ä¸‹ä¸€é¡µï¼Œqå¯ä»¥é€€å‡ºæŸ¥çœ‹ã€‚ lessï¼šå¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„PgUpå’ŒPgDnå‘ä¸Š å’Œå‘ä¸‹ç¿»é¡µï¼Œqç»“æŸæŸ¥çœ‹ã€‚ tail-10 ï¼šæŸ¥çœ‹æ–‡ä»¶çš„åŽ10è¡Œï¼ŒCtrl+Cç»“æŸã€‚ æ³¨ï¼šå‘½ä»¤ tail -få¯ä»¥å¯¹æŸä¸ªæ–‡ä»¶è¿›è¡ŒåŠ¨æ€ç›‘æŽ§ï¼Œä¾‹å¦‚æŸäº›æ—¥å¿—æ–‡ä»¶ä¼šéšç€ç¨‹åºçš„å˜åŒ–è€Œå˜åŒ–ï¼Œä½¿ç”¨tail -f xxx.logå°±å¯ä»¥ç›‘æŽ§æ–‡ä»¶çš„å˜åŒ–ã€‚ æƒé™å‘½ä»¤åœ¨ä»»æ„ä¸€ä¸ªç›®å½•ä¸‹æ‰§è¡Œllå‘½ä»¤ï¼š é‡ç‚¹å…³æ³¨æ¡†å‡ºæ¥çš„éƒ¨åˆ†ï¼šdrwxr-xr-xï¼ŒåŒ…æ‹¬æ–‡ä»¶ç±»åž‹å’Œæƒé™è¯´æ˜Žä¸¤éƒ¨åˆ†ï¼Œæƒé™è¯´æ˜Žä¸­åˆ†ä¸º3*3ä¸‰ç»„æ–‡ä»¶æœ‰æ‰€æœ‰è€…ã€æ‰€åœ¨ç»„ã€å…¶å®ƒç»„ï¼Œæ¯ç»„æƒé™åˆåˆ†ä¸ºè¯»ï¼ˆreadableï¼‰ã€å†™ï¼ˆwritableï¼‰ã€æ‰§è¡Œï¼ˆexecutableï¼‰ã€‚ æ–‡ä»¶ç±»åž‹ï¼š dï¼šä»£è¡¨ç›®å½• -ï¼šä»£è¡¨æ–‡ä»¶ lï¼šä»£è¡¨è½¯é“¾æŽ¥ æƒé™ç±»åž‹ï¼š rï¼šå¯è¯»æƒé™ï¼Œå¯ä»¥ç”¨æ•°å­—4è¡¨ç¤ºã€‚ wï¼šå¯å†™æƒé™ï¼Œå¯ä»¥ç”¨æ•°å­—2è¡¨ç¤ºã€‚ xï¼šå¯æ‰§è¡Œæƒé™ï¼Œå¯ä»¥ç”¨æ•°å­—1è¡¨ç¤ºã€‚ -ï¼šä¸å…·æœ‰ä»»ä½•æƒé™ï¼Œå¯ä»¥ç”¨æ•°å­—0è¡¨ç¤ºã€‚ ä¸‰ç»„æƒé™åˆ†åˆ«ä¸ºå¯¹åº”æ–‡ä»¶æ‰€æœ‰è€…ã€æ‰€åœ¨ç»„ã€å…¶ä»–ç»„ æ–‡ä»¶æ‰€æœ‰è€… ä¸€èˆ¬ä¸ºæ–‡ä»¶çš„åˆ›å»ºè€…è°åˆ›å»ºæ–‡ä»¶è°å°±æ˜¯æ–‡ä»¶æ‰€æœ‰è€…ï¼Œä½¿ç”¨llå‘½ä»¤å‡ºçŽ°çš„ä¿¡æ¯çš„ç¬¬ä¸‰åˆ—å³ä¸ºè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œå¯ä»¥ä½¿ç”¨chownæ¥ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ã€‚ æ–‡ä»¶æ‰€åœ¨ç»„ å½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç”¨æˆ·ç»„ï¼Œå½“æŸä¸ªæ–‡ä»¶è¢«åˆ›å»ºä¹‹åŽï¼Œåˆ›å»ºè¯¥æ–‡ä»¶çš„ç”¨æˆ·æ‰€åœ¨ç»„å°±æˆäº†è¯¥æ–‡ä»¶çš„æ–‡ä»¶æ‰€åœ¨ç»„ã€‚å¯ä»¥ä½¿ç”¨chgrpå‘½ä»¤æ¥ä¿®æ”¹æ–‡ä»¶æ‰€åœ¨ç»„ã€‚ å…¶ä»–ç»„ é™¤äº†æ–‡ä»¶æ‰€æœ‰è€…å’Œæ–‡ä»¶æ‰€åœ¨ç»„ä¹‹å¤–çš„ç”¨æˆ·éƒ½å±žäºŽå…¶ä»–ç»„ã€‚ ä¿®æ”¹æ–‡ä»¶æƒé™çš„å‘½ä»¤ï¼šchmod ç¤ºä¾‹ï¼šä¿®æ”¹æ–‡ä»¶abc.txtçš„å±žä¸»æƒé™ä¸ºæ‰€æœ‰æƒé™ï¼Œå±žç»„æƒé™ä¸ºå¯è¯»å¯å†™ï¼Œå…¶ä»–ç»„æƒé™ä¸ºåªè¯»ã€‚æœ‰ä¸‹é¢ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼š chmod 764 abc.txt chmod u=rwx,g=rw,o=r å¦‚æžœä¸ºè¯¥æ–‡ä»¶æ·»åŠ æƒé™å¯ä»¥ä½¿ç”¨ï¼š chmod u+rwx,g+rw,o+r éœ€è¦æ³¨æ„çš„æ˜¯è¶…çº§ç”¨æˆ·å¯ä»¥æ— è§†æ™®é€šç”¨æˆ·çš„æƒé™ï¼Œå³ä½¿æ–‡ä»¶ç›®å½•æƒé™æ˜¯000ï¼Œä¾æ—§å¯ä»¥è®¿é—®ã€‚ å…¶ä»–å‘½ä»¤ ps -aux / ps-efï¼šä¸€èˆ¬ä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤æŸ¥è¯¢å½“å‰è¿›ç¨‹ grep è¦æœç´¢çš„å­—ç¬¦ä¸² è¦æœç´¢çš„æ–‡ä»¶ï¼šæœç´¢å‘½ä»¤ï¼Œç»å¸¸é…åˆå…¶ä»–å‘½ä»¤ä½¿ç”¨æ¯”å¦‚æŸ¥æ‰¾tomcatè¿›ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ps -aux | grep tomcatï¼Œè¯¥å‘½ä»¤ç”±ä¸€ä¸ªç®¡é“ç¬¦|è¿žæŽ¥ä¸¤ä¸ªå‘½ä»¤ï¼Œç®¡é“ç¬¦çš„ä½œç”¨æ˜¯è®²ä¸Šä¸€ä¸ªå‘½ä»¤çš„ç»“æžœä½œä¸ºä¸‹ä¸€ä¸ªå‘½ä»¤çš„å‚æ•°ä½¿ç”¨ï¼Œæ­¤å‘½ä»¤çš„å«ä¹‰å°±æ˜¯å…ˆæŸ¥æ‰¾å‡ºæ‰€æœ‰çš„è¿›ç¨‹ï¼Œä¹‹åŽå†å°†æŸ¥æ‰¾å‡ºçš„ä¿¡æ¯ä½œä¸ºgrepå‘½ä»¤çš„å‚æ•°ï¼Œæœç´¢å…¶ä¸­çš„tomcatå­—ç¬¦ï¼Œè¿”å›žæœç´¢ç»“æžœã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨pgrep tomcatæŸ¥æ‰¾ã€‚ kill -9ï¼šæ€æ­»æŸè¿›ç¨‹ï¼ˆ-9è¡¨ç¤ºå¼ºåˆ¶ï¼‰ï¼Œä½¿ç”¨çš„æ—¶å€™ä¼šç»“åˆä¸Šé¢çš„å‘½ä»¤å…ˆæŸ¥å‡ºæŸè¿›ç¨‹çš„PIDï¼Œå†å°†å…¶æ€æ­»ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPåè®®è¯¦è§£]]></title>
    <url>%2F2020%2F01%2F15%2F%E8%AE%A1%E7%BD%91%E2%80%94HTTP%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[HTTPåè®® HTTPåè®®ï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯å› ç‰¹ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œæ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚ HTTPæ˜¯ä¸€ä¸ªåŸºäºŽTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®ï¼ˆHTML æ–‡ä»¶, å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æžœç­‰ï¼‰ã€‚ åè®®æŠ¥æ–‡è§£æžHTTPæŠ¥æ–‡å¤§è‡´å¯åˆ†ä¸ºæŠ¥æ–‡é¦–éƒ¨å’ŒæŠ¥æ–‡ä¸»ä½“ä¸¤éƒ¨åˆ†ï¼Œä¸¤è€…ç”±ä¸€ä¸ªç©ºè¡Œåˆ’åˆ†ã€‚é€šå¸¸ï¼Œä¸ä¸€å®šè¦æœ‰æŠ¥æ–‡ä¸»ä½“ï¼ˆGETæ–¹æ³•å°±æ²¡æœ‰æŠ¥æ–‡ä¸»ä½“ï¼‰ã€‚ è¯·æ±‚è¡Œï¼šåŒ…å«ç”¨äºŽè¯·æ±‚çš„æ–¹æ³•ï¼Œè¯·æ±‚çš„URIå’ŒHTTPç‰ˆæœ¬ã€‚ çŠ¶æ€è¡Œï¼šåŒ…å«è¡¨æ˜Žå“åº”ç»“æžœçš„çŠ¶æ€ç ï¼ŒçŠ¶æ€çŸ­è¯­å’ŒHTTPç‰ˆæœ¬ã€‚ é¦–éƒ¨å­—æ®µï¼šåŒ…å«è¡¨ç¤ºè¯·æ±‚å’Œå“åº”çš„å„ç§æ¡ä»¶å’Œå±žæ€§çš„å„ç±»é¦–éƒ¨ã€‚ æŠ¥æ–‡ä¸»ä½“ï¼šåº”è¢«å‘é€çš„æ•°æ®ã€‚ å®žéªŒéªŒè¯ è¾“å…¥URL: http://gaia.cs.umass.edu/ethereal-labs/HTTP-ethereal-file3.html ï¼Œä½¿ç”¨WireSharkæŠ“åŒ…ã€‚ è¾“å…¥è¿‡æ»¤è¡¨è¾¾å¼tcp &amp;&amp; ip.addr==128.119.245.12 è§‚å¯ŸæŠ“åˆ°çš„æ•°æ®åŒ… é‡ç‚¹å…³æ³¨ä¸‹é¢è¿™ä¸€éƒ¨åˆ† 352å·åŒ… è¿™ä¸ªåŒ…å°±æ˜¯å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯HTTPGETè¯·æ±‚ï¼Œç”±è¯·æ±‚è¡Œã€å„ç§é¦–éƒ¨å­—æ®µå’Œç©ºè¡Œç»„æˆï¼Œåœ¨GETè¯·æ±‚ä¸­ï¼Œæ²¡æœ‰è¯·æ±‚çš„æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†ã€‚ 384å·åŒ… åœ¨TCPåè®®ä¸­ï¼Œå‘é€åŒæ–¹æ¯å‘å‡ºä¸€ä¸ªåŒ…éƒ½è¦æœ‰å“åº”ï¼Œæ­¤åŒ…å°±æ˜¯æœåŠ¡ç«¯å¯¹åˆšåˆšå‘é€çš„HTTPçš„GETåŒ…çš„å“åº”ã€‚ 386ã€387ã€389ã€390å·åŒ… é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸‹WireSharkä¸­TCP segment of a ressembled PDUçš„æ¦‚å¿µï¼Œåœ¨TCPåè®®ä¸­ï¼Œä¼šå°†ä¸€ä¸ªè¾ƒå¤§çš„æ•°æ®åŒ…åˆ†æˆå¾ˆå¤šä¸ªå°åŒ…å‘å‡ºåŽ»ï¼Œåœ¨WireSharkä¸­ï¼ŒTCP segment of a ressembled PDUå°±æ˜¯è¢«TCPåè®®æ‰€åˆ†æˆçš„ä¸€ä¸ªä¸ªå°çš„æ•°æ®åŒ…ã€‚ å…¶å®žï¼Œè¿™å››ä¸ªåŒ…éƒ½æ˜¯TCPåˆ†æˆçš„å°åŒ…ï¼ŒWireSharkåœ¨æœ€åŽä¸€ä¸ªhttpåŒ…ä¸­å°†æ‰€æœ‰çš„åŒ…éƒ½è¿›è¡Œäº†é‡æ–°æ‹¼åŒ…ã€‚ æŸ¥çœ‹386å·æ•°æ®åŒ… ç‚¹å‡»TCP segment dataï¼ŒæŸ¥çœ‹æ­¤segmentçš„æ•°æ®å†…å®¹ï¼Œå‘çŽ°å…¶ä¸­çš„æ•°æ®å°±æ˜¯httpæŠ¥æ–‡ï¼Œåªä¸è¿‡æ˜¯æœåŠ¡å™¨è¿”å›žçš„httpé•¿æŠ¥æ–‡çš„ä¸€éƒ¨åˆ†ã€‚ æŸ¥çœ‹390å·æ•°æ®åŒ… æ‰“å¼€4 Reassembled TCP Segmentsï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰è¢«TCPæ‰€åˆ†æˆçš„å››ä¸ªå°æ•°æ®åŒ…ï¼Œæ­£æ˜¯386ï¼Œ387ï¼Œ389ï¼Œ390å·åŒ…ã€‚ æŸ¥çœ‹HTTPæ•°æ®åŒ…çš„å†…å®¹ æ­¤æ•°æ®åŒ…æ˜¯æœåŠ¡ç«¯è¿”å›žçš„HTTPæŠ¥æ–‡ï¼Œç”±çŠ¶æ€è¡Œã€é¦–éƒ¨å­—æ®µã€æŠ¥æ–‡ä¸»ä½“å’Œç©ºè¡Œç»„æˆã€‚é€šè¿‡Line-based text dataå¯ä»¥æŸ¥çœ‹å…·ä½“çš„æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†çš„æ•°æ®ã€‚ HTTPæ–¹æ³•GETï¼šèŽ·å–èµ„æºGETæ–¹æ³•ç”¨äºŽä»ŽæœåŠ¡å™¨ç«¯èŽ·å–æ•°æ®ï¼ŒåŒ…æ‹¬é™æ€èµ„æº(HTMLã€CSSã€JSã€Imageç­‰ç­‰)ã€‚ POSTï¼šä¼ è¾“å®žä½“çš„ä¸»ä½“POSTæ–¹æ³•ç”¨äºŽå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œæ¯”å¦‚å¢žåˆ æ”¹æ•°æ®ï¼Œæäº¤ä¸€ä¸ªè¡¨å•æ–°å»ºä¸€ä¸ªç”¨æˆ·ã€æˆ–ä¿®æ”¹ä¸€ä¸ªç”¨æˆ·ç­‰ã€‚ GETä¸»è¦ç›®çš„ï¼ŒèŽ·å–èµ„æºï¼›POSTä¸»è¦ç›®çš„ï¼Œå‘é€æ•°æ®å¯¹æŒ‡å®šèµ„æºåšå¤„ç†ã€‚ GETå’ŒPOSTåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ PUTï¼šä¼ è¾“æ–‡ä»¶å‘æœåŠ¡ç«¯å¢žåŠ æŸä¸ªèµ„æºæ–‡ä»¶ã€‚ ##DELETEï¼šåˆ é™¤æ–‡ä»¶ åˆ é™¤æŒ‡å®šçš„èµ„æºæ–‡ä»¶ã€‚ åœ¨RESTfulé£Žæ ¼çš„æŽ¥å£ä¸­ï¼ŒPUTã€DELETEã€GETã€POSTåˆ†åˆ«å¯¹åº”å¯¹èµ„æºçš„å¢žåˆ æŸ¥æ”¹ã€‚ çŠ¶æ€ç åˆ†ç±» åˆ†ç±» æè¿° 1XX ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2XX æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæŽ¥æ”¶å¹¶å¤„ç† 3XX é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚(é™¤304) 4XX å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5XX æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ 2XXæˆåŠŸ200 OKè¡¨ç¤ºä»Žå®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡ç«¯è¢«æ­£å¸¸å¤„ç†äº†ï¼Œè¯·æ±‚èµ„æºæˆåŠŸã€‚ 3XXé‡å®šå‘301 Moved Permanentlyæ°¸ä¹…é‡å®šå‘ã€‚è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²ç»è¢«æ°¸ä¹…åœ°è½¬ç§»åˆ°äº†æŸä¸ªæ–°çš„URIã€‚ ä¾‹å¦‚httpåè®®é‡å®šå‘è‡³httpsåè®®ã€‚ 302 Foundä¸´æ—¶é‡å®šå‘ã€‚è¡¨ç¤ºè¯·æ±‚çš„èµ„æºæ˜¯ä¸´æ—¶è¢«åˆ†é…åˆ°ä¸€ä¸ªæ–°çš„URIä¸­ã€‚ 304 Not Modifiedè¡¨ç¤ºæœåŠ¡å™¨ç«¯èµ„æºæœªå‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨æœåŠ¡å™¨ç¼“å­˜ã€‚ 4XX403 Forbiddenèµ„æºè®¿é—®è¢«æ‹’ç»ã€‚ä¸€èˆ¬æ²¡æœ‰å“åº”çš„æƒé™çš„è¯ä¼šè¿”å›žè¯¥çŠ¶æ€ç ã€‚ 404 Not FoundæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºã€‚ 5XX500 Internal Server ErroræœåŠ¡ç«¯å‡ºBUGã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
        <category>HTTP</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”ARPåè®®]]></title>
    <url>%2F2019%2F12%2F17%2F%E8%AE%A1%E7%BD%91%E2%80%94ARP%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆéœ€è¦ARPåè®®ï¼Ÿæ— è®ºæ˜¯ä¸»æœºåˆ°ä¸»æœºçš„é€šä¿¡ï¼Œè¿˜æ˜¯ä¸»æœºåˆ°è·¯ç”±å™¨çš„é€šä¿¡ï¼Œå®žè´¨éƒ½æ˜¯ç½‘å¡ä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚ä¸ºäº†ä¼ è¾“æˆåŠŸï¼Œéœ€è¦åœ¨å·²çŸ¥IPåœ°å€çš„å‰æä¸‹èŽ·å–ç›®çš„ç½‘å¡åœ°å€ï¼Œè¿™å°±æ˜¯ARP(Address Resolution Protocol)åè®®æ‰€åšçš„äº‹æƒ…ï¼ŒèŽ·å¾—æŸä¸ªIPçš„MACåœ°å€ã€‚ ARPè¡¨åœ¨æ¯ä¸ªIPèŠ‚ç‚¹(ä¸»æœºæˆ–è·¯ç”±å™¨)çš„æ¯ä¸ªæŽ¥å£éƒ½æœ‰ä¸€ä¸ªARPæ¨¡å—ï¼Œå†…æœ‰ä¸€ä¸ªç¼“å­˜è¡¨ï¼Œè¿™å°±æ˜¯ARPè¡¨ã€‚åœ¨ARPè¡¨ä¸­è®°å½•äº†å±€åŸŸç½‘å†…çš„ä¸€äº›èŠ‚ç‚¹çš„IP/MACçš„æ˜ å°„å…³ç³»ã€‚ Windowsä¸‹ï¼Œè¾“å…¥arp -aå‘½ä»¤æŸ¥çœ‹ARPç¼“å­˜è¡¨ï¼š ARPè¡¨ä¸­çš„æ¯ä¸€æ¡æ˜ å°„è®°å½•éƒ½æœ‰åŠ¨æ€å’Œé™æ€ä¹‹åˆ†ï¼Œé™æ€ç±»åž‹è®¾å®šä¹‹åŽå°±ä¸ä¼šå˜åŒ–äº†ï¼Œè€ŒåŠ¨æ€çš„è®°å½•ä¼šåœ¨è¶…è¿‡TTLåŽè¿‡æœŸåˆ é™¤ï¼Œå®žæ—¶æ›´æ–°ã€‚ ARPè¡¨å…·å¤‡è‡ªå­¦ä¹ çš„èƒ½åŠ›ã€‚ åœ°å€è§£æžçš„è¿‡ç¨‹ æŸ¥è¡¨ï¼šå‘é€æ–¹AæŸ¥æ‰¾ARPè¡¨ï¼Œå¦‚æžœæŸ¥è¯¢åˆ°äº†IPæ‰€å¯¹åº”çš„MACåˆ™ç»“æŸï¼Œå¦‚æžœæ²¡æœ‰æŸ¥åˆ°ï¼Œè¿›è¡Œç¬¬äºŒæ­¥ã€‚ è¯¢é—®ï¼šä»¥å¹¿æ’­çš„å½¢å¼(ç›®çš„MACåœ°å€ä¸ºff:ff:ff:ff:ff:ff)å‘LANä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‘é€ARPè¯·æ±‚åŒ…ï¼Œè¯¢é—®æ‹¥æœ‰ç›®çš„IPçš„ä¸»æœºçš„MACã€‚ å­¦ä¹ ï¼šæ‰€æœ‰æ”¶åˆ°ARPè¯·æ±‚åŒ…çš„ä¸»æœºéƒ½ä¼šå°†ä¸»æœºAçš„IPå’ŒMACçš„æ˜ å°„å…³ç³»å­˜åˆ°è‡ªå·±çš„ARPè¡¨ä¸­ã€‚ åº”ç­”ï¼šæ‹¥æœ‰ç›®çš„IPçš„MACçš„ä¸»æœºä¼šè¿”å›žä¸»æœºAä¸€ä¸ªåº”ç­”åŒ…ï¼Œå‘ŠçŸ¥ä¸»æœºAç›®çš„IPçš„MACã€‚ ä¿å­˜ï¼šå‘é€æ–¹Aå¾—åˆ°ç›®çš„IPçš„MACåŽï¼Œå°†å…¶å­˜å…¥ARPè¡¨ä¸­ã€‚ æŠ¥æ–‡æ ¼å¼ ç¡¬ä»¶ç±»åž‹ï¼šå‘é€æ–¹ç‰©ç†ç½‘ç»œç±»åž‹ï¼Œ1ä»£è¡¨ä»¥å¤ªç½‘ã€‚ åè®®ç±»åž‹ï¼šå‘é€æ–¹è¯·æ±‚è§£æžçš„åè®®åœ°å€ç±»åž‹ï¼Œ 0x0800ä»£è¡¨IPåè®®ã€‚ æ“ä½œç±»åž‹ï¼š1â€”ARP è¯·æ±‚ï¼›2â€”ARP å“åº”ã€‚ å‘é€è€…ç¡¬ä»¶åœ°å€ï¼š6 Bytes å‘é€è€…IPåœ°å€ï¼š4 Bytes ç›®çš„ç¡¬ä»¶åœ°å€ï¼š6 Bytes ç›®çš„IPåœ°å€ï¼š4 Bytes ARPè¯·æ±‚æˆ–å“åº”æŠ¥æ–‡æ˜¯è¢«ç»„è£…åœ¨ä»¥å¤ªç½‘å¸§ä¸­è¢«ä¼ è¾“çš„ã€‚ å…³äºŽARPåè®®å±žäºŽå“ªä¸€å±‚çš„é—®é¢˜ï¼Œä¼—è¯´çº·çº­ã€‚åœ¨æ•™æä¸Šæ˜¯æŠŠARPåè®®åˆ’åˆ°ç½‘ç»œå±‚çš„ï¼Œæ˜¯å› ä¸ºARPåè®®å±žäºŽTCP/IPåè®®ç°‡ä¸­çš„ä¸€å‘˜ã€‚å¦‚æžœæŒ‰ç…§OSIçš„æ ‡å‡†ï¼Œæ•°æ®åœ¨ä¼ é€’æ—¶æ¯å±‚ä¼šåŠ ä¸Šè‡ªå·±çš„ä¿¡æ¯ã€‚å½“ç½‘ç»œå±‚çš„IPåŒ…è¿›å…¥é“¾è·¯å±‚æ—¶ï¼Œé“¾è·¯å±‚é€šè¿‡ARPåè®®æ·»åŠ é“¾è·¯ä¿¡æ¯ï¼Œè€Œè¿™ä¸æ˜¯ç½‘ç»œå±‚çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¹Ÿæœ‰å¾ˆå¤šäººè¯´ARPæ˜¯é“¾è·¯å±‚çš„ã€‚ å¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œåœ¨OSIæ¨¡åž‹ä¸­ARPåè®®å±žäºŽé“¾è·¯å±‚ï¼›è€Œåœ¨TCP/IPæ¨¡åž‹ä¸­ï¼ŒARPåè®®å±žäºŽç½‘ç»œå±‚ã€‚ï¼ˆPS:è€ƒè¯•çš„æ—¶å€™è€ƒåˆ°æ˜¯ç½‘ç»œå±‚å°±å®Œäº‹äº†ï¼‰ æŠ“åŒ…è¯¢é—® ä»¥å¤ªç½‘å¸§ä¸­çš„ç›®çš„MACåœ°å€ä¸ºff:ff:ff:ff:ff:ffï¼Œåè®®ç±»åž‹ä¸ºARP(0x0806)ï¼Œå†çœ‹ARPåè®®æŠ¥æ–‡ï¼Œç”±äºŽç›®å‰å¹¶ä¸çŸ¥é“ç›®çš„IPçš„MACåœ°å€ï¼Œæ‰€ä»¥ç›®çš„MACåœ°å€ä¸º00:00:00:00:00:00ã€‚ åº”ç­” åœ¨åº”ç­”åŒ…ä¸­ARPåè®®æŠ¥æ–‡Opcodeå­—æ®µè¢«ç½®ä¸ºäº†reply(2)ï¼ŒSender MAC address å³ä¸ºå‘é€æ–¹éœ€è¦çš„MACåœ°å€ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>ARPåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”CSMA/CDåè®®]]></title>
    <url>%2F2019%2F12%2F17%2F%E8%AE%A1%E7%BD%91%E2%80%94CSMACD%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[CSMA/CDåè®®å¼•å‡ºåè®®æœ€åˆçš„ä»¥å¤ªç½‘éƒ½æ˜¯é‡‡ç”¨æ€»çº¿åž‹çš„æ‹“æ‰‘ç»“æž„ï¼Œå°†è®¸å¤šè®¡ç®—æœºéƒ½è¿žæŽ¥åˆ°ä¸€å°ä¸»æœºä¸Šã€‚å¦‚ä¸‹å›¾ï¼š æ€»çº¿ä¸Šçš„æ¯ä¸€ä¸ªå·¥ä½œçš„è®¡ç®—æœºéƒ½èƒ½æ£€æµ‹åˆ° B å‘é€çš„æ•°æ®ä¿¡å·ã€‚ ç”±äºŽåªæœ‰è®¡ç®—æœº D çš„åœ°å€ä¸Žæ•°æ®å¸§é¦–éƒ¨å†™å…¥çš„åœ°å€ä¸€è‡´ï¼Œå› æ­¤åªæœ‰ D æ‰æŽ¥æ”¶è¿™ä¸ªæ•°æ®å¸§ã€‚ å…¶ä»–æ‰€æœ‰çš„è®¡ç®—æœºï¼ˆA, C å’Œ Eï¼‰éƒ½æ£€æµ‹åˆ°ä¸æ˜¯å‘é€ç»™å®ƒä»¬çš„æ•°æ®å¸§ï¼Œå› æ­¤å°±ä¸¢å¼ƒè¿™ä¸ªæ•°æ®å¸§è€Œä¸èƒ½å¤Ÿæ”¶ä¸‹æ¥ã€‚ è¿™æ—¶å€™å°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ€»çº¿åœ¨åŒä¸€æ—¶é—´åªèƒ½å…è®¸ä¸€å°è®¡ç®—æœºå‘é€ä¿¡æ¯ï¼Œå¦‚æžœå¤šå°è®¡ç®—æœºåŒæ—¶å‘æ€»çº¿å‘é€æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå†²çªï¼Œä¸ºäº†è§£å†³å†²çªå°±å‡ºçŽ°äº†CSMA/CD(Carrier Sense Multiple Access with Collision Detection,è½½æ³¢ç›‘å¬å¤šç‚¹æŽ¥å…¥/ç¢°æ’žæ£€æµ‹)åè®®ã€‚ åŸºæœ¬æ€æƒ³ æŸç«™ç‚¹æƒ³è¦å‘é€æ•°æ®ï¼Œå¿…é¡»é¦–å…ˆä¾¦å¬ä¿¡é“ï¼› å¦‚æžœä¿¡é“ç©ºé—²ï¼Œç«‹å³å‘é€æ•°æ®ï¼›å¦‚æžœä¿¡é“å¿™ï¼Œåˆ™ç»§ç»­ä¾¦å¬ä¿¡é“ã€‚ç›´åˆ°ä¿¡é“å˜ä¸ºç©ºé—²ï¼Œç«‹å³å‘é€æ•°æ®ï¼› ç«™ç‚¹åœ¨å‘é€è¿‡ç¨‹ä¸­ç»§ç»­æ£€æµ‹ä¿¡é“ï¼Œè‹¥ä¸€ç›´æœªæ£€æµ‹åˆ°ç¢°æ’žï¼Œåˆ™æŠŠè¯¥æ•°æ®æˆåŠŸå‘é€å®Œæ¯•ï¼›å¦‚æžœæ£€æµ‹åˆ°å†²çªï¼Œç«‹å³åœæ­¢å‘é€æ•°æ®ï¼Œå‘é€å¹²æ‰°ä¿¡å·ï¼Œç„¶åŽæ‰§è¡ŒæŒ‡æ•°é€€é¿ç®—æ³•ï¼Œç­‰å¾…ä¸€éšæœºé•¿çš„æ—¶é—´ï¼Œé‡æ–°ä¾¦å¬ä¿¡é“ï¼Œè¿”å›žç¬¬2æ­¥ã€‚ CSMA/CDæŠ€æœ¯å®žçŽ° å…ˆå¬åŽå‘ï¼šè½½æ³¢ä¾¦å¬æŠ€æœ¯ è¾¹å‘è¾¹å¬ï¼šç¢°æ’žæ£€æµ‹æŠ€æœ¯ å†²çªåœæ­¢ï¼šå‘é€å¹²æ‰°ä¿¡å· å»¶è¿Ÿé‡å‘ï¼šæˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³• å…ˆå¬åŽå‘ä»¥å¤ªç½‘ä½¿ç”¨æ›¼å½»æ–¯ç‰¹ç¼–ç ä¼ é€æ•°æ® ç¼–ç è§„åˆ™ï¼š æ¯æ¯”ç‰¹çš„å‘¨æœŸTåˆ†ä¸ºå‰T/2å’ŒåŽT/2ä¸¤ä¸ªéƒ¨åˆ†ã€‚ å‰T/2ä¼ é€è¯¥æ¯”ç‰¹çš„åç ï¼ŒåŽT/2ä¼ é€è¯¥æ¯”ç‰¹çš„åŽŸç ã€‚ æ¯ä¸ªæ¯”ç‰¹ä¸­é—´æœ‰ä¸€æ¬¡ç”µå¹³è·³å˜ã€‚ è¿™æ ·å°±å¯ä»¥é€šè¿‡åˆ¤æ–­æ€»çº¿çš„ç”µå¹³æ˜¯å¦å‡ºçŽ°è·³å˜æ¥åˆ¤æ–­æ€»çº¿çš„é—²å¿™ï¼Œå®žçŽ°è½½æ³¢ä¾¦å¬ã€‚ è¾¹å‘è¾¹å¬ ç«™ç‚¹æ£€æµ‹å†²çª æ£€æµ‹ç”µå¹³ä¿¡å·å˜åŒ–å¹…åº¦æ˜¯å¦è¶…è¿‡ä¸€å®šçš„é—¨é™å€¼ã€‚ ç¼–ç è¿ä¾‹æ³• æ£€æŸ¥ä»Žæ€»çº¿ä¸ŠæŽ¥æ”¶çš„ä¿¡å·æ˜¯å¦è¿åæ›¼å½»æ–¯ç‰¹ç¼–ç è§„åˆ™ã€‚ å¦‚æžœæ£€æµ‹åˆ°äº†ç¢°æ’žï¼Œæ€»çº¿ä¸Šä¼ è¾“çš„ä¿¡å·å°±ä¼šäº§ç”Ÿä¸¥é‡çš„å¤±çœŸï¼Œæ— æ³•ä»Žä¸­å›žå¤å‡ºæœ‰ç”¨çš„ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ­£åœ¨å‘é€æ•°æ®çš„ç«™ç‚¹ï¼Œä¸€æ—¦å‘çŽ°æ€»çº¿ä¸Šå‡ºçŽ°äº†ç¢°æ’žï¼Œå°±è¦ç«‹å³åœæ­¢å‘é€ï¼Œå…å¾—ç»§ç»­æµªè´¹ç½‘ç»œèµ„æºï¼Œç„¶åŽç­‰å¾…ä¸€æ®µéšæœºæ—¶é—´åŽå†æ¬¡å‘é€ã€‚ ä¸ºä»€ä¹ˆåœ¨å‘é€è¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿå†²çªï¼Ÿ å› ä¸ºæœ‰ä¼ æ’­æ—¶å»¶å¯¹è½½æ³¢ä¾¦å¬çš„å½±å“ï¼Œå¯¼è‡´å¯èƒ½å‡ºçŽ°å†²çªã€‚ åœ¨ä¸Šå›¾ä¸­ï¼Œç¬¬ä¸€ä¸ªçŠ¶æ€ï¼ŒAæ£€æµ‹åˆ°ä¿¡é“ç©ºé—²ï¼Œå¼€å§‹å‘é€æ•°æ®ï¼Œè¿˜æ²¡å‘é€åˆ°Bç«¯çš„æ—¶å€™ï¼ŒBç«¯æ­¤æ—¶æ£€æµ‹åˆ°ä¿¡é“ä¹Ÿæ˜¯ç©ºé—²çš„ï¼ŒåŒæ ·ä¼šå‘é€æ•°æ®ï¼Œè¿™æ—¶å€™å°±ä¼šäº§ç”Ÿå†²çªðŸ’¥ã€‚ æ£€æµ‹å†²çªæ—¶é—´ è¿™é‡Œæœ‰ä¸¤ç§æžç«¯æƒ…å†µï¼š æœ€çŸ­å†²çªæ—¶é—´ï¼šå½“Aå’ŒBåŒæ—¶å‘é€ä¸€ä¸ªæ•°æ®å¸§ï¼Œåœ¨ä¿¡é“çš„ä¸­å¿ƒå¤„å‘ç”Ÿå†²çªåŽç»§ç»­å‘ä¸¤ä¸ªæ–¹å‘ä¼ æ’­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸€ä¸ªå•å‘ä¼ æ’­å»¶è¿Ÿã€‚ æœ€é•¿å†²çªæ—¶é—´ï¼šAå…ˆå‘é€ä¸€ä¸ªæ•°æ®å¸§ï¼Œå½“Aå³å°†åˆ°è¾¾ä¸»æœºBæ—¶ï¼ŒBå‘é€æ•°æ®å¸§ï¼Œè¿™æ—¶ä¸»æœºBä¼šç«‹å³æ£€æµ‹åˆ°å†²çªï¼Œè€Œä¸»æœºAåˆ™éœ€è¦å†ç»è¿‡ä¸€ä¸ªå•å‘ä¼ æ’­å»¶è¿Ÿä¹‹åŽæ‰ä¼šæ£€æµ‹åˆ°å†²çªã€‚ å†²çªçª—å£ åœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼ŒAã€Bä¸¤ç»“ç‚¹æ˜¯è·ç¦»æœ€è¿œçš„ä¸¤ç‚¹ï¼Œç›¸è·Dï¼Œä¿¡å·ä¼ æ’­é€Ÿåº¦Vï¼ŒAåœ¨å‘é€æ•°æ®åŽæœ€å¤šåœ¨Wæ—¶é—´åŽå¯ä»¥æ£€æµ‹å‡ºæ‰€æœ‰å¯èƒ½çš„å†²çªï¼šW=2D/V,Wè¢«ç§°ä¸ºå†²çªçª—å£(äº‰ç”¨æœŸ)ï¼› Aã€Bä¸¤ç»“ç‚¹æ˜¯è·ç¦»æœ€è¿œçš„ä¸¤ç‚¹ï¼ŒAåœ¨å†²çªçª—å£å†…å¯ä»¥æ£€æµ‹åˆ°æ‰€æœ‰å¯èƒ½çš„å†²çªï¼Œé‚£ä¹ˆå…¶å®ƒç‚¹å½“ç„¶å¯ä»¥åœ¨å†²çªçª—å£å†…æ£€æµ‹åˆ°ã€‚ å±€åŸŸç½‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹åœ¨å†²çªçª—å£Wæ—¶é—´å†…å¯ä»¥æ£€æµ‹åˆ°æ‰€æœ‰å¯èƒ½çš„å†²çªï¼Œè‹¥åœ¨å†²çªçª—å£å†…æ²¡æœ‰æ£€æµ‹åˆ°å†²çª, åˆ™å¯ä»¥ç¡®è®¤è‡ªå·±ç«žäº‰åˆ°äº†æ€»çº¿çš„ä½¿ç”¨æƒï¼Œä¸å†ä¼šä¸Žå…¶ä»–ç«™ç‚¹å‘ç”Ÿå†²çªã€‚ å†²çªåœæ­¢å¦‚æžœå‘é€èŠ‚ç‚¹æ£€æµ‹åˆ°å†²çªï¼Œåˆ™åœæ­¢å‘é€æ•°æ®ï¼Œå¹¶å‘å‡ºä¸€ä¸ª4å­—èŠ‚æˆ–6å­—èŠ‚çš„é˜»å¡žä¿¡å·æ¥åŠ å¼ºå†²çªï¼Œå¢žåŠ ç¼–ç è¿ä¾‹çš„ä½æ•°ï¼Œä½¿å…¶ä»–ç«™ç‚¹å¿«é€Ÿæ£€æµ‹åˆ°ã€‚ç„¶åŽç­‰å¾…éšæœºé•¿çš„æ—¶é—´åŽå†é‡æ–°ä¾¦å¬ä¿¡é“ã€‚ å»¶è¿Ÿé‡å‘é‡‡å–æˆªæ–­å¼äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ã€‚ç®—æ³•è¿‡ç¨‹ï¼š ç¡®å®šåŸºæœ¬é€€é¿æ—¶é—´ç‰‡Bï¼Œä¸€èˆ¬å–å†²çªçª—å£å€¼2tï¼ˆä¸¤å€çš„å•å‘ä¼ æ’­æ—¶å»¶ï¼‰ã€‚ å®šä¹‰å‚æ•°kï¼Œå³k ï¼ Min(é‡ä¼ æ¬¡æ•°,10) ã€‚ ä»Žç¦»æ•£çš„æ•´æ•°é›†åˆ[0,1,â€¦,(2k - 1)]ä¸­ç­‰æ¦‚çŽ‡éšæœºå–å‡ºä¸€ä¸ªæ•°ï¼Œè®°ä¸ºrã€‚ é‡ä¼ æ‰€éœ€çš„æ—¶å»¶å°±æ˜¯rå€çš„åŸºæœ¬é€€é¿æ—¶é—´ï¼Œå³r*Bã€‚ å½“é‡ä¼ è¾¾16æ¬¡ä»ä¸èƒ½æˆåŠŸæ—¶ï¼Œåˆ™ä¸¢å¼ƒè¯¥å¸§ï¼Œå¹¶å‘é«˜å±‚æŠ¥å‘Šã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”äº¤æ¢å±€åŸŸç½‘]]></title>
    <url>%2F2019%2F12%2F17%2F%E8%AE%A1%E7%BD%91%E2%80%94%E4%BA%A4%E6%8D%A2%E5%B1%80%E5%9F%9F%E7%BD%91%2F</url>
    <content type="text"><![CDATA[äº¤æ¢å±€åŸŸç½‘ä¸¤ä¸ªæ¦‚å¿µ å†²çªåŸŸï¼šç½‘ç»œä¸­çš„ä¸€ç»„è®¾å¤‡é›†åˆï¼›åŸŸå†…çš„ä¸åŒè®¾å¤‡åŒæ—¶å‘å‡ºçš„ä»¥å¤ªç½‘å¸§ä¼šäº’ç›¸å†²çªï¼›ç‰¹ç‚¹ä¸ºï¼šæ¯å°ä¸»æœºçš„å¯ç”¨å¸¦å®½å¾ˆä½Žï¼Œä¿¡æ¯ä¼ è¾“å®‰å…¨å¾—ä¸åˆ°ä¿è¯ã€‚ å¹¿æ’­åŸŸï¼šç½‘ç»œä¸­çš„ä¸€ç»„è®¾å¤‡é›†åˆï¼›å½“è¿™äº›è®¾å¤‡ä¸­çš„ä¸€ä¸ªå‘å‡ºä¸€ä¸ªå¹¿æ’­æ—¶ï¼Œæ‰€æœ‰å…¶ä»–çš„è®¾å¤‡éƒ½èƒ½æŽ¥æ”¶åˆ°è¿™ä¸ªå¹¿æ’­å¸§ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨äº¤æ¢æœºï¼Ÿä½¿ç”¨é›†çº¿å™¨æœ‰ä¸‹é¢å‡ ä¸ªç¼ºç‚¹ï¼š éšç€å…±äº«å¼ä»¥å¤ªç½‘è§„æ¨¡çš„æ‰©å¤§ï¼Œå†²çªåŸŸä¸æ–­æ‰©å¤§ï¼Œå¯¼è‡´ç½‘ç»œå¸¦å®½ä¸‹é™ã€‚ ä¸åŒæ•°æ®ä¼ è¾“é€ŸçŽ‡çš„ä»¥å¤ªç½‘æ— æ³•é€šè¿‡é›†çº¿å™¨äº’è”ã€‚ æ‰€ä»¥ï¼Œä½¿ç”¨äº¤æ¢æœºå°†å…±äº«å¼å±€åŸŸç½‘è½¬å˜ä¸ºäº¤æ¢å¼å±€åŸŸç½‘ï¼Œå¯ä»¥è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ã€‚ äº¤æ¢æœºçš„å·¥ä½œåŽŸç†äº¤æ¢æœºè¡¨çš„ç”Ÿæˆå’Œç»´æŠ¤åœ¨Packet Tracerä¸­æŸ¥çœ‹Macåœ°å€è¡¨ï¼š æ­¤æ—¶çš„Macåœ°å€è¡¨ä¸ºç©ºï¼ŒPC0å‘PC1å‘é€PingåŒ…ä¹‹åŽï¼Œå†æ¬¡æŸ¥çœ‹äº¤æ¢æœºè¡¨ï¼š æ­¤æ—¶è¡¨ä¸­å°±å¤šäº†ä¸¤æ¡Macåœ°å€çš„è®°å½•ã€‚ Macåœ°å€è¡¨å»ºç«‹è¿‡ç¨‹ï¼š PC0å‘PC1å‘é€äº†ä¸€ä¸ªæ•°æ®åŒ…(æ•°æ®åŒ…ä¸­å«æœ‰æºMacåœ°å€å’Œç›®çš„Macåœ°å€)ï¼Œå½“æ•°æ®å¸§ä»Žäº¤æ¢æœºçš„f0/1è¿›å…¥äº¤æ¢æœºåŽï¼Œé¦–å…ˆæ£€æŸ¥Macåœ°å€è¡¨ä¸­çš„è®°å½•ï¼Œå½“å‰æ²¡æœ‰è¯¥è®°å½•ï¼Œå°±ä¼šå°†æ­¤è®°å½•æ·»åŠ è¿›Macåœ°å€è¡¨ï¼Œè¿™æ ·å°±å°†PC0çš„Macåœ°å€å’Œf0/1ç«¯å£å»ºç«‹äº†è”ç³»ï¼Œæ­¤æ—¶ï¼ŒMacåœ°å€è¡¨ä¸­æ²¡æœ‰å…³äºŽPC1çš„è®°å½•ï¼Œè¿™æ—¶å€™ï¼Œäº¤æ¢æœºä¼šå‘é™¤äº†f0/1ç«¯å£ä¹‹å¤–çš„æ‰€æœ‰ç«¯å£è½¬å‘ï¼Œä»Žè€Œä¿è¯PC1å¯ä»¥æŽ¥æ”¶åˆ°è¯¥æ•°æ®å¸§ã€‚å½“PC1å‘PC0å‘é€æ•°æ®åŒ…çš„æ—¶å€™ï¼Œå°±ä¼šå°†PC1çš„Macåœ°å€æ·»åŠ åˆ°Macåœ°å€è¡¨ä¸­ï¼Œæ­¤æ—¶å°±åªä¼šå‘f0/1ç«¯å£è½¬å‘ï¼Œä¸å½±å“å…¶ä»–ç«¯å£ã€‚ å¦‚æžœæ•°æ®å¸§ä¸ºå¹¿æ’­å¸§ï¼Œé‚£ä¹ˆäº¤æ¢æœºä¼šç›´æŽ¥å°†æ•°æ®å¸§è½¬å‘è‡³æ‰€æœ‰ç«¯å£ã€‚ æ¯å½“åŠ å…¥ä¸€æ¡æ–°è®°å½•æˆ–æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œå°±ä¼šè®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“å®šæ—¶å™¨è¶…æ—¶è®°å½•ä»ç„¶æ²¡æœ‰è¢«æ›´æ–°ï¼Œå°±è§†ä¸ºâ€œè¿‡æ—¶â€ï¼Œè¢«åˆ é™¤ã€‚åœ¨äº¤æ¢æœºä¸­å¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ—¶é—´ã€‚ è¿‡ä¸€ä¼šå†æŸ¥çœ‹Macåœ°å€è¡¨ï¼Œåˆšåˆšçš„ä¸¤æ¡çš„è®°å½•å°±æ¶ˆå¤±äº†ã€‚ ç«¯å£å®‰å…¨äº¤æ¢æœºçš„ç«¯å£å®‰å…¨ç‰¹æ€§å¯ä»¥é˜»æ­¢éžæŽˆæƒç”¨æˆ·å°†é›†çº¿å™¨ã€äº¤æ¢æœºç­‰è®¾å¤‡æŽ¥å…¥åˆ°å±€åŸŸç½‘ä¸­ã€‚ åœ¨Packet Tracerä¸­å®žçŽ°ç«¯å£å®‰å…¨æ‹“æ‰‘å›¾ é…ç½®è¿‡ç¨‹ è¿™é‡Œé™åˆ¶f0/1æŽ¥å£åªå…è®¸Router0æŽ¥å…¥ã€‚ é¦–å…ˆï¼ŒæŸ¥çœ‹R0çš„f0/0æŽ¥å£çš„Macåœ°å€ã€‚ é…ç½®f0/0çš„ipå’Œå­ç½‘æŽ©ç ã€‚ Router&gt;enableRouter#config terminal Router(config)#int f0/0Router(config-if)#no shutdownRouter(config-if)#ip address 172.16.0.101 255.255.0.0 ä½¿ç”¨å‘½ä»¤show int f0/0æŸ¥çœ‹f0/0æŽ¥å£çš„Macåœ°å€ï¼š é…ç½®äº¤æ¢ç«¯å£å®‰å…¨ Switch(config)#int f0/1Switch(config-if)#shutdown//å°†ç«¯å£æ”¹ä¸ºè®¿é—®æ¨¡å¼ï¼Œå³ç”¨æ¥æŽ¥å…¥è®¡ç®—æœºSwitch(config-if)#switchport mode access//æ‰“å¼€äº¤æ¢æœºçš„ç«¯å£å®‰å…¨åŠŸèƒ½Switch(config-if)#switchport port-security//è¯¥ç«¯å£ä¸‹çš„Macæ¡ç›®æœ€å¤§æ•°é‡ä¸º1ï¼Œå³åªå…è®¸ä¸€å°è®¾å¤‡æŽ¥å…¥Switch(config-if)#switchport port-security maximum 1//è¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å½“æœ‰æ–°çš„è®¡ç®—æœºæŽ¥å…¥çš„æ—¶å€™ï¼Œè¯¥æŽ¥å£çš„MACæ¡ç›®è¶…è¿‡æœ€å¤§æ•°é‡æ—¶äº¤æ¢æœºçš„å¤„ç†ç­–ç•¥//switchport port-security violation &#123;shutdown|protect|restrict&#125;//ä¸€å…±æœ‰ä¸‰ç§å¤„ç†ç­–ç•¥//1.protect:æ–°çš„è®¡ç®—æœºå°†æ— æ³•æŽ¥å…¥ï¼Œè€ŒåŽŸæœ‰çš„è®¡ç®—æœºä¸å—å½±å“ï¼›//2.shutdown:è¯¥æŽ¥å£å°†ä¼šè¢«å…³é—­ï¼Œåˆ™è¿™ä¸ªæ–°çš„è®¡ç®—æœºå’ŒåŽŸæœ‰çš„è®¡ç®—æœºéƒ½æ— æ³•æŽ¥å…¥ï¼Œéœ€è¦ç®¡ç†å‘˜ä½¿ç”¨no shutdown&quot;å‘½ä»¤é‡æ–°æ‰“å¼€ã€‚//3.restrict:è¿™ä¸ªæ–°çš„è®¡ç®—æœºå¯ä»¥æŽ¥å…¥ï¼Œç„¶è€Œäº¤æ¢æœºå°†å‘å‘é€è­¦å‘Šä¿¡æ¯ã€‚Switch(config-if)#switchport port-security violation shutdown//é…ç½®å…è®¸æŽ¥å…¥çš„è®¾å¤‡çš„Macåœ°å€Switch(config-if)#switchport port-security mac-address 0007.ec03.4401Switch(config-if)#no shutdown Switch(config-if)#int vlan 1Switch(config-if)#no shutdown Switch(config-if)#ip address 172.16.0.1 255.255.0.0 é…ç½®å®Œæ¯•ä»¥åŽï¼ŒæŸ¥çœ‹äº¤æ¢æœºçš„Macåœ°å€è¡¨ï¼Œåˆšåˆšçš„Macåœ°å€Typeä¸ºé™æ€ï¼š ä½¿ç”¨å‘½ä»¤show port-securityå¯ä»¥æŸ¥çœ‹å½“å‰çš„ç«¯å£å®‰å…¨çš„è®¾ç½®æƒ…å†µï¼š æ¨¡æ‹Ÿéžæ³•æŽ¥å…¥ï¼Œä¿®æ”¹R0çš„f0/0æŽ¥å£çš„Macåœ°å€ï¼Œæ¨¡æ‹Ÿå¦ä¸€å°è®¾å¤‡æŽ¥å…¥ï¼Œ Router(config)#int f0/0Router(config-if)#mac-address 0012.1234.5678 æ­¤æ—¶ï¼Œåœ¨R0ä¸Šæ‰§è¡Œping 172.16.0.1ï¼Œpingä¸é€šäº¤æ¢æœºé…ç½®çš„vlanã€‚ ç”Ÿæˆæ ‘åè®®ä¸ºä»€ä¹ˆéœ€è¦ç”Ÿæˆæ ‘åè®®ï¼Ÿä¸‹é¢æ˜¯ä¸€ä¸ªäº¤æ¢å±€åŸŸç½‘çš„å†—ä½™è®¾è®¡ï¼Œè¿™æ ·çš„æ‹“æ‰‘è®¾è®¡æ¶ˆé™¤äº†ç”±äºŽå•ç‚¹æ•…éšœæ‰€ä»¥å¼•èµ·çš„ç½‘ç»œä¸é€šçš„é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿä¼šä½¿ç½‘ç»œä¸­äº§ç”ŸçŽ¯è·¯ï¼Œä¼šå¸¦æ¥å¹¿æ’­é£Žæš´ã€é‡å¤å¸§å’ŒMacåœ°å€è¡¨ä¸ç¨³å®šçš„é—®é¢˜ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨ç”Ÿæˆæ ‘åè®®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¹¿æ’­é£Žæš´äº§ç”Ÿçš„è¿‡ç¨‹é‚£ä¸Šå›¾ä½œä¸ºä¾‹å­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä¸»æœºXã€SW0ã€SW1ã€è·¯ç”±å™¨Yã€‚å½“ä¸»æœºXå‘è·¯ç”±å™¨Yå‘å‡ºä¸€ä¸ªæ•°æ®å¸§æ—¶ï¼Œå‡å¦‚æ•°æ®å¸§å…ˆåˆ°è¾¾äº†SW0ï¼Œç„¶è€Œè¯¥äº¤æ¢æœºçš„Macåœ°å€è¡¨ä¸­å¹¶æ²¡æœ‰è·¯ç”±å™¨Yçš„è®°å½•ï¼Œè¿™æ—¶å€™SW1å°±ä¼šå‘å¹¿æ’­ï¼ŒSW1æŽ¥æ”¶åˆ°å¹¿æ’­ä¹‹åŽä¼šæŒ‰ç…§SW0ä¸€æ ·çš„å¤„ç†æ–¹å¼å‘å¹¿æ’­ï¼Œè¿™æ ·çš„è¿™ä¸ªæ•°æ®å¸§å°±åœ¨è¿™ä¸ªå°é—­çš„çŽ¯è·¯ä¸­æ— é™çš„å¾ªçŽ¯â€¦â€¦ ç”Ÿæˆæ ‘åè®®STPç”Ÿæˆæ ‘åè®®æ‰€åšçš„äº‹æƒ…å°±æ˜¯å°†å…¶ä¸­çš„çŽ¯è·¯æ–©æ–­ï¼Œå½¢æˆä¸€ä¸ªæ ‘å½¢ç»“æž„ï¼Œè¿™æ ·å°±ä¸ä¼šæ— çº¿å¾ªçŽ¯ä¸‹åŽ»äº†ã€‚ ç®—æ³•è¿‡ç¨‹ é€‰ä¸¾æ ¹æ¡¥ã€‚é¦–å…ˆé€‰ä¸¾æ ¹æ¡¥(Root)ï¼Œå°†æ­¤äº¤æ¢æœºä½œä¸ºç”Ÿæˆæ ‘çš„æ ¹ã€‚åœ¨é€‰ä¸¾å‡ºæ ¹äº¤æ¢æœºä¹‹å‰ï¼Œæ¯ä¸ªäº¤æ¢æœºéƒ½ä¼šè®¤ä¸ºè‡ªå·±æ˜¯æ ¹äº¤æ¢æœºï¼Œæ¯ä¸ªéƒ½ä¼šå‘é€BPDUã€‚é€šè¿‡æ¯”è¾ƒBPDUçš„æ¡¥IDå­—æ®µï¼Œæ¡¥IDæœ€å°çš„äº¤æ¢æœºå°±ä¼šæˆä¸ºæ ¹æ¡¥ã€‚æ¡¥IDç”±æ¡¥ä¼˜å…ˆçº§ï¼ˆBridge Priorityï¼‰ å’Œ48ä½çš„MACåœ°å€æž„æˆã€‚æ¡¥IDå¯ä»¥äººå·¥è®¾ç½®ï¼Œ ä¼˜å…ˆçº§æœ€é«˜çš„è®¾å¤‡ï¼ˆæ•°å€¼è¶Šå°è¶Šä¼˜å…ˆï¼‰ä¼šè¢«é€‰ä¸¾ä¸ºæ ¹æ¡¥ã€‚ å¦‚æžœä¼˜å…ˆçº§ç›¸åŒï¼Œ åˆ™ä¼šæ¯”è¾ƒMACåœ°å€ï¼Œ MACåœ°å€è¶Šå°åˆ™è¶Šä¼˜å…ˆ ã€‚ é€‰ä¸¾æ ¹ç«¯å£ã€‚è®¡ç®—åˆ°æ‰€æœ‰ç«¯å£çš„æ‰€æœ‰çš„è·¯å¾„ä»£ä»·ï¼Œå°†ä»£ä»·æœ€å°çš„ä½œä¸ºæ ¹ç«¯å£(Root Port)ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒä¸€äº¤æ¢æœºä¸Šä¸åŒç«¯å£ä¹‹é—´çš„è·¯å¾„å¼€é”€å€¼ä¸º0ã€‚å¦‚æžœæœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ç«¯å£è®¡ç®—å¾—åˆ°çš„ç´¯è®¡è·¯å¾„å¼€é”€ç›¸åŒï¼Œé‚£ä¹ˆæ¯”è¾ƒéžæ ¹äº¤æ¢æœºçš„ä¸Šè¡Œäº¤æ¢æœºæ¡¥IDï¼Œæ¡¥IDå°çš„ä½œä¸ºæ ¹ç«¯å£ã€‚åœ¨æ ¹è·¯å¾„å¼€é”€ï¼ŒæŒ‡å®šæ¡¥IDéƒ½ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œä¸Šè¡Œäº¤æ¢æœºçš„æœ€å°ç«¯å£å·ï¼ˆç‰©ç†ç¼–å·ï¼‰æ‰€è¿žæŽ¥çš„éžäº¤æ¢æœºçš„ç«¯å£ä¸ºæ ¹ç«¯å£ã€‚ æ¯”è¾ƒè¿‡ç¨‹ï¼š è®¡ç®—éžæ ¹äº¤æ¢æœºåˆ°è¾¾æ ¹æ¡¥çš„é“¾è·¯å¼€é”€ï¼› æ¯”è¾ƒéžæ ¹äº¤æ¢æœºçš„ä¸Šè¡Œäº¤æ¢æœºæ¡¥IDï¼ˆç”±ä¼˜å…ˆçº§ä¸ŽMACåœ°å€å†³å®šï¼‰ï¼› ä¸Šè¡Œäº¤æ¢æœºçš„ç‰©ç†æœ€å°ç«¯å£å·æ‰€è¿žæŽ¥çš„éžäº¤æ¢æœºçš„ç«¯å£ä¸ºæ ¹ç«¯å£ã€‚ é€‰ä¸¾æŒ‡å®šç«¯å£ã€‚æ ¹æ¡¥çš„æ¯ä¸ªç«¯å£éƒ½æ˜¯æŒ‡å®šç«¯å£ï¼Œä¸Žæ ¹ç«¯å£ç›´è¿žçš„ç«¯å£ä¹Ÿæ˜¯æŒ‡å®šç«¯å£ã€‚ï¼Œæ¯”è¾ƒè¯¥ç½‘æ®µä¸­æ¯ä¸ªç«¯å£åˆ°æ ¹æ¡¥çš„è·¯å¾„ä»£ä»·ï¼Œä»£ä»·æœ€å°çš„åšæŒ‡å®šç«¯å£ã€‚ æ‰€æœ‰æœªè¢«é€‰ä½œæ ¹ç«¯å£æˆ–æŒ‡å®šç«¯å£çš„ç«¯å£éƒ½æ˜¯éžæŒ‡å®šç«¯å£ï¼Œè¿›å…¥é˜»å¡žçŠ¶æ€ã€‚ åœ¨Packet Tracerä¸­æµ‹è¯•STPç”Ÿæˆæ ‘åè®®æ‹“æ‰‘å›¾ åœ¨æ¯ä¸ªäº¤æ¢æœºä¸Šæ‰§è¡ŒSwitch#show spanning-treeå‘½ä»¤ï¼ŒæŸ¥çœ‹ç”Ÿæˆæ ‘ä¿¡æ¯ï¼š SW0ï¼š SW1ï¼š SW2ï¼š SW3ï¼š ä¸‹é¢åˆ†æžåè®®æ‰§è¡Œçš„è¿‡ç¨‹ï¼š (1) é¦–å…ˆé€‰ä¸¾æ ¹æ¡¥ï¼Œå››ä¸ªäº¤æ¢æœºçš„æ¡¥ä¼˜å…ˆçº§ç›¸åŒï¼Œéƒ½æ˜¯32769ï¼Œæ‰€ä»¥æ¯”è¾ƒMacåœ°å€ï¼ŒSW3çš„Macåœ°å€å€¼æœ€å°ï¼Œæ‰€ä»¥é€‰ä¸¾SW3ä¸ºæ ¹æ¡¥ã€‚ (2) é€‰ä¸¾æ ¹ç«¯å£ï¼Œæ¯”è¾ƒæ¯ä¸ªéžæ ¹æ¡¥åˆ°æ ¹æ¡¥çš„è·¯å¾„ä»£ä»·ï¼ŒSW1çš„f0/2ç«¯å£å’ŒSW2çš„f0/2ç«¯å£åˆ°æ ¹æ¡¥çš„ä»£ä»·æœ€å°ï¼Œéƒ½ä¸º19ï¼Œæ‰€ä»¥SW1çš„f0/2æŽ¥å£å’ŒSW2æŽ¥å£ä¸ºæ ¹ç«¯å£ã€‚ç”±äºŽSW0çš„ä¸¤ä¸ªæŽ¥å£çš„è·¯å¾„ä»£ä»·éƒ½ä¸º38ï¼Œä»£ä»·ç›¸åŒï¼Œæ‰€ä»¥ç»§ç»­æ¯”è¾ƒä¸Šè¡Œäº¤æ¢æœºçš„æ¡¥IDï¼ŒSW1çš„æ¡¥IDå°äºŽSW2çš„æ¡¥IDï¼Œæ‰€ä»¥SW0çš„f0/1ä¸ºæ ¹ç«¯å£ã€‚ (3) é€‰ä¸¾æŒ‡å®šç«¯å£ï¼ŒçŽ°åœ¨æ ¹æ¡¥çš„æ‰€æœ‰æŽ¥å£éƒ½æ˜¯æŒ‡å®šæŽ¥å£ï¼Œå³SW3çš„æ‰€æœ‰æŽ¥å£éƒ½æ˜¯æŒ‡å®šç«¯å£ï¼Œä¸Žæ ¹ç«¯å£ç›´è¿žçš„ç«¯å£ä¹Ÿæ˜¯æŒ‡å®šç«¯å£ï¼Œæ‰€ä»¥SW1çš„f0/1ä¹Ÿæ˜¯æŒ‡å®šç«¯å£ï¼Œå†æ¯”è¾ƒSW0çš„f0/2å’ŒSW2çš„f0/1æŽ¥å£ï¼ŒSW2çš„f0/1æŽ¥å£ä»£ä»·å°äºŽSW0çš„f0/2æŽ¥å£çš„ä»£ä»·ï¼Œæ‰€ä»¥SW2çš„f0/1ä¸ºæŒ‡å®šç«¯å£ï¼ŒçŽ°åœ¨åªå‰©ä¸‹SW0çš„f0/2æŽ¥å£ï¼Œè¯¥æŽ¥å£å°±æˆä¸ºäº†éžæŒ‡å®šç«¯å£ï¼Œæ‰€ä»¥è¯¥ç«¯å£è¢«é˜»å¡žï¼Œç”Ÿæˆæ ‘è¿‡ç¨‹ç»“æŸã€‚ è™šæ‹Ÿå±€åŸŸç½‘VLANä¸ºä»€ä¹ˆä½¿ç”¨VLANï¼Ÿå½“å¹¿æ’­åŸŸä¸­çš„ç»“ç‚¹ä¸æ–­å¢žå¤šçš„æ—¶å€™ï¼Œç½‘ç»œä¸­è¿‡å¤šçš„å¹¿æ’­åŒ…ä¼šä¸¥é‡å½±å“é€šä¿¡çš„æ•ˆçŽ‡ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨vlanåœ¨ç‰©ç†æŽ¥çº¿çš„åŸºç¡€ä¸Šæ”¹å˜é€»è¾‘åˆ†ç»„çš„æ–¹å¼æ¥ç¼©å°å¹¿æ’­åŸŸã€‚ VLANçš„åˆ’åˆ† ä¸€ä¸ªVLAN = ä¸€ä¸ªå¹¿æ’­åŸŸ = ä¸€ä¸ªé€»è¾‘ç½‘æ®µï¼ˆå­ç½‘ï¼‰ åˆ’åˆ†æ–¹æ³• é™æ€VLANï¼šä½¿ç”¨ç«¯å£å·å®šä¹‰ ä¾‹å¦‚ï¼š VLAN1ï¼š1ã€3ã€4ç«¯å£ VLAN2ï¼š2ã€5ã€6ç«¯å£ åŠ¨æ€VLANï¼šä½¿ç”¨MACåœ°å€ç­‰å®šä¹‰ ä¾‹å¦‚ï¼š VLAN10ï¼šMAC2ã€MAC3ã€MAC4 â€‹ VLAN20ï¼šMAC1ã€MAC5ã€MAC6 VLANé—´çš„è·¯ç”±åœ¨äº¤æ¢æœºä¸Šåˆ’åˆ†VLANåŽï¼ŒVLANå†…éƒ¨çš„é€šä¿¡é€šè¿‡äº¤æ¢æœºè½¬å‘ï¼Œä½†æ˜¯VLANé—´çš„è®¡ç®—æœºå°±æ— æ³•é€šä¿¡äº†ã€‚VLANé—´çš„é€šä¿¡éœ€è¦å€ŸåŠ©ç¬¬3å±‚å…·æœ‰è·¯ç”±åŠŸèƒ½çš„è®¾å¤‡ VLANé—´çš„è·¯ç”±å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®žçŽ°ï¼š å•è‡‚è·¯ç”± å¦‚æžœæ¯ä¸ªVLANè¿žæŽ¥ä¸€ä¸ªè·¯ç”±å™¨ç«¯å£,åˆ™å ç”¨å¤ªå¤šçš„è·¯ç”±å™¨ç«¯å£ï¼Œå•è‡‚è·¯ç”±å¯ä»¥èŠ‚çœç«¯å£ ä¸‰å±‚äº¤æ¢æœº ä¸‰å±‚äº¤æ¢æœºçš„åŠŸèƒ½æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªäº¤æ¢æœº+è·¯ç”±å™¨ã€‚ åœ¨Packet Tracerä¸­é…ç½®VLANä½¿ç”¨ä¸‰å±‚äº¤æ¢æœºæ¥é…ç½®VLANï¼Œè¿›è¡ŒVLANé—´çš„è·¯ç”±ã€‚ æ‹“æ‰‘å›¾ å›¾ä¸­çš„Multilayer Switch 0å°±æ˜¯ä¸€å°ä¸‰å±‚äº¤æ¢æœºã€‚ é…ç½®è¿‡ç¨‹ åœ¨SW0ä¸Šï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š //å¼€å¯è·¯ç”±åŠŸèƒ½Switch(config)#ip routing//é…ç½®vlan 1Switch(config)#int vlan 1Switch(config-if)#no shutdownSwitch(config-if)#ip address 172.16.1.254 255.255.255.0//é…ç½®vlan 2Switch(config)#int vlan 2Switch(config-if)#no shutdownSwitch(config-if)#ip address 172.16.2.254 255.255.255.0 é…ç½®å®Œæ¯•ä»¥åŽï¼Œå¯ä»¥æ‰§è¡ŒSwitch#show ip routeæ¥æŸ¥çœ‹è·¯ç”±è¡¨ï¼š é…ç½®ä¸¤å°ä¸»æœºçš„IPã€å­ç½‘æŽ©ç å’Œé»˜è®¤ç½‘å…³ã€‚ PC0 IPåœ°å€ï¼š172.16.1.1ï¼Œå­ç½‘æŽ©ç ï¼š255.255.255.0ï¼Œé»˜è®¤ç½‘å…³ï¼š172.16.1.254 PC2 IPåœ°å€ï¼š172.16.2.1ï¼Œå­ç½‘æŽ©ç ï¼š255.255.255.0ï¼Œé»˜è®¤ç½‘å…³ï¼š172.16.2.254 é…ç½®å®Œæ¯•ä»¥åŽï¼Œåœ¨PC0ä¸ŠPing PC1ï¼Œå¦‚æžœé…ç½®æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥Pingé€šã€‚ å‚è€ƒåšå®¢ï¼š https://blog.csdn.net/zainwei1766/article/details/41707447 https://blog.csdn.net/lycb_gz/article/details/17347189]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>äº¤æ¢æœº</tag>
        <tag>Packet Tracer</tag>
        <tag>STP</tag>
        <tag>VLAN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”ä»¥å¤ªç½‘å¸§]]></title>
    <url>%2F2019%2F12%2F17%2F%E8%AE%A1%E7%BD%91%E2%80%94%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7%2F</url>
    <content type="text"><![CDATA[MACåœ°å€ MACåœ°å€å›ºåŒ–åœ¨ç½‘å¡ä¸­ï¼Œåˆç§°ç‰©ç†åœ°å€ï¼Œå®ƒæ˜¯ç½‘ç»œèŠ‚ç‚¹å…¨çƒå”¯ä¸€çš„ç‰©ç†æ ‡è¯†ï¼Œä¸Žå…¶ç‰©ç†ä½ç½®æ— å…³ã€‚ MACåœ°å€æ˜¯æ•°æ®é“¾è·¯å±‚è¿›è¡Œå¯»å€çš„ä¾æ®ã€‚ ç½‘ç»œèŠ‚ç‚¹çš„æ¯ä¸€ä¸ªç½‘ç»œæŽ¥å£éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„MACåœ°å€ã€‚ä¸€ä¸ªèŠ‚ç‚¹å…è®¸æœ‰å¤šä¸ªMACåœ°å€ï¼Œå–å†³äºŽè¯¥ç«™ç‚¹ç½‘ç»œæŽ¥å£çš„ä¸ªæ•°ã€‚ æ ¼å¼ æ€»é•¿åº¦ä¸º48ä½æ¯å…«ä½åšä¸€ä¸ªåˆ†éš”ã€‚ åœ¨windowsä¸‹è¾“å…¥ipconfig/allæŸ¥çœ‹æœ¬æœºçš„MACåœ°å€ï¼š MACå¸§çš„æ ¼å¼å¸¸ç”¨çš„ä»¥å¤ªç½‘MACå¸§æ ¼å¼æœ‰ä¸¤ç§æ ‡å‡†ï¼š DIX Ethernet V2 æ ‡å‡† IEEE çš„ 802.3 æ ‡å‡† ä¸‹é¢ä¸»è¦åˆ†æžEthernet V2æ ‡å‡†çš„ä»¥å¤ªç½‘å¸§æ ¼å¼ å½“ä»¥å¤ªç½‘å¸§åˆ°è¾¾ç‰©ç†å±‚åŽï¼Œä¼šåœ¨å¸§çš„å‰é¢æ’å…¥çš„ 8 å­—èŠ‚ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µå…± 7 ä¸ªå­—èŠ‚ï¼Œæ˜¯å‰åŒæ­¥ç ï¼Œç”¨æ¥è¿…é€Ÿå®žçŽ° MAC å¸§çš„æ¯”ç‰¹åŒæ­¥ã€‚ç¬¬äºŒä¸ªå­—æ®µæ˜¯å¸§å¼€å§‹å®šç•Œç¬¦ï¼Œè¡¨ç¤ºåŽé¢çš„ä¿¡æ¯å°±æ˜¯ä»¥å¤ªç½‘å¸§ã€‚ä»¥å¤ªç½‘å¸§å¹¶ä¸æ˜¯æœ€ç»ˆçš„ä¼ è¾“å½¢å¼ã€‚ Ethernet â…¡ å¸§æ ¼å¼ å‰å¯¼ç¬¦å’Œèµ·å§‹ç¬¦ï¼š8 Bytes 7ä¸ª10101010 å­—èŠ‚å°¾éš1ä¸ª10101011å­—èŠ‚ï¼Œç”¨æ¥åŒæ­¥æ”¶å‘åŒæ–¹çš„æ—¶é’Ÿé€ŸçŽ‡ï¼Œç¨³å®šæ”¶å‘ç”µè·¯çŠ¶æ€ï¼Œå¹¶è¿›è¡Œå¸§å®šç•Œ ã€‚ ç›®çš„åœ°å€å’Œæºåœ°å€ï¼š6 Bytes + 6 Bytes å‘é€ä¸»æœºå’ŒæŽ¥æ”¶ä¸»æœºçš„ç‰©ç†MACåœ°å€ã€‚ ç±»åž‹ï¼š2 Bytes ä»¥å¤ªç½‘æ”¯æŒå¤šç§ç½‘ç»œå±‚çš„åè®®ï¼Œæ¯”å¦‚IPåè®®çš„ç¼–å·å°±æ˜¯0800ï¼ŒARPåè®®çš„ç¼–å·å°±æ˜¯0806ã€‚ æ•°æ®ï¼š46~1500 Bytes ä»¥å¤ªç½‘è§„å®šï¼Œä»¥å¤ªç½‘æ•°æ®å¸§æ•°æ®åŸŸé•¿åº¦æœ€å°ä¸º46 Bytesï¼Œæ€»é•¿åº¦æœ€å°ä¸º64 Bytesï¼Œå³6 + 6 + 2 + 46 + 4 = 64ï¼Œå½“æ•°æ®çš„å­—èŠ‚ä¸è¶³46 Bytesæ—¶ï¼Œä¼šå¯¹å…¶è¿›è¡Œå¡«å……ï¼›ä»¥å¤ªç½‘çš„MTUä¸º1500 Bytesï¼Œå³æœ€å¤§å­—èŠ‚æ•°ä¸º1500 Bytesã€‚ CRCï¼š4 Bytes é‡‡ç”¨32ä½çš„CRCæ ¡éªŒï¼Œåœ¨æŽ¥æ”¶ç«¯æ ¡éªŒï¼Œå¦‚æžœå‡ºé”™ï¼Œåˆ™å°†è¯¥å¸§ä¸¢å¼ƒã€‚ æœ€å°å¸§é•¿åº¦é—®é¢˜åœ¨CSMA/CDåè®®ä¸€èŠ‚ä¸­æåˆ°äº†ä½¿ç”¨è½½æ³¢ä¾¦å¬æŠ€æœ¯æ¥æ£€æµ‹å†²çªï¼Œé åˆ¤æ–­æ€»çº¿çš„ç”µå¹³æ˜¯å¦å‡ºçŽ°è·³å˜æ¥åˆ¤æ–­æ€»çº¿çš„é—²å¿™ã€‚ä»¥å¤ªç½‘å¸§çš„æœ€å°å¸§é•¿åº¦çš„é™åˆ¶å°±å’ŒCSMA/CDåè®®æœ‰å…³ã€‚ åœ¨ä¸Šå›¾çš„ç¬¬ä¸€ä¸ªè¿‡ç¨‹ä¸­ï¼ŒAä¸»æœºå‘é€äº†ä¸€ä¸ªä»¥å¤ªç½‘å¸§ï¼Œå¦‚æžœå¸§é•¿åº¦è¿‡çŸ­çš„è¯ï¼Œå°±ä¼šé€ æˆåœ¨å‘ç”Ÿå†²çªä¹‹å‰å°±æ”¶åˆ°äº†å‘é€å®Œæ¯•çš„ä¿¡å·ï¼Œå°±æ£€æµ‹ä¸åˆ°å†²çªäº†ï¼Œæ‰€ä»¥æœ€å°å¸§é•¿åº¦å¿…é¡»è¦ä¿è¯å‘é€æ—¶é—´å¤§äºŽæ‰€æœ‰å·¥ä½œç«™ç›‘æµ‹åˆ°å†²çªå¹¶å‘é€ç¢°æ’žçš„æ—¶é—´ã€‚ æ‰€ä»¥ä¸ºäº†é¿å…ä¸Šè¿°æƒ…å†µçš„äº§ç”Ÿï¼Œå°±è¦æ±‚ä»¥å¤ªç½‘å¸§è‡³å°‘éœ€è¦å†²çªçª—å£æ—¶é—´æ‰èƒ½å‘é€å®Œæ¯•ï¼Œå³å‘é€æ–¹åœ¨å‘é€çš„æ—¶å€™ï¼Œå¦‚æžœæœ‰å†²çªä¸€å®šåœ¨å‘é€å®Œä»¥å‰èƒ½æ£€æµ‹åˆ°ã€‚$$æ•°æ®å¸§çš„ä¼ è¾“æ—¶å»¶t_1 = æ•°æ®å¸§é•¿åº¦ / æ•°æ®ä¼ è¾“é€ŸçŽ‡$$ $$ä¿¡å·çš„ä¼ è¾“æ—¶å»¶t_2 = ä¸¤ç«™ç‚¹ä¹‹é—´çš„è·ç¦» / ä¿¡å·ä¼ æ’­é€Ÿåº¦$$ å¦‚æžœè¦ä¿è¯å¸§åœ¨ä¼ è¾“ä¸­å¯ä»¥æ­£å¸¸æ£€æµ‹åˆ°å†²çªï¼Œåˆ™æœ‰$$t_1 &gt;= 2t_2$$æŒ‰ç…§æ ‡å‡†ï¼Œ10Mbpsä»¥å¤ªç½‘é‡‡ç”¨ä¸­ç»§å™¨æ—¶ï¼Œè¿žæŽ¥çš„æœ€å¤§é•¿åº¦æ˜¯2500ç±³ï¼Œæœ€å¤šç»è¿‡4ä¸ªä¸­ç»§å™¨ï¼Œå› æ­¤è§„å®šå¯¹10Mbpsä»¥å¤ªç½‘ä¸€å¸§çš„æœ€å°å‘é€æ—¶é—´ä¸º51.2å¾®ç§’ã€‚è¿™æ®µæ—¶é—´æ‰€èƒ½ä¼ è¾“çš„æ•°æ®ä¸º512ä½ï¼Œ512ä½ï¼64å­—èŠ‚ï¼Œè¿™å°±æ˜¯ä»¥å¤ªç½‘å¸§æœ€å°64å­—èŠ‚çš„åŽŸå› ã€‚ ç»“è®º åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œç”±äºŽå†²çªçª—å£çš„é™åˆ¶ï¼Œæœ€å°å¸§é•¿ $F_{min}$ã€ä¼ è¾“é€ŸçŽ‡ $R$ã€ç½‘ç»œè·¨è· $S$ ä¸‰è€…ä¹‹é—´å¿…é¡»æ»¡è¶³ä¸€å®šçš„å…³ç³»ï¼š$$F_{min} = kSRï¼Œ(k:ç³»æ•°)$$]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>ä»¥å¤ªç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”æ¦‚è¿°]]></title>
    <url>%2F2019%2F12%2F17%2F%E8%AE%A1%E7%BD%91%E2%80%94%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[è®¡ç®—æœºç½‘ç»œçš„åˆ†ç±»æŒ‰ç…§ä¸åŒä½œç”¨èŒƒå›´åˆ†ç±» å¹¿åŸŸç½‘ WAN (Wide Area Network) åŸŽåŸŸç½‘ MAN (Metropolitan Area Network) å±€åŸŸç½‘ LAN (Local Area Network) ä¸ªäººåŒºåŸŸç½‘ PAN (Personal Area Network) æŒ‰ç…§ä¸åŒç½‘ç»œçš„ä½¿ç”¨è€…è¿›è¡Œåˆ†ç±» å…¬ç”¨ç½‘ (public network) ä¸“ç”¨ç½‘ (private network) è™šæ‹Ÿä¸“ç”¨ç½‘ï¼ˆVirtual Private Networkï¼‰ï¼šåœ¨å…¬ç”¨ç½‘ä¸Šå»ºç«‹ä¸“ç”¨ç½‘çš„æŠ€æœ¯ã€‚ æŒ‰ç…§æ‹“æ‰‘ç»“æž„åˆ†ç±» æ˜Ÿåž‹ç»“æž„ çŽ¯åž‹ç»“æž„ æ€»çº¿åž‹ç»“æž„ ç½‘çŠ¶ç»“æž„ è®¡ç®—æœºç½‘ç»œä¸­çš„æ€§èƒ½æŒ‡æ ‡1 é€ŸçŽ‡ æ¯”ç‰¹ï¼ˆbitï¼‰æ˜¯è®¡ç®—æœºä¸­æ•°æ®é‡çš„å•ä½ï¼Œä¹Ÿæ˜¯ä¿¡æ¯è®ºä¸­ä½¿ç”¨çš„ä¿¡æ¯é‡çš„å•ä½ã€‚ä¸€ä¸ªæ¯”ç‰¹å°±æ˜¯äºŒè¿›åˆ¶æ•°å­—ä¸­çš„ä¸€ä¸ª 1 æˆ– 0ã€‚ é€ŸçŽ‡å³æ¯”ç‰¹çŽ‡(bit rate)ï¼Œå•ä½æ—¶é—´å†…ç½‘ç»œä¼ é€’çš„æ¯”ç‰¹æ•°ã€‚æ˜¯è®¡ç®—æœºç½‘ç»œä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡ã€‚é€ŸçŽ‡çš„å•ä½æ˜¯ b/sï¼Œæˆ–kb/s, Mb/s, Gb/s ç­‰ã€‚ 2 å¸¦å®½ â€œå¸¦å®½â€(bandwidth)æœ¬æ¥æ˜¯æŒ‡ä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ï¼Œå•ä½æ˜¯èµ«ï¼ˆæˆ–åƒèµ«ã€å…†èµ«ã€å‰èµ«ç­‰ï¼‰ã€‚ çŽ°åœ¨â€œå¸¦å®½â€æ˜¯æ•°å­—ä¿¡é“æ‰€èƒ½ä¼ é€çš„â€œæœ€é«˜æ•°æ®çŽ‡â€ ï¼Œå•ä½æ˜¯â€œæ¯”ç‰¹æ¯ç§’â€ï¼Œæˆ– b/s (bit/s)ã€‚ å¸¸ç”¨å•ä½ nåƒæ¯”æ¯ç§’ï¼Œå³ kb/s ï¼ˆ10^3b/sï¼‰ nå…†æ¯”æ¯ç§’ï¼Œå³ Mb/sï¼ˆ10^6 b/sï¼‰ nå‰æ¯”æ¯ç§’ï¼Œå³ Gb/sï¼ˆ10^9 b/sï¼‰ nå¤ªæ¯”æ¯ç§’ï¼Œå³ Tb/sï¼ˆ10^12 b/sï¼‰ å…³äºŽé€ŸçŽ‡ã€ç½‘é€Ÿå’Œå¸¦å®½ æ­¤å¤„è®²åˆ°çš„é€ŸçŽ‡å’Œæˆ‘ä»¬å¹³æ—¶è¯´çš„ç½‘é€Ÿä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¹³æ—¶è¯´çš„ç½‘é€Ÿæ¯”å¦‚ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶çš„é€Ÿåº¦æ˜¯2MB/sï¼Œæ­¤å¤„æ˜¯ç”¨å‚¨å­˜å•ä½è¡¡é‡çš„è¿™ä¸ªç½‘é€Ÿå®žé™…ä¸Šæ˜¯æ¯ç§’2M Byteï¼Œç„¶è€Œæ­¤å¤„çš„é€ŸçŽ‡æ˜¯åœ¨ä¿¡æ¯è®ºä¸­ä½¿ç”¨çš„å•ä½ï¼Œå¦‚æžœç½‘ç»œçš„é€ŸçŽ‡ä¸º2Mb/sæŒ‡çš„æ˜¯æ¯ç§’2M bitï¼Œ1Byte = 8 bitï¼Œå¸¦å®½çš„å•ä½å°±æ˜¯å’Œé€ŸçŽ‡ç›¸åŒäº†ï¼Œå¦‚æžœä½ å®¶çš„å¸¦å®½ä¸º100Mb/sï¼Œé‚£ä¹ˆç†è®ºä¸Šçš„ä¸‹è½½é€Ÿåº¦å³ç½‘é€Ÿåº”è¯¥ä¸º12.5MB/sã€‚ 3 åžåé‡ åžåé‡(throughput)è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆæˆ–ä¿¡é“ã€æŽ¥å£ï¼‰çš„å®žé™…æ•°æ®é‡ã€‚ åžåé‡ç»å¸¸ç”¨äºŽå¯¹çŽ°å®žä¸–ç•Œä¸­çš„ç½‘ç»œçš„ä¸€ç§æµ‹é‡ï¼Œä»¥ä¾¿çŸ¥é“å®žé™…ä¸Šåˆ°åº•æœ‰å¤šå°‘æ•°æ®é‡èƒ½å¤Ÿé€šè¿‡ç½‘ç»œã€‚ 4 æ—¶å»¶ æ—¶å»¶æ˜¯æŒ‡æ•°æ®ä»Žç½‘ç»œçš„ä¸€ç«¯ä¼ é€åˆ°å¦ä¸€ç«¯æ‰€éœ€è¦çš„æ—¶é—´ã€‚ç½‘ç»œæ—¶å»¶æ˜¯ç”±ä¼ è¾“æ—¶å»¶ï¼ˆå‘é€æ—¶å»¶ï¼‰ã€ä¼ æ’­æ—¶å»¶ã€å¤„ç†æ—¶å»¶ã€æŽ’é˜Ÿæ—¶å»¶ç´¯åŠ å¾—åˆ°çš„ã€‚ ä¼ è¾“æ—¶å»¶(å‘é€æ—¶å»¶) ä¼ è¾“æ—¶å»¶ï¼ˆå‘é€æ—¶å»¶ ï¼‰ï¼šå‘é€æ•°æ®æ—¶ï¼Œæ•°æ®å—ä»Žç»“ç‚¹è¿›å…¥åˆ°ä¼ è¾“åª’ä½“æ‰€éœ€è¦çš„æ—¶é—´ã€‚ ä¹Ÿå°±æ˜¯ä»Žå‘é€æ•°æ®å¸§çš„ç¬¬ä¸€ä¸ªæ¯”ç‰¹ç®—èµ·ï¼Œåˆ°è¯¥å¸§çš„æœ€åŽä¸€ä¸ªæ¯”ç‰¹å‘é€å®Œæ¯•æ‰€éœ€çš„æ—¶é—´ã€‚ å‘é€æ—¶å»¶ = æ•°æ®å—é•¿åº¦(bit) / å‘é€é€ŸçŽ‡(bit/s)ä¼ æ’­æ—¶å»¶ç”µç£æ³¢åœ¨ä¿¡é“ä¸­éœ€è¦ä¼ æ’­ä¸€å®šçš„è·ç¦»æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ ä¼ æ’­æ—¶å»¶ = ä¿¡é“é•¿åº¦(m) / ä¿¡å·åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€ŸçŽ‡(m/s)å…³äºŽä¼ è¾“æ—¶å»¶å’Œä¼ æ’­æ—¶å»¶ ä¼ è¾“æ—¶å»¶é‡åœ¨å‘é€çš„æ—¶å€™äº§ç”Ÿçš„æ—¶å»¶ï¼Œä¸Žç½‘ç»œä¸¤ç«¯çš„è·ç¦»æ— å…³ï¼Œè€Œå½“æ¶ˆæ¯è¢«å‘é€åˆ°ç½‘çº¿ä¸­åŽçš„æ—¶å»¶å°±æ˜¯ä¼ æ’­æ—¶å»¶ï¼Œä¼ æ’­æ—¶å»¶å°±æ˜¯è·ç¦»çš„å‡½æ•°äº†ã€‚ å¤„ç†æ—¶å»¶äº¤æ¢ç»“ç‚¹ä¸ºå­˜å‚¨è½¬å‘è€Œè¿›è¡Œä¸€äº›å¿…è¦çš„å¤„ç†æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ æŽ’é˜Ÿæ—¶å»¶ ç»“ç‚¹ç¼“å­˜é˜Ÿåˆ—ä¸­åˆ†ç»„æŽ’é˜Ÿæ‰€ç»åŽ†çš„æ—¶å»¶ã€‚æŽ’é˜Ÿæ—¶å»¶çš„é•¿çŸ­å¾€å¾€å–å†³äºŽç½‘ç»œä¸­å½“æ—¶çš„é€šä¿¡é‡ã€‚ æ€»æ—¶å»¶ = å‘é€æ—¶å»¶ + ä¼ æ’­æ—¶å»¶ + æŽ’é˜Ÿæ—¶å»¶ + å¤„ç†æ—¶å»¶ 5 å¾€è¿”æ—¶é—´(RTT)ä»Žå‘é€æ–¹å‘é€æ•°æ®å¼€å§‹ï¼Œåˆ°å‘é€æ–¹æ”¶åˆ°æ¥è‡ªæŽ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œæ€»å…±ç»åŽ†çš„æ—¶é—´(åœ¨TCPåè®®ä¸­å¯ä»¥åˆ¤æ–­æ‹¥å µ)ã€‚ 6 æ—¶å»¶å¸¦å®½ç§¯è‹¥å‘é€ç«¯è¿žç»­å‘é€æ•°æ®ï¼Œä»Žå‘é€æ•°æ®å¼€å§‹ï¼Œåˆ°å‘é€çš„ç¬¬ä¸€ä¸ªæ¯”ç‰¹å³å°†åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œå‘é€ç«¯å·²ç»å‘é€çš„æ¯”ç‰¹æ•°ã€‚ æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ * ä¿¡é“å¸¦å®½7 åˆ©ç”¨çŽ‡åˆ©ç”¨çŽ‡åˆ†ä¸ºä¿¡é“åˆ©ç”¨çŽ‡å’Œç½‘ç»œåˆ©ç”¨çŽ‡ã€‚ ä¿¡é“åˆ©ç”¨çŽ‡æŒ‡å‡ºæŸä¿¡é“æœ‰ç™¾åˆ†ä¹‹å‡ çš„æ—¶é—´æ˜¯è¢«åˆ©ç”¨çš„ï¼ˆæœ‰æ•°æ®é€šè¿‡ï¼‰ã€‚å®Œå…¨ç©ºé—²çš„ä¿¡é“çš„åˆ©ç”¨çŽ‡æ˜¯é›¶ã€‚ ç½‘ç»œåˆ©ç”¨çŽ‡åˆ™æ˜¯å…¨ç½‘ç»œçš„ä¿¡é“åˆ©ç”¨çŽ‡çš„åŠ æƒå¹³å‡å€¼ã€‚ æ—¶å»¶ä¸Žç½‘ç»œåˆ©ç”¨çŽ‡çš„å…³ç³» è‹¥ä»¤ $D_0$ è¡¨ç¤ºç½‘ç»œç©ºé—²æ—¶çš„æ—¶å»¶ï¼ŒDè¡¨ç¤ºç½‘ç»œå½“å‰çš„æ—¶å»¶ï¼Œåˆ™åœ¨é€‚å½“çš„å‡å®šæ¡ä»¶ä¸‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼è¡¨ç¤º D å’Œ $D_0$ä¹‹é—´çš„å…³ç³»ï¼š D = \frac{D_0}{1-U}Uæ˜¯ç½‘ç»œçš„åˆ©ç”¨çŽ‡ï¼Œæ•°å€¼åœ¨ 0 åˆ° 1 ä¹‹é—´ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘â€”TCPåè®®è¯¦è§£]]></title>
    <url>%2F2019%2F12%2F10%2F%E8%AE%A1%E7%BD%91%E2%80%94TCP%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬ç»å¸¸ä¼šæ‹¿UDè·ŸTCPè¿›è¡Œæ¯”è¾ƒï¼Œåœ¨ä»‹ç»TCPä¹‹å‰é¦–å…ˆä»‹ç»ä¸€ä¸‹UDPåè®® UDP å…¨ç§°ï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUDPï¼ŒUser Datagram Protocolï¼‰ï¼ŒUDP ä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ç§æ— éœ€å»ºç«‹è¿žæŽ¥å°±å¯ä»¥å‘é€å°è£…çš„ IP æ•°æ®æŠ¥çš„æ–¹æ³•ã€‚ æ•°æ®æŠ¥æ ¼å¼ æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼šæºç«¯ç¨‹åºå’Œç›®çš„ç«¯ç¨‹åºè¿›ç¨‹çš„ç«¯å£å·ã€‚ æ€»é•¿åº¦ï¼šUDPåŒ…çš„å­—èŠ‚æ•°ï¼ŒåŒ…æ‹¬å¤´éƒ¨å’Œæ•°æ®ï¼Œæœ€å°é•¿åº¦ä¸º8 Byte(å¤´éƒ¨é•¿åº¦ä¸º8 Byte)ã€‚ æ ¡éªŒå’Œï¼šå¯¹ä¼ªåŒ…å¤´ + UDPå¤´éƒ¨ + UDPæ•°æ®ä¸‰éƒ¨åˆ†çš„æ ¡éªŒã€‚ WireSharkä¸­æŠ“åˆ°çš„åŒ…(DNSè§£æžæŠ¥æ–‡) é¦–éƒ¨æ ¼å¼ UDPåè®®çš„é¦–éƒ¨æœ‰ä¸€ä¸ªç‰¹åˆ«çš„åœ°æ–¹å°±æ˜¯ä¼ªé¦–éƒ¨ï¼Œä¼ªé¦–éƒ¨æ˜¯ä¸ä¼šè¢«ä¼ è¾“çš„ï¼Œä»…ä»…æ˜¯åœ¨è®¡ç®—æ£€éªŒå’Œæ—¶ï¼Œä¸´æ—¶æŠŠâ€œä¼ªé¦–éƒ¨â€å’Œ UDP ç”¨æˆ·æ•°æ®æŠ¥è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œä¼ªé¦–éƒ¨åªæ˜¯ä¸ºäº†è®¡ç®—æ£€éªŒå’Œã€‚ æ€»ç»“ä»ŽUDPçš„æ•°æ®æŠ¥æ ¼å¼ä¸Šå°±å¯ä»¥çœ‹å‡ºUDPæ˜¯ä¸€ç§ä¸å¯é çš„ä¼ è¾“å±‚åè®®ï¼š (1) UDPæ— è¿žæŽ¥ï¼Œå³é€šä¿¡çš„åŒæ–¹æ— éœ€å»ºç«‹è¿žæŽ¥å°±å¯ä»¥æ”¶å‘æ•°æ®ã€‚ (2) ä¸è¿›è¡Œå·®é”™æŽ§åˆ¶ï¼Œè€Œä¸”ä¸èƒ½ä¿è¯æ•°æ®å¯ä»¥å‡†ç¡®åˆ°è¾¾ã€‚ (3) ä¸ä¼šè¿›è¡Œæµé‡æŽ§åˆ¶ã€æ‹¥å¡žæŽ§åˆ¶ã€‚ ç„¶è€Œï¼ŒUDPçš„ç¼ºç‚¹å°±æ˜¯TCPçš„ä¼˜ç‚¹ï¼ŒUDPçš„ç¼ºç‚¹ä¹Ÿæ­£æ˜¯TCPçš„ä¼˜ç‚¹ã€‚ TCPåè®® ä¼ è¾“æŽ§åˆ¶åè®®ï¼ˆTCPï¼ŒTransmission Control Protocolï¼‰ï¼Œæ˜¯ä¸€ç§é¢å‘è¿žæŽ¥çš„ã€å¯é çš„ã€åŸºäºŽå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚ æ•°æ®æŠ¥æ ¼å¼ æºç«¯å£å’Œç›®çš„ç«¯å£ï¼šå„2 Byteæºç«¯ç¨‹åºå’Œç›®çš„ç«¯ç¨‹åºè¿›ç¨‹çš„ç«¯å£å·ã€‚ å‘é€åºå·ï¼š4 Byteï¼ŒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚åœ¨å‘é€æ–¹æœ¬æ¬¡è¿žæŽ¥ä¸Šå‘é€çš„æ•°æ®æµä¸­çš„ä½ç½®ã€‚ ç¡®è®¤åºå·ï¼š4 Byteï¼ŒæœŸæœ›æ”¶åˆ°å¯¹æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºå·ï¼Œä¸Ž ACK = 1é…åˆä½¿ç”¨ï¼› å¤´éƒ¨é•¿åº¦ï¼š4 bitï¼Œä»¥4å­—èŠ‚ä¸ºå•ä½æŒ‡å‡ºå¤´éƒ¨çš„é•¿åº¦ï¼Œå¦‚è¯¥ä½ä¸º5ï¼Œåˆ™å¤´éƒ¨é•¿åº¦ä¸º20 Byteã€‚ URGï¼š6 bitå½“ URG = 1 æ—¶ï¼Œè¡¨æ˜Žæ­¤æŠ¥æ–‡æ˜¯ç´§æ€¥æ•°æ®ï¼Œåº”å°½å¿«ä¼ é€å‡ºåŽ»ï¼ŒæŽ¥æ”¶æ–¹åº”ä¼˜å…ˆå¤„ç†ã€‚ ACKï¼šå½“ACK = 1 æ—¶ç¡®è®¤åºå·å­—æ®µæ‰æœ‰æ„ä¹‰ã€‚ PSHï¼šå½“ PSH = 1 æ—¶ï¼Œè¯¥åŒ…è¿žåŒä¼ é€ç¼“å†²åŒºçš„å…¶å®ƒåŒ…åº”ç«‹å³è¿›è¡Œä¼ é€ï¼Œè€Œæ— éœ€ç­‰å¾…ç¼“å†²åŒºæ»¡äº†æ‰é€ï¼ŒæŽ¥æ”¶ç«¯å¿…é¡»å°½å¿«å°†æ­¤æ•°æ®äº¤ç»™ç¨‹åºå¤„ç†ã€‚ RSTï¼šå½“ RST = 1 æ—¶ï¼Œè¡¨æ˜Žå‡ºçŽ°ä¸¥é‡å·®é”™ï¼Œå¤ä½äº§ç”Ÿå·®é”™çš„è¿žæŽ¥ã€‚ SYNã€FINï¼šä¸Žä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹æœ‰å…³ï¼Œå°†åœ¨åŽé¢è§£é‡Šã€‚ çª—å£å¤§å°ï¼š2 Byteï¼Œç”¨äºŽæµé‡æŽ§åˆ¶ï¼Œå°†åœ¨åŽé¢è§£é‡Šã€‚ æ ¡éªŒå’Œï¼š2 Byteï¼Œå’ŒUDPç›¸åŒï¼Œæ ¡éªŒèŒƒå›´ä¹Ÿæ˜¯ä¼ªåŒ…å¤´ + TCPå¤´éƒ¨ + TCPæ•°æ®ã€‚ ç´§æ€¥æŒ‡é’ˆï¼š2 Byteï¼Œå½“ URG = 1 çš„æ—¶ï¼Œç´§æ€¥æŒ‡é’ˆå°±ä¼šæŒ‡ç¤ºå‡ºç´§æ€¥æ•°æ®æ‰€åœ¨ä½ç½®ã€‚ å¯é€‰é¡¹ï¼šé•¿åº¦å¯å˜ï¼Œå¯é€‰é¡¹çš„é•¿åº¦è¦ä¹ˆæ˜¯ 0 ï¼Œè¦ä¹ˆå°±æ˜¯ 32 bit çš„æ•´å€æ•°ã€‚TCP åªè§„å®šäº†ä¸€ç§é€‰é¡¹ï¼Œå³æœ€é•¿æŠ¥æ–‡æ®µMSS(Maximum Segment Size)ï¼Œé™å®šäº†æ¯ä¸ªTCPæŠ¥æ–‡æ®µä¸­æ•°æ®å­—æ®µçš„æœ€å¤§é•¿åº¦ã€‚ æœ€é•¿æŠ¥æ–‡æ®µMSSï¼šä¸ºäº†é¿å…å‘é€ä¸»æœºå¯¹IPæŠ¥æ–‡è¿›è¡Œåˆ†ç‰‡ï¼Œé™å®šTCPæŠ¥æ–‡æ®µä¸­æ•°æ®é‡çš„æœ€å¤§é•¿åº¦ï¼Œä¸Žæ•°æ®é“¾è·¯å±‚MTUæœ‰å…³ã€‚ å¯ä»¥çœ‹å‡ºï¼ŒTCPåè®®ä»Žæ•°æ®æŠ¥æ ¼å¼ä¸Šæ¥çœ‹å°±æ¯”UDPéº»çƒ¦äº†å¾ˆå¤šã€‚ è¿žæŽ¥çš„å»ºç«‹å’Œé‡Šæ”¾ä¸‰æ¬¡æ¡æ‰‹TCPåè®®æ˜¯é¢å‘è¿žæŽ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå‘é€æ•°æ®å‰é¦–å…ˆè¦å»ºç«‹è¿žæŽ¥ï¼ŒTCPå»ºç«‹è¿žæŽ¥çš„æ–¹å¼å°±æ˜¯ä¸‰æ¬¡æ¡æ‰‹ã€‚ ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š (1) å‘èµ·è¿žæŽ¥çš„ä¸€æ–¹ï¼Œå³å®¢æˆ·ç«¯å‘é€SYN = 1ï¼ŒACK = 0ï¼ŒSequence Number = x (è¿™é‡Œçš„xæ˜¯ä¸€ä¸ªéšæœºæ•°ï¼ŒåŽŸå› åŽé¢è¯´æ˜Ž) çš„TCPæŠ¥æ–‡ã€‚ (2) æŽ¥å—è¿žæŽ¥çš„ä¸€æ–¹ï¼Œå³æœåŠ¡ç«¯æŽ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„è¿žæŽ¥è¯·æ±‚åŽï¼Œè¿”å›žSYN = 0ï¼ŒACK = 1ï¼ŒAck Number = x + 1çš„æŠ¥æ–‡ã€‚ (3) å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„å“åº”åŽï¼Œå†å‘é€ä¸€ä¸ªSYN = 0ï¼ŒACK = 1ï¼ŒSequence Number = x + 1çš„æŠ¥æ–‡ã€‚ ä¸ºä»€ä¹ˆåºåˆ—å·åˆå§‹å€¼ä¸ºéšæœºæ•°ï¼Ÿ Sequence numberçš„èµ·å§‹å€¼å°±æ˜¯ä»Žä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸€æ¬¡å¼€å§‹ç¡®å®šçš„ï¼Œè€Œä¸”èµ·å§‹å€¼æ˜¯ç”Ÿæˆçš„éšæœºæ•°ï¼Œè¿™æ ·åšçš„åŽŸå› æ˜¯ä¸ºäº†é˜²æ­¢é»‘å®¢çŒœå‡ºåˆå§‹åºåˆ—å·è¿›è¡Œæ”»å‡»ã€‚ SEQå’ŒACK SEQä»£è¡¨ï¼šå‘é€è¿™ä¸ªåŒ…ä¸­çš„ç¬¬ä¸€ä½åº”è¯¥åœ¨æ•´ä¸ªæ•°æ®æµä¸­æ‰€å¤„çš„ä½ç½®ã€‚ ACKä»£è¡¨ï¼šæŽ¥æ”¶æ–¹å¸Œæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªSequence numberæ˜¯å¤šå°‘ã€‚ ä¸¾ä¾‹ï¼š å‡å¦‚å‘å‡ºäº†Seq numä¸º100çš„åŒ…ï¼Œé‚£ä¹ˆè¿”å›žçš„Ack numå°±åº”è¯¥æ˜¯å¯¹å‰100å·åŒ…çš„ç¡®è®¤ï¼ŒAck num = 101ï¼Œè¡¨ç¤º å®žä¾‹ åˆ†æžWireSharkä¸­æŠ“åˆ°çš„ä¸‰æ¬¡æ¡æ‰‹çš„æ•°æ®åŒ…ã€‚ (1) ç¬¬ä¸€æ¬¡æ¡æ‰‹ ç”±å®¢æˆ·ç«¯å‘å‡ºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡æ¡æ‰‹SYNè¢«ç½®1ï¼ŒåŒæ—¶ç»™å‡ºäº†åˆå§‹çš„Sequence number(æ­¤å¤„WireSharkä¸ºäº†ä¾¿äºŽåˆ†æžå°†åºåˆ—å·å˜æˆäº†ç›¸å¯¹åºåˆ—å·ï¼Œä»Ž0å¼€å§‹)ã€‚ (2) ç¬¬äºŒæ¬¡æ¡æ‰‹ ç”±æœåŠ¡ç«¯è¿”å›žï¼Œç¬¬äºŒæ¬¡æ¡æ‰‹SYNå’ŒACKéƒ½è¢«ç½®1ï¼ŒAck numberè¢«ç½®ä¸ºäº†1ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œè™½ç„¶Segment Lenä¸º0ï¼Œä½†æ˜¯Ack numberå¢žåŠ äº†1ã€‚ (3) ç¬¬ä¸‰æ¬¡æ¡æ‰‹ ç”±å®¢æˆ·ç«¯è¿”å›žï¼ŒACKè¢«ç½®1ï¼Œå‡¡æ˜¯ç”±å®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®å¸§åªæœ‰è¯¥åŒ…çš„ACKæ˜¯è¢«ç½®ä¸º1çš„ å·®é”™æŽ§åˆ¶å·®é”™æŽ§åˆ¶çš„ä¸»è¦ä»»åŠ¡æ˜¯å‘ç”Ÿä¸‹åˆ—å¼‚å¸¸æƒ…å†µçš„æ—¶å€™ï¼Œè¦èƒ½æ£€æµ‹åˆ°å¹¶ä¸”é‡‡å–æŽªæ–½æ¥çº æ­£å·®é”™ã€‚ (1) æŠ¥æ–‡æ®µå‡ºé”™ (2) æŠ¥æ–‡æ®µä¸¢å¤± (3) æŠ¥æ–‡æ®µç¡®è®¤ä¸¢å¤± æŠ¥æ–‡æ®µä¸¢å¤± å‘é€æ–¹æ¯å‘é€ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå°±ä¼šå¯åŠ¨ä¸€ä¸ªé‡ä¼ å®šæ—¶å™¨ï¼Œè‹¥æŸä¸ªæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œå‘é€æ–¹çš„å®šæ—¶å™¨å°±ä¼šè¶…æ—¶ï¼Œç„¶åŽå¯¹å…¶è¿›è¡Œé‡ä¼ ã€‚ æŠ¥æ–‡æ®µå‡ºé”™ å½“æ¯æ¬¡æŽ¥æ”¶ç«¯æ”¶åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œéƒ½ä¼šé¦–å…ˆå¯¹å…¶è¿›è¡Œå·®é”™æ£€æµ‹ï¼Œæ­£ç¡®å°±æŽ¥æ”¶å¹¶è¿”å›žç¡®è®¤ï¼Œé”™è¯¯åˆ™ä¸è¿›è¡Œç¡®è®¤ç›¸åº”ï¼Œè¿™æ ·ï¼Œå½“å¯åŠ¨çš„å®šæ—¶å™¨è¶…æ—¶ä¹‹åŽï¼Œå‘é€æ–¹å°±ä¼šé‡ä¼ ã€‚ ç¡®è®¤ä¸¢å¤± å¦‚æžœç¡®è®¤åŒ…ä¸¢å¤±äº†ï¼Œé‚£ä¹ˆå‘é€æ–¹çš„å®šæ—¶å™¨ä¼šè¶…æ—¶ï¼Œå¯¹æ•°æ®åŒ…è¿›è¡Œé‡ä¼ ï¼ŒæŽ¥æ”¶æ–¹é€šè¿‡æ•°æ®åŒ…çš„åºå·å¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦æ”¶åˆ°äº†é‡å¤åŒ…ï¼Œå¦‚æžœæ”¶åˆ°çš„æ˜¯é‡å¤åŒ…ä¼šå°†è¯¥åŒ…ä¸¢å¼ƒï¼Œä¹‹åŽå†è¿”å›žä¸€æ¬¡ç¡®è®¤ã€‚ æµé‡æŽ§åˆ¶å·®é”™æŽ§åˆ¶ä¸­ç»™å‡ºçš„å‡ ä¸ªå›¾ï¼Œéƒ½æ˜¯åŸºäºŽåœç­‰æŠ€æœ¯æ¥ä¸¾çš„ä¾‹å­ï¼Œç„¶è€Œå‘é€æ–¹æ¯å‘å‡ºä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå°±åœä¸‹æ¥ç­‰å¾…æŽ¥æ”¶æ–¹çš„ç¡®è®¤çš„æ–¹æ³•é€šä¿¡æ•ˆçŽ‡æžä½Žï¼Œæ‰€ä»¥éœ€è¦ä¸€æ¬¡æ€§å‘é€å¤šä¸ªæ•°æ®åŒ…ä»¥æå‡ç½‘ç»œé€šä¿¡çš„æ•ˆçŽ‡ã€‚ç„¶è€Œï¼Œå¦‚æžœä¸€æ¬¡æ€§å‘é€çš„æ•°æ®åŒ…å¤ªå¤šï¼Œæ•°æ®å‘é€è¿‡å¿«ï¼ŒæŽ¥æ”¶æ–¹ä¼šæ¥ä¸åŠæŽ¥æ”¶ï¼Œè¿™æ ·é€šä¿¡æ•ˆçŽ‡åè€Œä¼šé™ä½Žã€‚ TCPåè®®æœ‰ä¸“é—¨çš„æµé‡æŽ§åˆ¶æŠ€æœ¯ï¼Œå°±æ˜¯ä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€æœ¯ã€‚ æ»‘åŠ¨çª—å£æŠ€æœ¯é‡‡ç”¨æ»‘åŠ¨çª—å£æŠ€æœ¯ä»¥åŽï¼Œå…è®¸å‘é€æ–¹åœ¨æœªèŽ·å¾—ç¡®è®¤çš„æƒ…å†µä¸‹è¿žç»­å‘é€å¤šä¸ªæ•°æ®åŒ…ï¼Œä½†æ˜¯ä¼šé™åˆ¶è¿žç»­å‘é€å¤šåŒ…çš„æœ€å¤§æ•°é‡ï¼Œç¼“å’Œä¼ è¾“æ•ˆçŽ‡å’Œæµé‡æŽ§åˆ¶çš„çŸ›ç›¾ã€‚ ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªå‘é€çª—å£çš„ç®€å•ç¤ºä¾‹ï¼Œçª—å£å¤§å°ä¸º4ï¼Œé‚£ä¹ˆå‘é€ç«¯ä¼šä¸€æ¬¡æ€§å°±ä¼šå‘é€4ä¸ªæ•°æ®åŒ…ï¼Œå½“å‘é€ç«¯æ”¶åˆ°æŽ¥æ”¶ç«¯çš„1å·åŒ…çš„å“åº”çš„æ—¶å€™ï¼Œçª—å£å°±ä¼šå‘å‰æ»‘åŠ¨ã€‚ åœ¨TCPåè®®ä¸­çš„æ»‘åŠ¨çª—å£æŠ€æœ¯æ˜¯åŠ¨æ€çš„ï¼Œå› ä¸ºé€šè®¯è¿‡ç¨‹æ˜¯æ”¯æŒå…¨åŒå·¥çš„ï¼Œæ‰€ä»¥TCPæœ‰ä¸¤ä¸ªæ»‘åŠ¨çª—å£ï¼Œä¸€ä¸ªæ˜¯å‘é€çª—å£ï¼Œä¸€ä¸ªæ˜¯æŽ¥æ”¶çª—å£ï¼Œå‘é€çª—å£å¤§å° = æŽ¥æ”¶çª—å£å¤§å°ã€‚åœ¨TCPåè®®æ•°æ®æŠ¥æ ¼å¼ä¸€èŠ‚ä¸­ï¼Œå…¶ä¸­TCPæ•°æ®æŠ¥çš„å¤´éƒ¨æœ‰ä¸€ä¸ªçª—å£å¤§å°å­—æ®µï¼Œè¯¥å­—æ®µå°±æ˜¯æŽ§åˆ¶æ»‘åŠ¨çª—å£çš„å¤§å°çš„ï¼ŒåŒæ–¹ä¼šè¯¥å­—æ®µæ¥é™åˆ¶æ»‘åŠ¨çª—å£çš„å¤§å°ï¼Œè¿›è¡Œæµé‡æŽ§åˆ¶ã€‚ åŸºäºŽæ»‘åŠ¨çª—å£æŠ€æœ¯çš„å·®é”™æŽ§åˆ¶ä½¿ç”¨äº†æ»‘åŠ¨çª—å£æŠ€æœ¯ä¹‹åŽï¼Œå·®é”™æŽ§åˆ¶å°±ä¸æ˜¯ä»…ä»…ä¸ºæ¯ä¸ªæ•°æ®åŒ…å¼€å¯ä¸€ä¸ªå®šæ—¶å™¨ å½“å¯¹æŠ¥æ–‡æ®µçš„ç¡®è®¤è¶…æ—¶ï¼Œæ ¹æ®å‘é€æ–¹é‡‡å–æŽªæ–½çš„ä¸åŒï¼Œå·®é”™æŽ§åˆ¶åˆ†ä¸ºä¸¤ç§ï¼š å›žé€€Nå·®é”™æŽ§åˆ¶ æ‰€è°“çš„å›žé€€Nå·®é”™æŽ§åˆ¶æŒ‡çš„æ˜¯å¦‚æžœæŸä¸ªæŠ¥æ–‡æ®µç¡®è®¤è¶…æ—¶ï¼Œé‚£ä¹ˆå‘é€æ–¹ä¼šæŒ‰éœ€é‡å‘è¯¥åŒ…ä»¥åŠå…¶åŽæ‰€å‘çš„æ‰€æœ‰åŒ…ï¼ŒæŽ¥æ”¶ç«¯ä¼šå¯¹é‡å¤çš„åŒ…è¿›è¡Œä¸¢å¼ƒï¼›æŽ¥æ”¶æ–¹å¯ä»¥è¿›è¡Œç´¯è®¡ç¡®è®¤ã€‚ è¿™ç§æ–¹æ³•å¯¹äºŽæŽ¥æ”¶æ–¹æ¥è¯´åšå‡ºçš„å¤„ç†ç›¸å¯¹ç®€ç­”ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜Žæ˜¾ï¼Œå°±æ˜¯ä¼šå¯¼è‡´æŸäº›å·²ç»æ­£ç¡®æŽ¥å—çš„æ•°æ®é‡ä¼ ï¼Œé™ä½Žé€šä¿¡æ•ˆçŽ‡ã€‚ é€‰æ‹©é‡ä¼ å·®é”™æŽ§åˆ¶ æŸä¸ªæŠ¥æ–‡æ®µçš„ç¡®è®¤è¶…æ—¶ï¼Œå‘é€æ–¹åªé‡ä¼ å®šæ—¶å™¨è¶…æ—¶çš„é‚£ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ŒæŽ¥æ”¶æ–¹å¯ä»¥æš‚å­˜åºå·åœ¨å‡ºé”™æ•°æ®åŒ…ä¹‹åŽï¼ˆæŽ¥æ”¶çª—å£å†…ï¼‰çš„æ•°æ®ï¼Œç›´åˆ°æ”¶åˆ°æ­£ç¡®çš„ï¼ŒæŽ’å¥½åºåŽä¸Šä¼ åº”ç”¨å±‚ï¼›æŽ¥æ”¶æ–¹ä¸é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ã€‚ æ‹¥å¡žæŽ§åˆ¶åœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸèµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åâ€”äº§ç”Ÿæ‹¥å¡ž(congestion)ã€‚ TCPçš„æ‹¥å¡žæŽ§åˆ¶æœºåˆ¶éœ€è¦å‘é€æ–¹é‡‡å–æŸäº›æŽªæ–½æ¥å°½é‡é¿å…æ‹¥å¡žæŽ§åˆ¶çš„å‘ç”Ÿæˆ–è€…å¯¹å·²ç»å‘ç”Ÿçš„æ‹¥å¡žåšå‡ºå“åº”ã€‚ è¿™æ ·ï¼Œæ‹¥å¡žæŽ§åˆ¶å°±å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ‹¥å¡žé¿å…å’Œæ‹¥å¡žæŽ§åˆ¶ã€‚ å‘é€æ–¹å¦‚ä½•æŽ¢æµ‹ç½‘ç»œçš„æ‹¥å¡žçŠ¶å†µï¼Ÿå¦‚æžœå‘ç”Ÿäº†ç½‘ç»œæ‹¥å¡žï¼Œé‚£ä¹ˆæ•°æ®åŒ…çš„ä¼ è¾“å¿…å®šæ”¶åˆ°å½±å“ï¼Œæ‹¥å¡žçš„ç½‘ç»œä¼šå¯¼è‡´æ•°æ®åŒ…ä¼ è¾“å»¶è¿Ÿå˜é•¿æˆ–è€…è¢«ä¸¢å¼ƒã€‚ åœ¨TCPä¸­ä¸¤ç§ç­–ç•¥æ¥æ£€æµ‹å½“å‰ç½‘ç»œæ˜¯å¦æ‹¥å µã€‚ é‡ä¼ å®šæ—¶å™¨è¶…æ—¶ï¼Œè™½ç„¶é‡ä¼ å®šæ—¶å™¨è¶…æ—¶æ˜¯ç”¨æ¥å·®é”™æ£€æµ‹çš„ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ç”±äºŽå‡ºæ•°æ®åŒ…å·®é”™è€Œè¢«ä¸¢å¼ƒçš„æ¦‚çŽ‡æ˜¯å¾ˆå°çš„ã€‚æ‰€ä»¥åªè¦å‡ºçŽ°äº†è¶…æ—¶çš„æƒ…å†µï¼Œå°±å¯ä»¥çŒœæƒ³ç½‘ç»œå‡ºçŽ°äº†æ‹¥å µã€‚ æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„ACKï¼Œä¸ªåˆ«æŠ¥æ–‡æ®µä¼šåœ¨ç½‘ç»œä¸­ä¸¢å¤±ï¼Œé¢„ç¤ºå¯èƒ½ä¼šå‡ºçŽ°æ‹¥å¡žï¼ˆå®žé™…æœªå‘ç”Ÿæ‹¥å¡žï¼‰ï¼Œå› æ­¤å¯ä»¥å°½å¿«é‡‡å–æŽ§åˆ¶æŽªæ–½ï¼Œé¿å…æ‹¥å¡žã€‚ å¦å¤–ï¼Œå¦‚æžœTCPåè®®æ£€æµ‹åˆ°äº†æ‹¥å¡žçŠ¶å†µçš„äº§ç”Ÿï¼Œé‚£ä¹ˆå°±ä¼šé‡‡å–æµé‡æŽ§åˆ¶ï¼Œé€šè¿‡æ”¹å˜æ»‘åŠ¨çª—å£çš„å¤§å°æ¥æŽ§åˆ¶æµé‡ã€‚ å‘é€çª—å£å¤§å° = Min(rwnd, cwnd) æ‹¥å¡žæŽ§åˆ¶ç®—æ³•TCPæ‹¥å¡žæŽ§åˆ¶ç®—æ³•ï¼šæ…¢å¼€å§‹ã€æ‹¥å¡žé¿å…ã€å¿«é€Ÿé‡ä¼ ã€å¿«é€Ÿå›žå¤ã€‚ TCPä¼šä¸ºæ¯ä¸ªè¿žæŽ¥ç»´æŒä¸¤ä¸ªå˜é‡ï¼š æ‹¥å¡žçª—å£ï¼šcwnd æ…¢å¼€å§‹é—¨é™ï¼šssthresh æ…¢å¯åŠ¨ç®—æ³•æ€è·¯ï¼šç”±å°åˆ°å¤§é€æ¸å¢žå¤§æ‹¥å¡žçª—å£çš„æ•°å€¼ã€‚ SMMSï¼šSender Maximum Segment Sizeï¼Œå‘é€æ–¹ä¸€æ¬¡ä¼ è¾“å‘é€çš„æœ€å¤§æ•°æ®æ®µé•¿åº¦ã€‚å‘é€æ–¹å‘é€çš„æ¯ä¸ªæŠ¥æ–‡æ®µä¹Ÿå°±æ˜¯1 SMMSå¤§å°ã€‚ åˆå§‹æ‹¥å¡žçª—å£æ•°å€¼çš„è®¾å®šï¼š åœ¨æ–°çš„RFC 5681ä¸­æŠŠåˆå§‹çš„æ‹¥å¡žçª—å£å€¼æŒ‡å®šä¸º2~4ä¸ªSMMSçš„å€¼ï¼š If SMSS &gt; 2190 bytes: IW = 2 * SMSS bytes and MUST NOT be more than 2 segmentsIf (SMSS &gt; 1095 bytes) and (SMSS &lt;= 2190 bytes): IW = 3 * SMSS bytes and MUST NOT be more than 3 segmentsIf SMSS &lt;= 1095 bytes: IW = 4 * SMSS bytes and MUST NOT be more than 4 segments æ…¢å¯åŠ¨è¿‡ç¨‹ï¼šçŽ°åœ¨å‡å®šæ‹¥å¡žçª—å£cwndçš„åˆå§‹å€¼ä¸º1(1ä¸ªSMSSçš„é•¿åº¦)ï¼Œå‘é€æ–¹æ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œé‚£ä¹ˆcwndå°±å¢žåŠ 1ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ç»è¿‡ä¸€ä¸ªRTTçš„æ—¶é—´ï¼Œcwndå°±åŠ å€ã€‚ æ³¨æ„ï¼šæ…¢å¯åŠ¨çš„æ…¢æŒ‡çš„æ˜¯æ‹¥å¡žçª—å£çš„åˆå€¼å°ï¼Œæ…¢å¯åŠ¨çš„è¿‡ç¨‹å¯ä»¥è¯´æ˜¯ä¸€ç‚¹éƒ½ä¸æ…¢ åœ¨æ…¢å¯åŠ¨è¿›è¡Œåˆ°ä¸€å®šçš„æ—¶é—´ä¹‹åŽï¼Œå¦‚æžœä¸åŠ ä»¥é™åˆ¶ï¼Œå°±ä¼šé€ æˆç½‘ç»œæ‹¥å¡žï¼Œè®¾å®šä¸€ä¸ªæ…¢å¯åŠ¨é—¨é™ssthreshï¼Œå½“cwnd &gt;= ssthreshæ—¶ï¼Œå¼€å§‹è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µï¼šæ‹¥å¡žé¿å…ã€‚ æ‹¥å¡žé¿å…ç®—æ³•æ€è·¯ï¼šä½¿æ‹¥å¡žçª—å£çš„å€¼å¹³ç¼“åœ°å¢žå¤§ ç®—æ³•è¿‡ç¨‹ï¼š æ‹¥å¡žé¿å…é˜¶æ®µä¸å†é‡‡ç”¨æŒ‡æ•°å¢žé•¿çš„å½¢å¼ï¼Œè€Œæ˜¯é‡‡ç”¨çº¿æ€§å¢žé•¿çš„å½¢å¼ã€‚ (1) å½“æ£€æµ‹åˆ°cwnd &gt; ssthreshä¹‹åŽï¼Œå°±ä¼šå°†æ…¢å¯åŠ¨è½¬æ¢ä¸ºæ‹¥å¡žé¿å…ã€‚ (2) æ— è®ºåœ¨æ…¢å¯åŠ¨è¿˜æ˜¯æ‹¥å¡žé¿å…é˜¶æ®µï¼Œåªè¦å‘é€æ–¹åˆ¤æ–­ç½‘ç»œå‡ºçŽ°äº†æ‹¥å¡ž(å®šæ—¶å™¨è¶…æ—¶æˆ–è€…æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„ACK)ï¼Œå°±ä¼šé‡‡å–ä¸‹é¢çš„ç­–ç•¥ï¼š ssthresh = cwnd / 2 cwnd = 1 å¼€å§‹æ‰§è¡Œæ…¢å¯åŠ¨ç®—æ³• ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªTCPæ‰§è¡Œæ‹¥å¡žé¿å…çš„å…¨è¿‡ç¨‹ï¼š å½“TCPå»ºç«‹è¿žæŽ¥ä»¥åŽï¼Œå°†æ‹¥å¡žçª—å£è®¾ç½®ä¸ºäº†1ï¼Œå¼€å§‹æ…¢å¯åŠ¨ï¼ŒcwndæŒ‡æ•°å¢žé•¿ï¼Œcwndç­‰äºŽssthreshçš„åˆå€¼ä¹‹åŽè¿›è¡Œæ‹¥å¡žé¿å…ï¼Œcwndå¼€å§‹çº¿æ€§å¢žé•¿ï¼Œåœ¨12ä¼ è¾“è½®æ¬¡ä¸­ï¼Œå‘ç”Ÿäº†è¶…æ—¶äº‹ä»¶ï¼Œssthresh = 16 / 2 = 8ï¼Œcwnd = 1ï¼Œå¹¶ä¸”é‡æ–°è¿›å…¥æ…¢å¯åŠ¨ã€æ‹¥å¡žé¿å…ï¼Œåˆ°â‘£åŽï¼Œå‘é€äº†æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„ACKçš„æƒ…å†µï¼Œè¿™æ—¶å‘é€æ–¹æ”¹ä¸ºæ‰§è¡Œ==å¿«é‡ä¼ å’Œå¿«æ¢å¤ç®—æ³•==ã€‚ å¿«é‡ä¼ å‘é€æ–¹åªè¦ä¸€è¿žæ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå°±çŸ¥é“æŽ¥æ”¶æ–¹ç¡®å®žæ²¡æœ‰æ”¶åˆ°æŠ¥æ–‡æ®µï¼Œå› è€Œåº”å½“ç«‹å³è¿›è¡Œé‡ä¼ ï¼ˆå³â€œå¿«é‡ä¼ â€ï¼‰ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºçŽ°è¶…æ—¶ï¼Œå‘é€æ–¹ä¹Ÿä¸å°±ä¼šè¯¯è®¤ä¸ºå‡ºçŽ°äº†ç½‘ç»œæ‹¥å¡žã€‚ å¿«æ¢å¤å½“å‘é€ç«¯æ”¶åˆ°è¿žç»­ä¸‰ä¸ªé‡å¤çš„ç¡®è®¤æ—¶nç”±äºŽå‘é€æ–¹çŽ°åœ¨è®¤ä¸ºç½‘ç»œå¾ˆå¯èƒ½æ²¡æœ‰å‘ç”Ÿæ‹¥å¡žï¼Œå› æ­¤çŽ°åœ¨ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯æ‰§è¡Œå¿«æ¢å¤ç®—æ³•ï¼š ssthresh = cwnd / 2 cwnd = ssthresh å¼€å§‹æ‰§è¡Œæ‹¥å¡žé¿å…ç®—æ³• æ‰€ä»¥ï¼Œåœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œåˆ°è¾¾â‘£ä¹‹åŽï¼Œè¿›è¡Œäº†å¿«æ¢å¤ç®—æ³•ï¼Œssthresh = 16 / 2 = 8ï¼Œcwnd = ssthreshï¼Œä¸‹é¢å¼€å§‹è¿›è¡Œæ‹¥å¡žé¿å…ç®—æ³•ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>TCPåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Packet Tracerå®žçŽ°è¿œç¨‹ç®¡ç†äº¤æ¢æœº]]></title>
    <url>%2F2019%2F12%2F09%2F%E5%9C%A8Packet%20Tracer%E4%B8%AD%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E4%BA%A4%E6%8D%A2%E6%9C%BA%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨PCè¿œç¨‹æŽ§åˆ¶äº¤æ¢æœºçš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å°†ç”µè„‘çš„RS 232å’Œäº¤æ¢æœºçš„consoleå£è¿žæŽ¥ï¼Œè¿™ç§ç®¡ç†æ–¹å¼ä¸å ç”¨äº¤æ¢æœºçš„ç½‘ç»œç«¯å£ï¼Œç¬¬ä¸€æ¬¡é…ç½®äº¤æ¢æœºçš„æ—¶å€™å¿…é¡»åˆ©ç”¨è¯¥æ–¹æ³•ï¼›ç¬¬äºŒç§æ–¹å¼æ˜¯åˆ©ç”¨é‡‡ç”¨telnetæ–¹å¼è¿œç¨‹è¿žæŽ¥äº¤æ¢æœºã€‚ä¸‹é¢åœ¨Packet Tracerä¸­åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹å¼ã€‚ consoleæ–¹å¼ æ–°å»ºæ‹“æ‰‘å›¾ ç‚¹å‡»PC0ï¼Œæ‰“å¼€Desktop-&gt;Terminalã€‚ æ‰“å¼€Terminalä¹‹åŽé…ç½®ä¸‹é¢çš„ä¿¡æ¯ï¼Œç‚¹å‡»OKã€‚ è¿™æ ·å°±å¯ä»¥æŽ§åˆ¶äº¤æ¢æœºäº†ï¼Œä¸‹é¢é…ç½®telnetè¿œç¨‹è¿žæŽ¥äº¤æ¢æœºå°±å¯ä»¥ç›´æŽ¥åœ¨è¿™é‡Œé¢è¿›è¡Œã€‚ Telnetè¿œç¨‹æŽ§åˆ¶ æ‹“æ‰‘å›¾ä¸­éœ€è¦å¢žåŠ ä¸€æ ¹ç½‘çº¿ã€‚ ä¾æ¬¡è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ã€‚ Switch&gt;enable //è¿›å…¥ç‰¹æƒæ¨¡å¼Switch#config terminal //è¿›å…¥å…¨å±€é…ç½®æ¨¡å¼SWl(config)#hostname SW1 //ä¸ºäº¤æ¢æœºè®¾ç½®åˆ«åSWl(config)#line vty 0 4 //è¿œç¨‹ç™»å½•ç”¨æˆ·æœ€å¤š5ä¸ªSWl(config-line)#password 123456 //è®¾ç½®è¿œç¨‹ç™»å½•å¯†ç SWl(config-line)#login //å…è®¸è¿œç¨‹ç™»å½•è®¿é—®SWl(config-line)#exit SWl(config)#interface vlan l //é…ç½®vlanSWl(config-if)#ip address 192.168.1.1 255.255.255.0 //é…ç½®vlan 1ç®¡ç†æŽ¥å£çš„IPåœ°å€å’Œå­ç½‘æŽ©ç SWl (config-if)#no shutdown //å¼€å¯vlan1æŽ¥å£ é…ç½®PC0çš„IPå’Œå­ç½‘æŽ©ç ï¼Œä¿è¯å’Œäº¤æ¢æœºåœ¨åŒä¸€ç½‘æ®µä¸‹ã€‚ å…ˆè¯•ä¸€ä¸‹å¯ä¸å¯ä»¥Pingé€šã€‚ ä½¿ç”¨Telnetè¿œç¨‹è¿žæŽ¥äº¤æ¢æœºï¼ŒçŽ°åœ¨å°±å¯ä»¥åœ¨PC0çš„å‘½ä»¤è¡Œä¸­çœ‹åˆ°äº¤æ¢æœºSW1äº†ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>äº¤æ¢æœº</tag>
        <tag>Packet Tracer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¯ä»¶å·¥ç¨‹â€”UML]]></title>
    <url>%2F2019%2F11%2F26%2F%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E2%80%94UML%2F</url>
    <content type="text"><![CDATA[ç”¨ä¾‹å›¾ ç”¨ä¾‹å›¾(Use Case Diagram): ä¹Ÿç§°ä¸ºç”¨æˆ·æ¨¡åž‹å›¾ï¼Œæ˜¯ä»Žè½¯ä»¶éœ€æ±‚åˆ†æžåˆ°æœ€ç»ˆå®žçŽ°çš„ç¬¬ä¸€æ­¥ï¼Œä»Žå®¢æˆ·çš„è§’åº¦æ¥æè¿°ç³»ç»ŸåŠŸèƒ½ã€‚ åŸºæœ¬ç»„ä»¶ å‚ä¸Žè€…ï¼šä¸Žç³»ç»Ÿæ‰“äº¤é“çš„äººæˆ–å…¶ä»–ç³»ç»Ÿå³ä½¿ç”¨è¯¥ç³»ç»Ÿ çš„äººæˆ–äº‹ç‰©ã€‚ ç”¨ä¾‹ï¼šä»£è¡¨ç³»ç»Ÿçš„æŸé¡¹å®Œæ•´çš„åŠŸèƒ½ã€‚ å­ç³»ç»Ÿï¼šç”¨æ¥å±•ç¤ºç³»ç»Ÿçš„ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œè¿™éƒ¨åˆ†åŠŸèƒ½è”ç³»ç´§å¯†ã€‚ å…³ç³»ï¼šç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ã€‚ å…³ç³»ç±»åž‹ è¯´æ˜Ž ç¬¦å· å…³è” å‚ä¸Žè€…å’Œç”¨ä¾‹ä¹‹é—´çš„å…³ç³» æ³›åŒ– å‚ä¸Žè€…ä¹‹é—´æˆ–ç”¨ä¾‹ä¹‹é—´çš„å…³ç³» åŒ…å« ç”¨ä¾‹ä¹‹é—´çš„å…³ç³» æ‰©å±• ç”¨ä¾‹ä¹‹é—´çš„å…³ç³» â€‹ (1) å…³è” è¡¨ç¤ºå‚ä¸Žè€…ä¸Žç”¨ä¾‹ä¹‹é—´çš„é€šä¿¡ï¼Œä»»ä½•ä¸€æ–¹éƒ½å¯å‘é€æˆ–æŽ¥å—æ¶ˆæ¯ã€‚ â€‹ (2) æ³›åŒ– å’Œç±»å›¾ä¸­çš„æ³›åŒ–ç›¸åŒï¼Œéƒ½æ˜¯è¡¨ç¤ºç»§æ‰¿å…³ç³»ï¼Œå­ç”¨ä¾‹å¯ä»¥ç»§æ‰¿çˆ¶ç”¨ä¾‹ï¼Œå­å‚ä¸Žè€…ä¹Ÿå¯ä»¥ç»§æ‰¿çˆ¶å‚ä¸Žè€…ã€‚ â€‹ (3) åŒ…å« åŒ…å«å…³ç³»ç”¨æ¥æŠŠä¸€ä¸ªè¾ƒå¤æ‚ç”¨ä¾‹æ‰€è¡¨ç¤ºçš„åŠŸèƒ½åˆ†è§£æˆè¾ƒå°çš„æ­¥éª¤ã€‚ â€‹ (4) æ‰©å±• æ‰©å±•å…³ç³»æ˜¯æŒ‡ç”¨ä¾‹åŠŸèƒ½çš„å»¶ä¼¸ï¼Œç›¸å½“äºŽä¸ºåŸºç¡€ç”¨ä¾‹æä¾›ä¸€ä¸ªé™„åŠ åŠŸèƒ½ã€‚ é¡ºåºå›¾ é¡ºåºå›¾ä¹Ÿå«æ—¶åºå›¾ï¼Œæè¿°å¯¹è±¡ä¹‹é—´çš„åŠ¨æ€äº¤äº’å…³ç³»ï¼Œç€é‡è¡¨çŽ°å¯¹è±¡é—´æ¶ˆæ¯ä¼ é€’çš„æ—¶é—´é¡ºåº é¡ºåºå›¾çš„Xè½´è¡¨ç¤ºä¸åŒçš„å¯¹è±¡ï¼ŒYè½´è¡¨ç¤ºæ—¶é—´ å¯¹è±¡é—´çš„é€šä¿¡è¡¨ç¤ºä¸ºå¯¹è±¡ç”Ÿå‘½çº¿ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ åŸºæœ¬ç»„ä»¶ å¯¹è±¡ å¯¹è±¡æ˜¯ç±»çš„å®žä¾‹ã€‚ å›¾ç¤ºï¼š ç”Ÿå‘½çº¿ è¡¨ç¤ºå¯¹è±¡çš„ç”Ÿå­˜æ—¶é—´ã€‚ç”Ÿå‘½çº¿ä»Žå¯¹è±¡åˆ›å»ºå¼€å§‹åˆ°å¯¹è±¡é”€æ¯æ—¶ç»ˆæ­¢ã€‚ æ¶ˆæ¯ å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ˜¯é€šè¿‡ç›¸äº’å‘æ¶ˆæ¯æ¥å®žçŽ°çš„ã€‚ä¸€ä¸ªå¯¹è±¡å¯ä»¥è¯·æ±‚ï¼ˆè¦æ±‚ï¼‰å¦ä¸€ä¸ªå¯¹è±¡åšæŸä»¶äº‹ä»¶ã€‚ æ¶ˆæ¯çš„åˆ†ç±» çŠ¶æ€å›¾çŠ¶æ€å›¾åˆ»åˆ’ç‰¹å®šå¯¹è±¡æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€åŠçŠ¶æ€å˜è¿ã€‚ åŸºæœ¬ç»„ä»¶çŠ¶æ€ï¼šçŸ©å½¢ï¼Œå››è§’ä¸ºåœ†å¼§è½¬ç§»ï¼šç®­å¤´èµ·ç‚¹ï¼šä¸€ä¸ªé»‘ç‚¹ç»ˆç‚¹ï¼šä¸€ä¸ªåœˆåŠ ä¸€ä¸ªé»‘ç‚¹ å®žä¾‹ å›¾ä¹¦é¦†çš„ä¹¦ç±çŠ¶æ€è¯´æ˜Žï¼šä¹¦ç±åœ¨æœªå˜æˆå›¾ä¹¦é¦†åœ¨åº“ä¹¦ç±æ—¶ï¼Œä¸ºæ–°ä¹¦ç±çŠ¶æ€ã€‚ä¹¦ç±å¤„äºŽåœ¨åº“çŠ¶æ€æ—¶æ—¢å¯ä»¥é¢„è®¢ä¹Ÿå¯ä»¥å¤–å€Ÿï¼Œå¤–å€ŸåŽå˜ä¸ºå€Ÿå‡ºçŠ¶æ€ã€‚å¤„äºŽé¢„è®¢çŠ¶æ€æ—¶ä¹Ÿå¯ä»¥å¤–å€Ÿï¼Œè¶…å‡ºé¢„è®¢æ—¶é—´æœŸé™åˆ™ä»Žé¢„è®¢çŠ¶æ€ç›´æŽ¥è½¬ä¸ºå¯ç”¨çŠ¶æ€ã€‚å€Ÿé˜…è€…åœ¨è§„å®šçš„é¢„è®¢æ—¶é—´å†…ä¹Ÿå¯ä»¥è€ƒè™‘å–æ¶ˆé¢„è®¢ï¼Œå–æ¶ˆé¢„è®¢åŽä¹¦ç±çš„çŠ¶æ€è½¬ä¸ºå¯ç”¨ã€‚å¤–å€Ÿä¹¦ç±å½’è¿˜åŽå˜ä¸ºå¯ç”¨çŠ¶æ€ã€‚]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¯ä»¶å·¥ç¨‹â€”ä¸ƒå¤§è®¾è®¡åŽŸåˆ™]]></title>
    <url>%2F2019%2F11%2F26%2F%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E2%80%94%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%2F</url>
    <content type="text"><![CDATA[1ã€å¼€é—­åŽŸåˆ™ï¼ˆOpen Close Principleï¼‰ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½åŽ»ä¿®æ”¹åŽŸæœ‰çš„ä»£ç ï¼Œè€Œæ˜¯åœ¨åŽŸæœ‰çš„ä»£ç ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå®žçŽ°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæžœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºŽç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæžœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æŽ¥å£å’ŒæŠ½è±¡ç±»ã€‚ 2ã€é‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ ä»»æ„çˆ¶ç±»å¯ä»¥å‡ºçŽ°çš„åœ°æ–¹ï¼Œå­ç±»ä¹Ÿå¯ä»¥å‡ºçŽ°ã€‚æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯å­ç±»å¯¹è±¡å¯ä»¥æ›¿æ¢åŸºç±»å¯¹è±¡ã€‚å°½é‡ç»§æ‰¿è™šç±»ï¼Œé¿å…ç»§æ‰¿å®žä½“ç±»ã€‚ 3ã€ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºŽä½Žå±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºŽæŠ½è±¡ã€‚è¿™ä¸ªæ˜¯å¼€é—­åŽŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æŽ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºŽæŠ½è±¡è€Œä¸ä¾èµ–äºŽå…·ä½“ã€‚ 4ã€æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼ˆInterface Segregation Principleï¼‰ ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æŽ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæŽ¥å£è¦å¥½ã€‚å®¢æˆ·ä¸åº”è¯¥ä¾èµ–ä»–ä»¬ä¸ç”¨åˆ°çš„æ–¹æ³•ï¼Œåªç»™æ¯ä¸ªå®¢æˆ·å®ƒæ‰€éœ€è¦çš„æŽ¥å£ã€‚ 5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŽŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰ ä¸ºä»€ä¹ˆå«æœ€å°‘çŸ¥é“åŽŸåˆ™ï¼Œå°±æ˜¯è¯´ï¼šä¸€ä¸ªå®žä½“åº”å½“å°½é‡å°‘çš„ä¸Žå…¶ä»–å®žä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚ 6ã€ç»„åˆå¤ç”¨åŽŸåˆ™ï¼ˆComposite Reuse Principleï¼‰ å¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ã€‚ 7. å•ä¸€èŒè´£åŽŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰ ä¸€ä¸ªç±»ï¼Œåªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› ã€‚ä¸€ä¸ªç±»ï¼ˆæˆ–è€…å¤§åˆ°æ¨¡å—ï¼Œå°åˆ°æ–¹æ³•ï¼‰æ‰¿æ‹…çš„èŒè´£è¶Šå¤šï¼Œå®ƒè¢«å¤ç”¨çš„å¯èƒ½æ€§è¶Šå°ã€‚å¦‚æžœä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç›¸å½“äºŽæŠŠèŒè´£è€¦åˆåœ¨ä¸€èµ·ï¼Œå½“å…¶ä¸­ä¸€ä¸ªèŒè´£å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–èŒè´£çš„è¿è¡Œã€‚]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UMLç±»å›¾]]></title>
    <url>%2F2019%2F11%2F20%2FUML%E7%B1%BB%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[UMLå®šä¹‰ï¼š UMLå³ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼ˆUnified Modeling Languageï¼‰,å®ƒæ˜¯ä¸€ç§å¼€æ”¾çš„æ–¹æ³•ï¼Œç”¨äºŽè¯´æ˜Žã€å¯è§†åŒ–ã€æž„å»ºå’Œç¼–å†™ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„ã€é¢å‘å¯¹è±¡çš„ã€è½¯ä»¶å¯†é›†ç³»ç»Ÿçš„åˆ¶å“çš„å¼€æ”¾æ–¹æ³•ã€‚UMLå±•çŽ°äº†ä¸€ç³»åˆ—æœ€ä½³å·¥ç¨‹å®žè·µï¼Œè¿™äº›æœ€ä½³å®žè·µåœ¨å¯¹å¤§è§„æ¨¡ï¼Œå¤æ‚ç³»ç»Ÿè¿›è¡Œå»ºæ¨¡æ–¹é¢ï¼Œç‰¹åˆ«æ˜¯åœ¨è½¯ä»¶æž¶æž„å±‚æ¬¡å·²ç»è¢«éªŒè¯æœ‰æ•ˆã€‚ UMLç±»å›¾å°±æ˜¯ä¸€ç§ä¾›è½¯ä»¶è®¾è®¡å¸ˆä»¬çœ‹çš„å¯ä»¥è¡¨è¾¾ç±»çš„å…³ç³»çš„ä¸€ç§ç»Ÿä¸€è¯­è¨€ï¼Œåªä¸è¿‡æ˜¯ç”¨å›¾çš„å½¢å¼æ¥è¡¨è¾¾ã€‚ ä¸‹é¢æœ‰ä¸ªStudentç±»ï¼Œageé»˜è®¤å€¼ä¸º1ï¼Œæä¾›äº†getå’Œsetæ–¹æ³•ã€‚ public class Student &#123; private String name; private int age = 1; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125;&#125; ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¯¥ç±»çš„UMLç±»å›¾ã€‚ ä¸Šé¢çš„ç±»å›¾ä¸­ä¸»è¦æœ‰ä¸‰ä¸ªéƒ¨åˆ†ç±»åã€ç±»çš„å±žæ€§å’Œæ–¹æ³•ï¼Œä¸‰ä¸ªéƒ¨åˆ†ä½¿ç”¨åˆ†éš”ç¬¦åˆ†éš”ã€‚ ç±»çš„å±žæ€§å’Œæ–¹æ³•çš„è¡¨è¾¾æ ¼å¼ï¼š ç±»çš„å±žæ€§æ ¼å¼ï¼šè®¿é—®æƒé™ å±žæ€§å:ç±»åž‹[=é»˜è®¤å€¼] ç±»çš„æ–¹æ³•æ ¼å¼ï¼šè®¿é—®æƒé™ æ–¹æ³•åç§°:ç±»åž‹[:è¿”å›žç±»åž‹] â€œ+â€è¡¨ç¤ºpublicï¼Œâ€-â€œè¡¨ç¤ºprivateï¼Œâ€#â€è¡¨ç¤ºprotectedã€‚ ç±»ä¹‹é—´çš„å…³ç³»ç±»ä¸Žç±»ä¹‹é—´æœ‰ä¸‹é¢å‡ ç§å…³ç³»ï¼š æ³›åŒ–ï¼ˆGeneralizationï¼‰ã€å®žçŽ°ï¼ˆRealizationï¼‰ã€ä¾èµ–ï¼ˆDependenceï¼‰ã€å…³è”ï¼ˆAssociationï¼‰ã€èšåˆï¼ˆAggregationï¼‰ã€ç»„åˆï¼ˆCompositionï¼‰ã€‚ ä¸‹é¢ç”¨Javaä»£ç å’Œç±»å›¾ä¹‹é—´çš„å¯¹æ¯”æ¥è§£é‡Šä¸Šè¿°çš„å…³ç³»ã€‚ æ³›åŒ–ï¼ˆGeneralizationï¼‰æ³›åŒ–å°±æ˜¯Javaä¸­çš„ç»§æ‰¿å…³ç³»ï¼Œå¾ˆå¥½ç†è§£ã€‚ Studentç±»ç»§æ‰¿äºŽPersonç±»ï¼Œé‚£ä¹ˆä¸¤ä¸ªå¯¹è±¡å°±æ˜¯æ³›åŒ–å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒä¸‰è§’å½¢çš„å®žçº¿ç®­å¤´è¡¨ç¤ºã€‚ public class Student extents Person &#123; &#125; å®žçŽ°ï¼ˆRealizationï¼‰å®žçŽ°å°±æ˜¯Javaä¸­å®žçŽ°æŽ¥å£çš„æ–¹æ³•ã€‚ Studenç±»ä¸­å®žçŽ°äº†ä¸€ä¸ªSkilæŽ¥å£ï¼Œé‚£ä¹ˆStudentç±»å’ŒSkillæŽ¥å£ä¹‹é—´å°±æ˜¯å®žçŽ°å…³ç³»ï¼Œä½¿ç”¨å¸¦ç©ºå¿ƒä¸‰è§’å½¢çš„è™šçº¿ç®­å¤´è¡¨ç¤ºã€‚ public interface Skill &#123; void code();&#125;public class Student implments Skill &#123; @Override public void code() &#123; &#125;&#125; ä¾èµ–ï¼ˆDependenceï¼‰ä¾èµ–æ˜¯ä¸€ç§å¾ˆå¼±çš„å…³ç³»ï¼Œå¦‚æžœç±»Aè®¿é—®ç±»Bçš„å±žæ€§æˆ–è€…æ–¹æ³•ï¼Œæˆ–è€…ç±»Aè´Ÿè´£å®žä¾‹åŒ–ç±»Bï¼Œé‚£ä¹ˆå¯ä»¥è¯´ç±»Aä¾èµ–ç±»Bã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼ŒStudentå¦‚æžœè¦åœ¨å›¾ä¹¦é¦†å€Ÿä¹¦ï¼Œå›¾ä¹¦é¦†ç®¡ç†å‘˜éœ€è¦è®°å½•è¯¥å­¦ç”Ÿçš„å­¦å·ï¼ŒLibrarianç±»å°±éœ€è¦è®¿é—®Studentç±»çš„getSno()æ–¹æ³•æ¥èŽ·å–snoå±žæ€§ï¼Œé‚£ä¹ˆå°±è¯´Librarianç±»ä¾èµ–äºŽStudentç±»ï¼Œä½¿ç”¨è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œç®­å¤´æŒ‡å‘è¢«ä¾èµ–çš„å¯¹è±¡ã€‚ public class Librarian &#123; public void record(int sno) &#123; //è®°å½•sno; &#125;&#125; å…³è”ï¼ˆAssociationï¼‰å…³è”å…³ç³»æ˜¯ä¸€ç§æ¯”è¾ƒå¼ºçš„å…³ç³»ï¼Œä¸¤è€…çš„å…³ç³»æ˜¯æ¯”è¾ƒé•¿ä¹…çš„ï¼Œæ¯”å¦‚å­¦ç”Ÿå’Œå®¶çš„å…³ç³»ï¼Œå°±æ˜¯ä¸€ç§å…³è”å…³ç³»ã€‚å…³è”å…³ç³»åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯å•å‘å…³è”ï¼Œä¸€ç§æ˜¯åŒå‘å…³è”ï¼Œ å¦‚æžœä¸€ä¸ªç±»çŸ¥é“æˆ–è€…å¼•ç”¨äº†å¦ä¸€ä¸ªç±»ï¼Œè€Œå¦ä¸€ä¸ªç±»ä¸çŸ¥é“æˆ–è€…æ²¡æœ‰å¼•ç”¨è¿™ä¸ªç±»ï¼Œåˆ™è¿™ä¸¤ä¸ªç±»æ˜¯å•å‘å…³è”çš„ã€‚ æ¯”å¦‚å­¦ç”Ÿå’Œå®¶çš„å…³ç³»ï¼Œæ¯ä¸ªå­¦ç”Ÿéƒ½æœ‰å®¶ï¼Œä½†æ˜¯æ¯ä¸ªå®¶é‡Œå¹¶ä¸æ˜¯éƒ½æœ‰å­¦ç”Ÿã€‚å•é¡¹å…³è”ä½¿ç”¨å®žçº¿ç®­å¤´è¡¨ç¤ºï¼Œç®­å¤´æŒ‡å‘è¢«å¼•ç”¨çš„ç±»ã€‚ public class Student &#123; Home home;&#125; åŒå‘å…³è”æ˜¯åŒæ–¹éƒ½çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œæ¯”å¦‚å­¦ç”Ÿå’Œè€å¸ˆçš„å…³ç³»å°±æ˜¯åŒå‘å…³è”ï¼ŒåŒå‘å…³è”ç”¨å®žç›´çº¿è¡¨ç¤ºã€‚ public class Student &#123; Teacher teacher;&#125;public class Teacher &#123; Student student;&#125; èšåˆï¼ˆAggregationï¼‰èšåˆå…³ç³»å¼ºè°ƒçš„æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œå…¶éƒ¨åˆ†å¯ä»¥è„±ç¦»æ•´ä½“è€Œå­˜åœ¨ã€‚æ¯”å¦‚å¤§é›å’Œé›ç¾¤çš„å…³ç³»ï¼Œå°±æ˜¯èšåˆå…³ç³»ï¼Œå¤§é›ç¦»å¼€é›ç¾¤ä¹Ÿæ˜¯å¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„ã€‚èšåˆå…³ç³»ä½¿ç”¨å¸¦ç©ºå¿ƒè±å½¢çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œè±å½¢æŒ‡å‘æ•´ä½“ã€‚ public class Geese &#123; String shape; ArrayList&lt;Goose&gt; geese;&#125; ç»„åˆï¼ˆCompositionï¼‰ç»„åˆå…³ç³»ä¹Ÿæ˜¯å¼ºè°ƒçš„æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œè€Œåœ¨æ­¤å…³ç³»ä¸­éƒ¨åˆ†ä¸å¯ä»¥è„±ç¦»æ•´ä½“å­˜åœ¨ã€‚æ¯”å¦‚å¤§é›å’Œç¿…è†€ï¼Œå°±æ˜¯ç»„åˆå…³ç³»ï¼Œç¿…è†€ä¸èƒ½è„±ç¦»å¤§é›çš„å­˜åœ¨è€Œå­˜åœ¨ã€‚ã€‚ã€‚ç»„åˆå…³ç³»ä½¿ç”¨æ˜¯å¸¦å®žå¿ƒè±å½¢çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œè±å½¢æŒ‡å‘æ•´ä½“ã€‚ public class Goose &#123; Wing wing;&#125; ç»„åˆã€èšåˆã€å…³è”ã€ä¾èµ–è¿™å‡ ç§å…³ç³»å…³è”ç¨‹åº¦ä¹Ÿå°±æ˜¾è€Œæ˜“è§äº†ï¼Œä¾èµ–ç¨‹åº¦ï¼šç»„åˆ&gt;èšåˆ&gt;å…³è”&gt;ä¾èµ–ã€‚]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>UML</tag>
        <tag>è½¯ä»¶å·¥ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼â€”å·¥åŽ‚æ¨¡å¼]]></title>
    <url>%2F2019%2F11%2F20%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å®šä¹‰ å·¥åŽ‚æ¨¡å¼ï¼ˆFactory Patternï¼‰æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»åž‹çš„è®¾è®¡æ¨¡å¼å±žäºŽåˆ›å»ºåž‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚ åœ¨å·¥åŽ‚æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå¹¶ä¸”æ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„æŽ¥å£æ¥æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ ç®€å•å·¥åŽ‚æ¨¡å¼ä¸‹é¢ç»™å‡ºä¸€ä¸ªã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ä¸­çš„æŠ«è¨åº—çš„ä¾‹å­ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªæŠ«è¨åº—ï¼Œè¿™ä¸ªæŠ«è¨åº—ä¸­æœ‰è®¸å¤šä¸åŒç§ç±»çš„æŠ«è¨ï¼ŒèŠå£«ðŸ•ã€åŸ¹æ ¹ðŸ•ã€‚å¯¹äºŽè¿™ç§æƒ…å†µï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåˆ¶ä½œæŠ«è¨çš„å·¥åŽ‚ï¼Œå‘è¿™ä¸ªå·¥åŽ‚ç±»ä¸­ä¼ å…¥æŠ«è¨çš„åç§°å°±å¯ä»¥å®žä¾‹åŒ–å‡ºç›¸åº”çš„ðŸ•ã€‚ ä¸‹é¢ç»™å‡ºä»£ç ï¼š Pizza.java package top.liuergo.factory.simple;/** * @author liuergo * @description æŠ«è¨ç±» * @date 2019-11-21 21:18 */public interface Pizza &#123; /** * å‡†å¤‡æ–¹æ³• */ void prepare(); /** * çƒ˜ç„™æ–¹æ³• */ void bake(); /** * æŠ«è¨åˆ‡ç‰‡çš„æ–¹æ³• */ void cut();&#125; CheesePizza.java package top.liuergo.factory.simple;/** * @author liuergo * @description èŠå£«æŠ«è¨ * @date 2019-11-21 21:21 */public class CheesePizza implements Pizza &#123; public CheesePizza() &#123; System.out.println("åšä¸€ä¸ªCheesePizza"); &#125; @Override public void prepare() &#123; &#125; @Override public void bake() &#123; &#125; @Override public void cut() &#123; &#125;&#125; BaconPizza.java package top.liuergo.factory.simple;/** * @author liuergo * @description åŸ¹æ ¹æŠ«è¨ * @date 2019-11-21 21:23 */public class BaconPizza implements Pizza &#123; public BaconPizza() &#123; System.out.println("åšä¸€ä¸ªBaconPizza"); &#125; @Override public void prepare() &#123; &#125; @Override public void bake() &#123; &#125; @Override public void cut() &#123; &#125;&#125; SimplePizzaFactory.java package top.liuergo.factory.simple;import java.security.PublicKey;/** * @author liuergo * @description æŠ«è¨å·¥åŽ‚ç±» * @date 2019-11-21 21:24 */public class SimplePizzaFactory &#123; public Pizza createPizza(String type) &#123; Pizza pizza = null; if ("cheese".equals(type)) &#123; pizza = new CheesePizza(); &#125; else if ("bacon".equals(type)) &#123; pizza = new BaconPizza(); &#125; return pizza; &#125;&#125; PizzaStore.java package top.liuergo.factory.simple;/** * @author liuergo * @description æŠ«è¨åº— * @date 2019-11-21 22:15 */public class PizzaStore &#123; SimplePizzaFactory factory; public PizzaStore (SimplePizzaFactory factory) &#123; this.factory = factory; &#125; public Pizza oderPizza(String type) &#123; Pizza pizza; pizza = factory.createPizza(type); pizza.bake(); pizza.cut(); return pizza; &#125;&#125; Tester.java package top.liuergo.factory.simple;/** * @author liuergo * @description æµ‹è¯•ç±» * @date 2019-11-21 21:28 */public class Tester &#123; public static void main(String[] args) &#123; PizzaStore pizzaStore = new PizzaStore(new SimplePizzaFactory()); pizzaStore.oderPizza("cheese"); pizzaStore.oderPizza("bacon"); &#125;&#125; è¿è¡Œç»“æžœï¼š æ³¨ï¼šä¸Šé¢createPizzaæ–¹æ³•ä¹Ÿå¯ä»¥å®šä¹‰æˆé™æ€æ–¹æ³•ï¼Œè¿™æ ·å°±æ˜¯ä¸€ä¸ªé™æ€å·¥åŽ‚ï¼Œè¿™æ ·å°±ä¸éœ€è¦å®žä¾‹åŒ–å·¥åŽ‚ç±»äº†ï¼Œä½†æ˜¯ä½¿ç”¨é™æ€å·¥åŽ‚å°±ä¸å¯ä»¥ä½¿ç”¨ç»§æ‰¿äº†æ¥æ”¹å˜åˆ›å»ºæ–¹æ³•çš„è¡Œä¸ºäº†ã€‚ ç®€å•å·¥åŽ‚æ¨¡å¼å…¶å®žä¸æ˜¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ç§ç¼–ç¨‹ä¹ æƒ¯ã€‚ä¸‹é¢å¼€å§‹ä»‹ç»å·¥åŽ‚æ¨¡å¼ã€‚ å·¥åŽ‚æ¨¡å¼è¿˜æ˜¯ä¸Šé¢æŠ«è¨åº—çš„ä¾‹å­ï¼Œå‡å¦‚çŽ°åœ¨ä½ çš„æŠ«è¨åº—ç”Ÿæ„è¶Šæ¥è¶Šçº¢ç«ï¼Œä½ å¼€å§‹åœ¨å…¨å›½èŒƒå›´å†…å¼€åˆ†åº—ï¼Œç„¶è€Œæ¯ä¸ªåˆ†åº—çš„éƒ½æƒ³è¦å‘æŒ¥è‡ªå·±åº—çš„ç‰¹ç‚¹ï¼Œè¿™æ ·æ‰€æœ‰çš„åº—ä¸èƒ½éƒ½ä½¿ç”¨ä¸€ä¸ªæŠ«è¨å·¥åŽ‚ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¦å¤–çš„æ–¹å¼æ¥åˆ›å»ºå·¥åŽ‚ã€‚ æœ€ä¸»è¦çš„åœ°æ–¹å°±æ˜¯PizzaStoreç±»ï¼Œå°†è¯¥ç±»ä¸­çš„SimplePizzaFactoryåˆ æŽ‰ï¼ŒæŠŠcreatePizzaæ–¹æ³•æ‹¿åˆ°è¯¥ç±»ä¸­ï¼Œå¹¶å£°æ˜Žä¸ºæŠ½è±¡æ–¹æ³•ã€‚ package top.liuergo.factory.veritable;import javax.security.auth.login.CredentialException;/** * @author liuergo * @description æŠ«è¨åº— * @date 2019-11-21 22:15 */public abstract class PizzaStore &#123; /** * åˆ›å»ºæŠ«è¨çš„æŠ½è±¡æ–¹æ³• * @param type * @return */ public abstract Pizza createPizza(String type); public Pizza oderPizza(String type) &#123; Pizza pizza; pizza = createPizza(type); pizza.prepare(); pizza.bake(); pizza.cut(); return pizza; &#125;&#125; è¿™æ ·ï¼Œæ‰€æœ‰çš„PizzaStoreå¿…é¡»è¦ç»§æ‰¿è¯¥ç±»ï¼Œå¹¶é‡å†™createPizzaæ–¹æ³•ï¼Œå®žçŽ°è‡ªå·±çš„createPizzaæ–¹æ³•ã€‚ package top.liuergo.factory.veritable.store;import top.liuergo.factory.veritable.Pizza;import top.liuergo.factory.veritable.PizzaStore;import top.liuergo.factory.veritable.pizza.BeijingBaconPizza;import top.liuergo.factory.veritable.pizza.BeijingCheesePizza;/** * @author liuergo * @description åŒ—äº¬çš„æŠ«è¨åº— * @date 2019-11-21 23:52 */public class BeijingPizzaStore extends PizzaStore &#123; @Override public Pizza createPizza(String type) &#123; Pizza pizza = null; if ("cheese".equals(type)) &#123; pizza = new BeijingCheesePizza(); &#125; else if ("bacon".equals(type)) &#123; pizza = new BeijingBaconPizza(); &#125; return pizza; &#125;&#125; æˆ‘ä»¬å†çœ‹ä¸€ä¸‹å·¥åŽ‚æ¨¡å¼çš„å®šä¹‰ï¼šå·¥åŽ‚æ¨¡å¼å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æŽ¥å£ï¼Œè®©å…¶å­ç±»è‡ªå·±å†³å®šå®žä¾‹åŒ–å“ªä¸€ä¸ªå·¥åŽ‚ç±»ï¼Œå·¥åŽ‚æ¨¡å¼ä½¿å…¶åˆ›å»ºè¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»è¿›è¡Œã€‚ è¿™é‡Œæˆ‘ä»¬å°±ä½¿PizzaStoreçš„å­ç±»BeijingPizzaStoreæ¥å†³å®šäº†å®žä¾‹åŒ–å“ªä¸ªç±»ï¼Œåšåˆ°äº†ä½¿å…¶åˆ›å»ºè¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ›å»ºå·¥åŽ‚æŽ¥å£çš„æ–¹å¼æ¥å®žçŽ°åœ¨å®žçŽ°äº†å·¥åŽ‚æŽ¥å£çš„ç±»ä¸­å®žä¾‹åŒ–ç±»çš„æ–¹å¼ã€‚ PizzaFactory.java package top.liuergo.factory.veritable2;/** * @author liuergo * @description æŠ«è¨å·¥åŽ‚ * @date 2019-11-22 00:10 */public interface PizzaFactory &#123; /** * å·¥åŽ‚æ–¹æ³• * @param type æŠ«è¨çš„ç§ç±» * @return è¿”å›žåšå¥½çš„ðŸ• */ Pizza createPizza(String type);&#125; PizzaStore.java package top.liuergo.factory.veritable2;/** * @author liuergo * @description æŠ«è¨åº— * @date 2019-11-21 22:15 */public abstract class PizzaStore &#123; PizzaFactory pizzaFactory; public PizzaStore(PizzaFactory pizzaFactory) &#123; this.pizzaFactory = pizzaFactory; &#125; public Pizza oderPizza(String type) &#123; Pizza pizza; pizza = pizzaFactory.createPizza(type); pizza.bake(); pizza.cut(); return pizza; &#125;&#125; è¿™æ ·å¯¹äºŽä¸åŒçš„æŠ«è¨åº—æ¥è¯´ï¼Œéœ€è¦å®žçŽ°å„è‡ªçš„æŠ«è¨å·¥åŽ‚ï¼Œå®žçŽ°è‡ªå·±çš„createPizzaæ–¹æ³•ï¼ŒæŠ½è±¡ç±»å’ŒæŽ¥å£åªæ˜¯å®žçŽ°æ–¹å¼ä¸åŒï¼Œæ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å¯¹äºŽå½“å‰çš„ä¾‹å­æ¥è¯´ï¼Œæ˜¾ç„¶ä½¿ç”¨æŠ½è±¡å·¥åŽ‚æ–¹æ³•ä»£æ›¿æŽ¥å£å¼å·¥åŽ‚çš„æ–¹å¼æ›´åˆé€‚ã€‚ï¼ˆã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹å¹¶æ²¡æœ‰ä½¿ç”¨å·¥åŽ‚æŽ¥å£çš„æ–¹å¼å®žçŽ°ï¼Œå¦‚æžœæ­¤å¤„ä½¿ç”¨æœ‰é”™è¯¯è¯·æŒ‡å‡ºï¼‰ æŠ½è±¡å·¥åŽ‚æ¨¡å¼æˆ‘ä»¬é¦–å…ˆè¡¥å…¨ä¸€ä¸‹Pizzaï¼Œç»™PizzaåŸºç±»æ·»åŠ å‡ ä¸ªå±žæ€§ï¼Œå°†å…¶æ”¹ä¸ºæŠ½è±¡ç±»ã€‚ package top.liuergo.factory.veritable;import top.liuergo.factory.veritable.ingredient.Cheese;import top.liuergo.factory.veritable.ingredient.Dough;import top.liuergo.factory.veritable.ingredient.Sauce;/** * @author liuergo * @description æŠ«è¨ç±» * @date 2019-11-21 21:18 */public abstract class Pizza &#123; Sauce sauce; Cheese cheese; Dough dough; /** * å‡†å¤‡æ–¹æ³• */ public void prepare()&#123;&#125;; /** * çƒ˜ç„™æ–¹æ³• */ public void bake()&#123;&#125;; /** * æŠ«è¨åˆ‡ç‰‡çš„æ–¹æ³• */ public void cut()&#123;&#125;;&#125; çŽ°åœ¨ï¼Œåˆæ¥äº†æ–°éœ€æ±‚ï¼Œæˆ‘ä»¬çš„ä¼—å¤šåˆ†åº—åˆ¶ä½œæŠ«è¨çš„åŽŸæ–™éƒ½éœ€è¦åœ¨ä¸åŒçš„åœ°æ–¹è¿›è´§ï¼Œæ¯”å¦‚åŒ—äº¬çš„æŠ«è¨æƒ³è¦é»‘é¾™æ±Ÿçš„é…±æ–™ã€ä¸Šæµ·çš„èŠå£«ã€äº‘å—çš„é¢èƒšâ€¦é¢å¯¹è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼Œå»ºç«‹ä¸€ä¸ªåŽŸæ–™å·¥åŽ‚ï¼Œåˆ†åˆ«ç”Ÿäº§æ¯ä¸ªåˆ†åº—æ‰€éœ€çš„äº”èŠ±å…«é—¨çš„åŽŸæ–™ã€‚ æ–°å»ºä¸€ä¸ªPizzaIngredientFactoryæŽ¥å£ï¼Œå…¶ä¸­å£°æ˜Žäº†ä¸‰ä¸ªå·¥åŽ‚æ–¹æ³•ã€‚ package top.liuergo.factory.veritable;import top.liuergo.factory.veritable.ingredient.Cheese;import top.liuergo.factory.veritable.ingredient.Dough;import top.liuergo.factory.veritable.ingredient.Sauce;/** * @author liuergo * @description æŠ«è¨åŽŸæ–™å·¥åŽ‚ * @date 2019-11-22 14:42 */public interface PizzaIngredientFactory &#123; /** * åˆ›å»ºé…±æ–™çš„å·¥åŽ‚æ–¹æ³• * @return é…±æ–™ */ Sauce createSauce(); /** * åˆ›å»ºèŠå£«çš„å·¥åŽ‚æ–¹æ³• * @return èŠå£« */ Cheese createCheese(); /** * åˆ›å»ºé¢èƒšçš„å·¥åŽ‚æ–¹æ³• * @return é¢èƒš */ Dough createDough();&#125; è¿™æ ·ï¼Œå¦‚æžœåŒ—äº¬çš„åˆ†åº—æƒ³è¦è‡ªå·±å®šåˆ¶åŽŸæ–™æ¥æºçš„è¯å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ—äº¬çš„åŽŸæ–™å·¥åŽ‚ï¼Œè‡ªå·±å†³å®šè¿›å“ªçš„åŽŸæ–™ã€‚ package top.liuergo.factory.veritable;import top.liuergo.factory.veritable.ingredient.*;/** * @author liuergo * @description åŒ—äº¬çš„åŽŸæ–™å·¥åŽ‚ * @date 2019-11-22 14:45 */public class BeijingIngredientFactory implements PizzaIngredientFactory&#123; @Override public Sauce createSauce() &#123; //ä½¿ç”¨ä¸Šæµ·çš„é…±æ–™ return new ShanghaiSauce(); &#125; @Override public Cheese createCheese() &#123; //ä½¿ç”¨åŒ—äº¬çš„èŠå£« return new BeijingCheese(); &#125; @Override public Dough createDough() &#123; //ä½¿ç”¨åŒ—äº¬çš„é¢èƒš return new BeijingDough(); &#125;&#125; æˆ‘ä»¬å†å¯¹æŠ½è±¡æŠ«è¨ç±»å’Œå®žé™…æŠ«è¨ç±»åšä¸€ä¸‹ä¿®æ”¹ï¼š å°†æŠ½è±¡æŠ«è¨ç±»çš„prepareæ–¹æ³•ä¿®æ”¹ä¸ºæŠ½è±¡æ–¹æ³•ã€‚ package top.liuergo.factory.veritable;import top.liuergo.factory.veritable.ingredient.Cheese;import top.liuergo.factory.veritable.ingredient.Dough;import top.liuergo.factory.veritable.ingredient.Sauce;/** * @author liuergo * @description æŠ«è¨ç±» * @date 2019-11-21 21:18 */public abstract class Pizza &#123; Sauce sauce; Cheese cheese; Dough dough; /** * å°†å‡†å¤‡æ–¹æ³•ä¿®æ”¹ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå­ç±»å¿…é¡»é‡å†™è¯¥æ–¹æ³• */ public abstract void prepare(); /** * çƒ˜ç„™æ–¹æ³• */ public void bake()&#123;&#125;; /** * æŠ«è¨åˆ‡ç‰‡çš„æ–¹æ³• */ public void cut()&#123;&#125;;&#125; é‡å†™prepareæ–¹æ³•ï¼Œæ ¹æ®æž„é€ å™¨ä¼ å…¥çš„åŽŸæ–™å·¥åŽ‚è‡ªå®šä¹‰åŽŸæ–™ã€‚åœ¨æ­¤æ–¹æ³•ä¸­ä½ ç”šè‡³å¯ä»¥ä¸è¦æŸä¸ªåŽŸæ–™ã€‚ package top.liuergo.factory.veritable.pizza;import top.liuergo.factory.veritable.Pizza;import top.liuergo.factory.veritable.PizzaIngredientFactory;/** * @author liuergo * @description åŸ¹æ ¹æŠ«è¨ * @date 2019-11-21 21:23 */public class BeijingBaconPizza extends Pizza &#123; private PizzaIngredientFactory ingredientFactory; public BeijingBaconPizza(PizzaIngredientFactory ingredientFactory) &#123; System.out.println("åšä¸€ä¸ªåŒ—äº¬BaconPizza"); this.ingredientFactory = ingredientFactory; &#125; @Override public void prepare() &#123; ingredientFactory.createSauce(); ingredientFactory.createDough(); ingredientFactory.createCheese(); &#125;&#125; æœ€åŽï¼Œæˆ‘ä»¬çš„ç‚¹æŠ«è¨ä»£ç ä¸éœ€è¦å‘ç”Ÿä»»ä½•æ”¹å˜ã€‚ BeijingPizzaStore beijingPizzaStore = new BeijingPizzaStore();beijingPizzaStore.oderPizza("cheese");ShanghaiPizzaStore shanghaiPizzaStore = new ShanghaiPizzaStore();shanghaiPizzaStore.oderPizza("bacon"); åŽŸæ–™å·¥åŽ‚å°±æ˜¯ä¸€ä¸ªæŠ½è±¡å·¥åŽ‚æ¨¡å¼çš„ä¾‹å­ï¼Œä¸‹é¢ç»™å‡ºå®šä¹‰ï¼š æŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰æ˜¯å›´ç»•ä¸€ä¸ªè¶…çº§å·¥åŽ‚åˆ›å»ºå…¶ä»–å·¥åŽ‚ã€‚è¯¥è¶…çº§å·¥åŽ‚åˆç§°ä¸ºå…¶ä»–å·¥åŽ‚çš„å·¥åŽ‚ã€‚è¿™ç§ç±»åž‹çš„è®¾è®¡æ¨¡å¼å±žäºŽåˆ›å»ºåž‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚ æˆ‘ä»¬æœ€åˆåœ¨PizzaIngredientFactoryæŽ¥å£ä¸­å£°æ˜Žäº†ä¸‰ä¸ªå·¥åŽ‚æ–¹æ³•ï¼ŒPizzaIngredientFactoryå°±æ˜¯è¿™ä¸ªè¶…çº§å·¥åŽ‚ï¼Œåˆ©ç”¨è¿™ä¸ªè¶…çº§å·¥åŽ‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªå·¥åŽ‚ã€‚ å¦‚æžœå¯¹å·¥åŽ‚æ¨¡å¼å’ŒæŠ½è±¡å·¥åŽ‚æ¨¡å¼çš„åŒºåˆ«è¿˜æœ‰ç–‘é—®çš„ç«¥éž‹å¯ä»¥çœ‹ä¸‹è¿™ä¸ªçŸ¥ä¹Žçš„é—®é¢˜ï¼š https://www.zhihu.com/question/20367734 æœ€åŽç»™å‡ºæœ€ç»ˆçš„UMLç±»å›¾ï¼š å®Œæ•´ä»£ç åœ°å€ï¼š https://github.com/liuzhongyue/DesignPatterns ä»¥ä¸Šä¾‹å­å‡æ¥æºäºŽã€ŠHead Firstè®¾è®¡æ¨¡å¼ã€‹ï¼Œä»‹ç»çš„è‚¯å®šä¸å¦‚åŽŸä¹¦è¯¦ç»†ï¼Œåªæ˜¯ç®€å•åœ°å¯¹ä¹¦ä¸­çš„æ€è·¯å’Œå†…å®¹åšäº†æ€»ç»“ï¼Œå¹¶åŠ ä¸Šè‡ªå·±çš„ç†è§£å’Œæƒ³æ³•å¯¹å…¶ä¸­å’Œçš„ä¾‹å­ç¨å¾®åšäº†ä¿®æ”¹ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼â€”ç­–ç•¥æ¨¡å¼]]></title>
    <url>%2F2019%2F11%2F20%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ç­–ç•¥æ¨¡å¼ åœ¨ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ä¸­ï¼Œä¸€ä¸ªç±»çš„è¡Œä¸ºæˆ–å…¶ç®—æ³•å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹ã€‚è¿™ç§ç±»åž‹çš„è®¾è®¡æ¨¡å¼å±žäºŽè¡Œä¸ºåž‹æ¨¡å¼ã€‚ åœ¨ç­–ç•¥æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºè¡¨ç¤ºå„ç§ç­–ç•¥çš„å¯¹è±¡å’Œä¸€ä¸ªè¡Œä¸ºéšç€ç­–ç•¥æ”¹å˜è€Œæ”¹å˜çš„contextå¯¹è±¡ï¼Œé€šè¿‡ç­–ç•¥å¯¹è±¡æ”¹å˜contextå¯¹è±¡çš„æ‰§è¡Œç®—æ³•ã€‚ å­¦ä¹ è®¾è®¡æ¨¡å¼æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯è¦æžæ¸…æ¥šè®¾è®¡æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼Œé¦–å…ˆä¸¾å‡ ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æ‰‹æœºæ”¯ä»˜çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ”¯ä»˜å®å¯ä»¥ä½¿ç”¨å¾®ä¿¡ä¹Ÿå¯ä»¥ä½¿ç”¨äº‘é—ªä»˜ï¼Œè¿™äº›æ”¯ä»˜æ–¹å¼æ¯ä¸€ç§éƒ½æ˜¯ä¸€ä¸ªç­–ç•¥å¯¹è±¡ï¼Œæ¯ä¸€ç§ç­–ç•¥éƒ½æ˜¯å¯ä»¥äº’ç›¸æ›¿æ¢çš„ï¼›å†æ¯”å¦‚æ·˜å®åŒåä¸€çš„æ‰“æŠ˜æ´»åŠ¨ï¼Œå¯ä»¥å æ´¥è´´ã€ç”¨çº¢åŒ…æˆ–è€…åº—å®¶ç›´æŽ¥æ‰“æŠ˜ï¼Œæ¯ä¸€ç§ä¼˜æƒ æ–¹å¼ä¹Ÿæ˜¯ä¸€ç§ç­–ç•¥ã€‚ ç­–ç•¥æ¨¡å¼åšåˆ°çš„å°±æ˜¯ å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•,æŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥, å¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚ å®žçŽ°é¦–å…ˆæˆ‘ä»¬ç”»å‡ºè¯¥æ¨¡å¼çš„UMLç±»å›¾ï¼š å…¶ä¸­ï¼ŒContextæ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ˜¯çœŸæ­£æ‰§è¡Œç­–ç•¥çš„å¯¹è±¡ï¼Œç»´æŠ¤ä¸€ä¸ªå®žçŽ°StrategyæŽ¥å£çš„ç±»ï¼ŒStrategyæŽ¥å£æ˜¯ç­–ç•¥æŽ¥å£ï¼Œæ˜¯ç”¨äºŽå£°æ˜Žæ‰€æœ‰ç®—æ³•çš„æŽ¥å£ï¼ŒSpecificStrategyæ˜¯StrategyæŽ¥å£çš„å®žçŽ°ç±»ï¼Œé‡Œé¢æœ‰ç®—æ³•çš„å…·ä½“å®žçŽ°ã€‚ Context.java /** * @author liuergo * @description Contextä¸Šä¸‹æ–‡å¯¹è±¡ * @date 2019-11-20 16:16 */public class Context &#123; private Strategy strategy; public Context(Strategy strategy) &#123; this.strategy = strategy; &#125; /** * æ‰§è¡Œç­–ç•¥çš„å…·ä½“æ–¹æ³• */ public void executeStrategy() &#123; strategy.algorithmStatement(); &#125;&#125; Strategy.java /** * @author liuergo * @description ç­–ç•¥æŽ¥å£ * @date 2019-11-20 16:09 */public interface Strategy &#123; /** * æŸç§ç®—æ³•çš„å£°æ˜Ž */ public void algorithmStatement();&#125; åœ¨è¿™é‡Œï¼Œæœ‰ä¸¤ä¸ªç±»å®žçŽ°äº†StrategyæŽ¥å£ã€‚ SpecificStrategyA.java /** * @author liuergo * @description å…·ä½“çš„ç­–ç•¥å¯¹è±¡ * @date 2019-11-20 16:13 */public class SpecificStrategyA implements Strategy&#123; @Override public void algorithmStatement() &#123; System.out.println("ç®—æ³•A"); &#125;&#125; SpecificStrategyB.java /** * @author liuergo * @description å…·ä½“çš„ç­–ç•¥å¯¹è±¡ * @date 2019-11-20 16:15 */public class SpecificStrategyA implements Strategy&#123; @Override public void algorithmStatement() &#123; System.out.println("ç®—æ³•B"); &#125;&#125; Tester.java public class Tester &#123; public static void main(String[] args) &#123; Context context = new Context(new SpecificStrategyA()); context.executeStrategy(); context = new Context(new SpecificStrategyB()); context.executeStrategy(); &#125;&#125;//Output://ç®—æ³•A//ç®—æ³•B å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ç­–ç•¥æ¨¡å¼ä¹‹åŽå¯ä»¥åŠ¨æ€åœ°åœ¨ä»£ç è¿è¡Œè¿‡ç¨‹ä¸­æ›¿æ¢Contextå¯¹è±¡æ‰€ä½¿ç”¨çš„ç®—æ³•ã€‚ è¿™é‡Œå¯ä»¥å¯¹Contextå¯¹è±¡ç»§ç»­åšæ”¹è¿›ã€‚ //Context.javapublic class Context &#123; private Strategy strategy; public Context() &#123; &#125; /** * æ‰§è¡Œç­–ç•¥çš„å…·ä½“æ–¹æ³• */ public void executeStrategy() &#123; strategy.algorithmStatement(); &#125; public void setStrategy(Strategy strategy) &#123; this.strategy = strategy; &#125;&#125;//Tester.javapublic class Tester &#123; public static void main(String[] args) &#123; Context context = new Context(); context.setStrategy(new SpecificStrategyA()); context.executeStrategy(); context.setStrategy(new SpecificStrategyB()); context.executeStrategy(); &#125;&#125; è¿™æ ·å°±ä¸ç”¨é‡å¤åœ°new Contextå¯¹è±¡äº†ã€‚ ä¾‹å­ä¸‹é¢ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®Œæˆä¸€ä¸ªæ‰‹æœºæ”¯ä»˜çš„ä¾‹å­ã€‚ é¦–å…ˆï¼Œç”»å‡ºUMLç±»å›¾ï¼š Payment.java package top.liuergo.strategy.practical;/** * @author liuergo * @description æ”¯ä»˜ç­–ç•¥ * @date 2019-11-20 20:31 */public interface Payment &#123; /** * æ”¯ä»˜æ–¹æ³• * @param balance æ¶ˆè´¹å‰çš„ä½™é¢ * @param price æ¶ˆè´¹çš„ç‰©å“çš„ä»·æ ¼ * @return è¿”å›žæ¶ˆè´¹ä¹‹åŽçš„ä½™é¢ */ double pay(double balance, double price);&#125; Alipay.java package top.liuergo.strategy.practical;/** * @author liuergo * @description æ”¯ä»˜å®æ”¯ä»˜ * @date 2019-11-20 20:31 */public class Alipay implements Payment&#123; @Override public double pay(double balance, double price) &#123; //å„ç§æ”¯ä»˜æ–¹å¼ä¸­æ­¤éƒ¨åˆ†é€»è¾‘è‚¯å®šä¸åŒ System.out.println("æ­£åœ¨æ‰“å¼€æ”¯ä»˜å®..."); System.out.println("ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜äº†" + price + "å…ƒ"); return balance - price; &#125;&#125; WechetPay.java package top.liuergo.strategy.practical;/** * @author liuergo * @description å¾®ä¿¡æ”¯ä»˜ * @date 2019-11-20 20:35 */public class WechatPay implements Payment &#123; @Override public double pay(double balance, double price) &#123; //å„ç§æ”¯ä»˜æ–¹å¼ä¸­æ­¤éƒ¨åˆ†é€»è¾‘è‚¯å®šä¸åŒ System.out.println("æ­£åœ¨æ‰“å¼€å¾®ä¿¡..."); System.out.println("ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜äº†" + price + "å…ƒ"); return balance - price; &#125;&#125; Consumer.java package top.liuergo.strategy.practical;import lombok.Data;/** * @author liuergo * @description æ¶ˆè´¹è€… * @date 2019-11-20 20:36 */@Datapublic class Consumer &#123; double balance; Payment payment; public void usePayment(double price) &#123; this.balance = payment.pay(balance, price); System.out.println("å½“å‰ä½™é¢:"+ this.balance); &#125;&#125; Tester.java import top.liuergo.strategy.practical.Alipay;import top.liuergo.strategy.practical.Consumer;import top.liuergo.strategy.practical.WechatPay;/** * @description: æµ‹è¯•ç±» * @author liuergo * @date 2019-10-30 16:57 */public class Tester &#123; public static void main(String[] args) &#123; Consumer consumer = new Consumer(); consumer.setBalance(20000); consumer.setPayment(new Alipay()); consumer.usePayment(20); consumer.setPayment(new WechatPay()); consumer.usePayment(100); &#125;&#125; è¿è¡Œç¨‹åºä¹‹åŽçš„è¾“å‡ºï¼š]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mavenæ€»ç»“]]></title>
    <url>%2F2019%2F11%2F13%2FMaven%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ç”±äºŽä¹‹å‰ä¸€ç›´åœ¨åšå®‰å“é¡¹ç›®ï¼Œä½¿ç”¨Gradleæ¯”è¾ƒå¤šï¼ŒMavenç”¨çš„æ¯”è¾ƒå°‘ï¼Œæœ€è¿‘è¶ç€æ–°ä¸€å±Šçš„å­¦å¼Ÿå­¦å¦¹ä»¬åŠ å…¥å›¢é˜Ÿï¼Œåœ¨å­¦ä¹ Java WebåŸºç¡€ï¼Œè·Ÿç€å­¦å¼Ÿå­¦å¦¹ä»¬ä¸€èµ·å­¦ä¹ ï¼Œå¯¹ä¹‹å‰çš„ç¬”è®°åšä¸€ä¸ªæ•´ç†ï¼Œä¹Ÿå½“é‡æ–°å›žé¡¾ä¸€ä¸‹ã€‚ Mavenç®€å•ä»‹ç»ï¼ŒMavenæ˜¯ç›®å‰æœ€å—æ¬¢è¿Žçš„ Javaé¡¹ç›®ç®¡ç†æž„å»ºè‡ªåŠ¨åŒ–ç»¼åˆå·¥å…·ã€‚ Mavenä¸»è¦æœ‰ä¸‰ä¸ªåŠŸèƒ½ï¼š ç®¡ç†ä¾èµ–ï¼šåªéœ€è¦åœ¨pomæ–‡ä»¶ä¸­å†™å…¥ç›¸å…³çš„å±žæ€§å°±ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶ç®¡ç†jaråŒ…ã€‚ é¡¹ç›®çš„æž„å»ºï¼šå†…ç½®å¾ˆå¤šæ’ä»¶ï¼Œæ¯”å¦‚æ ¡éªŒã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€éƒ¨ç½²ã€å‘å¸ƒç­‰ã€‚ é¡¹ç›®çš„çŸ¥è¯†ç®¡ç†ï¼šç®¡ç†é¡¹ç›®ç›¸å…³çš„å…¶ä»–å†…å®¹ï¼Œæ¯”å¦‚å¼€å‘è€…ä¿¡æ¯ï¼Œç‰ˆæœ¬ç­‰ã€‚ å®‰è£…å’Œé…ç½®ï¼Œç•¥â€¦ ä»“åº“é…ç½®åœ¨ä½¿ç”¨Mavenæ—¶ï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹çš„æ­¥éª¤æ£€æŸ¥pom.xmlå¹¶åŠ è½½ç›¸å…³çš„ä¾èµ–ã€‚ Mavenä¼šä»Žæœ¬åœ°ä»“åº“å¯»æ‰¾ä¾èµ–åŒ…ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œæ‰§è¡Œ2ã€‚ ä»Žä¸­å¤®ä»“åº“å¯»æ‰¾ä¾èµ–åŒ…ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°æ‰§è¡Œ3ã€‚ å¦‚æžœåœ¨pom.xmlä¸­è‡ªå®šä¹‰äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨è¿œç¨‹ä»“åº“å¯»æ‰¾ä¾èµ–åŒ…ï¼Œå¦‚æžœä»ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆMavenå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ é…ç½®æ­¥éª¤ é…ç½®æœ¬åœ°ä»“åº“ä½ç½®ã€‚ åœ¨confæ–‡ä»¶å¤¹ä¸‹çš„settings.xmlï¼Œå°†&lt;localRepository&gt;æ ‡ç­¾ä¸­çš„è·¯å¾„æ”¹ä¸ºéœ€è¦ä½œä¸ºæœ¬åœ°ä»“åº“çš„è·¯å¾„å³å¯ã€‚ &lt;localRepository&gt;D:\apache-maven-3.6.0\RepMaven&lt;/localRepository&gt; ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒã€‚ åŒæ ·ç¼–è¾‘settings.xmlï¼Œå°†&lt;mirrors&gt;æ ‡ç­¾ä¸­çš„å†…å®¹ä¿®æ”¹ä¸ºä¸‹é¢çš„å³å¯ã€‚ &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt;&lt;/mirrors&gt; é…ç½®è¿œç¨‹ä»“åº“ï¼ˆéžå¿…è¦ï¼‰ã€‚ å¦‚æžœéœ€è¦é…ç½®Mavenè¿œç¨‹ä»“åº“ï¼Œåœ¨pom.xmlåŠ å…¥ä¸‹é¢çš„ä»£ç å³å¯ã€‚ &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;/repository&gt;&lt;/repositories&gt; Mavenä¾èµ–æœºåˆ¶ä¼ ç»Ÿæ–¹å¼ä¸‹å‡å¦‚æˆ‘ä»¬çŽ°åœ¨éœ€è¦ä½¿ç”¨log4jã€‚æˆ‘ä»¬éœ€è¦ï¼š åŽ»äº’è”ç½‘ä¸Šä¸‹è½½log4jçš„jaråŒ…ã€‚ å¤åˆ¶jaråŒ…åˆ°é¡¹ç›®è·¯å¾„ä¸‹ã€‚ æ‰‹åŠ¨å°†å…¶è®¾ç½®ä¸ºé¡¹ç›®çš„ä¾èµ–ã€‚ è¿™æ ·ï¼Œä¸ä»…ç¹çè€Œä¸”ä¸åˆ©äºŽæˆ‘ä»¬çš„ç®¡ç†ï¼Œä¸‡ä¸€log4jæœ‰æ–°çš„ç‰ˆæœ¬éœ€è¦å‡çº§ï¼Œåˆ™éœ€è¦é‡å¤ä¸€éä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤ã€‚ Mavenæ–¹å¼ä¸‹ çŸ¥é“log4jçš„Mavenåæ ‡ã€‚ &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt; å°†å…¶æ·»åŠ åˆ°pom.xmlæ–‡ä»¶ä¸­ï¼ŒæŒ‰ç…§ä¸Šä¸€èŠ‚ä¸­æ‰€è®²çš„é¡ºåºï¼Œå¼€å§‹ä¸‹è½½jaråŒ…å¹¶å‚¨å­˜åˆ°æœ¬åœ°ä»“åº“ã€‚å¦‚æžœversionæ ‡ç­¾è¢«å¿½ç•¥ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ã€‚ åœ¨ä½¿ç”¨Mavenä¹‹åŽï¼Œæˆ‘ä»¬å”¯ä¸€éœ€è¦åšçš„ä¸€ä»¶äº‹å°±æ˜¯æ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„JaråŒ…çš„åæ ‡ã€‚ å¯ä»¥åŽ»ä¸­å¿ƒä»“åº“ï¼Œå¤åˆ¶æ‰€éœ€JaråŒ…çš„çš„Mavenåæ ‡ã€‚ ä¸­å¿ƒä»“åº“ç½‘å€ï¼šhttps://mvnrepository.com/ åœ¨IDEAä¸­æ–°å»ºMavené¡¹ç›® é…ç½®Mavenæ’ä»¶ åœ¨IDEAè‡ªå¸¦äº†Mavenæ’ä»¶ï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨Mavenã€‚éœ€è¦é¦–å…ˆè¿›è¡Œä¸‹é¢çš„é…ç½®ï¼š é…ç½®Mavenå®‰è£…çš„è·¯å¾„ã€settings.xmlçš„è·¯å¾„ä»¥åŠä¸­å¿ƒä»“åº“çš„è·¯å¾„ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ç”¨å³ä¾§å·¥å…·æ ä¸­çš„æ’ä»¶è¿›è¡Œä¸€äº›æ–¹ä¾¿çš„æ“ä½œã€‚ æ–°å»ºMavené¡¹ç›®ã€‚ åœ¨IDEAä¸­ä¸­é€‰æ‹©Mavené¡¹ç›®ï¼Œä¸‹ä¸€æ­¥ã€‚ é…ç½®GroupIdï¼ŒArtifactIdï¼ŒVersionã€‚ GroupIdï¼šç»„ç»‡åç§°ï¼Œä¸€èˆ¬å°†åŸŸåå€’ç½®ã€‚ ArtifactIdï¼šMavenæž„å»ºçš„é¡¹ç›®åã€‚ Versionï¼šç‰ˆæœ¬å·ï¼Œå…¶ä¸­çš„SNAPSHOTæ„æ€ä¸ºå¿«ç…§ï¼Œè¯´æ˜Žè¯¥é¡¹ç›®è¿˜ä¸ç¨³å®šï¼Œä¾ç„¶å¤„äºŽå¼€å‘é˜¶æ®µã€‚ æ·»åŠ ä¾èµ–ã€‚ åœ¨pom.xmlä¸­ï¼ŒåŠ å…¥ä¸‹é¢çš„è¯­å¥ï¼š &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; è¿™æ ·ï¼Œæˆ‘ä»¬å°±å°†log4jçš„ä¾èµ–åŒ…æ·»åŠ åˆ°äº†é¡¹ç›®ä¸­ã€‚ Maven æ’ä»¶ Maven æ˜¯ä¸€ä¸ªæ‰§è¡Œæ’ä»¶çš„æ¡†æž¶ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡å®žé™…ä¸Šæ˜¯ç”±æ’ä»¶å®Œæˆçš„ã€‚Maven æ’ä»¶é€šå¸¸ç”¨äºŽï¼š åˆ›å»º jar æ–‡ä»¶ åˆ›å»º war æ–‡ä»¶ ç¼–è¯‘ä»£ç æ–‡ä»¶ è¿›è¡Œä»£ç å•å…ƒæµ‹è¯• åˆ›å»ºé¡¹ç›®æ–‡æ¡£ åˆ›å»ºé¡¹ç›®æŠ¥å‘Š å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„è¯­æ³•æ‰§è¡Œæ’ä»¶ï¼š mvn [plugin-name]:[goal-name] ä¾‹å¦‚ï¼Œä½¿ç”¨æ’ä»¶å°†é¡¹ç›®æ‰“æˆJaråŒ…ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š mvn jar:jar å¸¸è§æ’ä»¶ æ’ä»¶ æè¿° clean æž„å»ºä¹‹åŽæ¸…ç†ç›®æ ‡æ–‡ä»¶ã€‚åˆ é™¤Targetç›®å½•ã€‚ compiler ç¼–è¯‘ Java æºæ–‡ä»¶ã€‚ surefile è¿è¡Œ JUnit å•å…ƒæµ‹è¯•ã€‚åˆ›å»ºæµ‹è¯•æŠ¥å‘Šã€‚ jar ä»Žå½“å‰å·¥ç¨‹ä¸­æž„å»º JAR æ–‡ä»¶ã€‚ war ä»Žå½“å‰å·¥ç¨‹ä¸­æž„å»º WAR æ–‡ä»¶ã€‚ javadoc ä¸ºå·¥ç¨‹ç”Ÿæˆ Javadocã€‚ antrun ä»Žæž„å»ºè¿‡ç¨‹çš„ä»»æ„ä¸€ä¸ªé˜¶æ®µä¸­è¿è¡Œä¸€ä¸ª ant ä»»åŠ¡çš„é›†åˆã€‚ IDEAä¸­çš„Mavenæ’ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨è¿™äº›æ’ä»¶ï¼š]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”BlockingQueue]]></title>
    <url>%2F2019%2F11%2F09%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94BlockingQueue%2F</url>
    <content type="text"><![CDATA[BlockingQueueé˜»å¡žé˜Ÿåˆ—ï¼Œæ‰€è°“çš„é˜»å¡žæ˜¯æŒ‡ï¼Œå½“é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œä¼šé˜»å¡žå½“å‰æ·»åŠ å…ƒç´ çš„çº¿ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸æ»¡æˆ–è€…ç­‰åˆ°è¶…æ—¶ï¼›å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¼šé˜»å¡žå½“å‰èŽ·å–å…ƒç´ çš„çº¿ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ç©ºæˆ–è€…ç­‰å¾…è¶…æ—¶ã€‚ æ ¸å¿ƒæ–¹æ³•åŽ‹å…¥å…ƒç´  add(E e)ï¼šå‘é˜Ÿå°¾å¢žåŠ å…ƒç´ ï¼Œè®¾ç½®æˆåŠŸè¿”å›žtrueã€‚å¦‚æžœä½¿ç”¨äº†capacity-restrictedé˜Ÿåˆ—ï¼Œå³é™å®šäº†å®¹é‡çš„é˜Ÿåˆ—ï¼ŒæŽ¨èä½¿ç”¨offer()æ–¹æ³•ã€‚ offer(E e)ï¼šå‘é˜Ÿå°¾å¢žåŠ å…ƒç´ ï¼Œè®¾ç½®æˆåŠŸè¿”å›žtrueï¼Œå¦‚æžœé˜Ÿåˆ—ä¸­æ²¡æœ‰å¤šä½™çš„ç©ºé—´è¿”å›žfalseã€‚ put(E e)ï¼šå‘é˜Ÿå°¾å¢žåŠ å…ƒç´ ï¼Œå¦‚æžœé˜Ÿåˆ—ä¸­æ²¡æœ‰å¤šä½™çš„ç©ºé—´ï¼Œè¯¥æ–¹æ³•ä¼šä¸€ç›´é˜»å¡žã€‚ å¼¹å‡ºå…ƒç´  poll()ï¼šèŽ·å–å¹¶ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æžœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›žnullã€‚ take()ï¼šèŽ·å–å¹¶ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æžœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¯¥æ–¹æ³•ä¼šä¸€ç›´é˜»å¡žã€‚ peek()ï¼šèŽ·å–ä½†æ˜¯å¹¶ä¸ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æžœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›žnullã€‚ å…¶ä»–æ“ä½œ contains(Obeject o)ï¼šåˆ¤æ–­é˜Ÿåˆ—ä¸­æ˜¯å¦åŒ…å«è¯¥å…ƒç´ ã€‚ int drainTo(Collection&lt;? super E&gt; c)ï¼šå°†é˜Ÿåˆ—è½¬åŒ–ä¸ºé›†åˆã€‚ å®žçŽ°ç±» å®žçŽ°ç±» åº•å±‚æ•°æ®ç»“æž„ æ˜¯å¦æœ‰ç•Œ å…¶ä»– ArrayBlockingQueue arrayList æœ‰ç•Œ åªæœ‰ä¸€æŠŠé”ï¼Œå…¥é˜Ÿé«˜å¹¶å‘æˆ–å‡ºé˜Ÿé«˜å¹¶å‘çš„æƒ…å†µä¸‹æŽ¨èä½¿ç”¨ LinkedBlockingQueue linkedList é»˜è®¤æ— ç•Œï¼Œå¯æŒ‡å®šä¸Šé™ ä¸¤æŠŠé”ï¼Œåœ¨å…¥é˜Ÿä¸Žå‡ºé˜Ÿéƒ½é«˜å¹¶å‘çš„æƒ…å†µä¸‹æŽ¨èä½¿ç”¨ DelayQueue heap æ— ç•Œ å»¶è¿ŸæœŸæ»¡æ—¶æ‰èƒ½ä»Žä¸­æå–å…ƒç´  PriorityBlockingQueue heap æ— ç•Œ åŸºäºŽä¼˜å…ˆçº§çš„é˜»å¡žé˜Ÿåˆ— SynchronousQueue æ—  æ— ç•Œ æ— ç¼“å†²çš„é˜»å¡žé˜Ÿåˆ—ï¼Œåªèƒ½å®¹çº³ä¸€ä¸ªå…ƒç´ ï¼Œå‘é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ çš„çº¿ç¨‹å°†ä¼šé˜»å¡žï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å°†è¯¥å…ƒç´ ä»Žé˜Ÿåˆ—ä¸­æŠ½èµ°ã€‚ ç”Ÿäº§è€…æ¶ˆè´¹è€…ä¾‹å­ Producer.java import java.util.concurrent.BlockingQueue;import java.util.concurrent.TimeUnit;/** * @author liuergo * @description ç”Ÿäº§è€… * @date 2019-11-10 00:23 */public class Producer implements Runnable &#123; private final BlockingQueue&lt;Integer&gt; queue; public Producer(BlockingQueue&lt;Integer&gt; queue) &#123; this.queue = queue; &#125; @Override public void run() &#123; int maxProductNum = 20; for (int i = 0; i &lt; maxProductNum; i++) &#123; try &#123; TimeUnit.SECONDS.sleep(1); //ç”Ÿäº§è€…ç”Ÿäº§ queue.put(i); System.out.println("Producer produced " + i); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; Consumer.java import java.util.concurrent.BlockingQueue;import java.util.concurrent.TimeUnit;/** * @author liuergo * @description æ¶ˆè´¹è€… * @date 2019-11-10 00:24 */public class Consumer implements Runnable &#123; private final BlockingQueue&lt;Integer&gt; queue; public Consumer(BlockingQueue&lt;Integer&gt; queue) &#123; this.queue = queue; &#125; @Override public void run() &#123; int maxConsumeTime = 20; for (int i = 0; i &lt; maxConsumeTime; i++) &#123; try &#123; TimeUnit.SECONDS.sleep(2); //æ¶ˆè´¹è€…æ¶ˆè´¹å¹¶æ‹¿åˆ°äº§å“ int product = queue.take(); System.out.println("Consumer consumed " + product); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; Tester.java import java.util.concurrent.*;/** * @author liuergo * @description æµ‹è¯•ç±» * @date 2019-11-10 13:26 */public class Tester &#123; public static void main(String[] args) &#123; BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(5); Producer producer = new Producer(queue); Consumer consumer = new Consumer(queue); //ä½¿ç”¨çº¿ç¨‹æ± ï¼Œé¿å…æ˜¾å¼åœ°åˆ›å»ºçº¿ç¨‹ ExecutorService service = Executors.newFixedThreadPool(2); service.execute(producer); service.execute(consumer); service.shutdown(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TimeUnitç±»ä½¿ç”¨]]></title>
    <url>%2F2019%2F11%2F09%2FTimeUnit%E7%B1%BB%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[TimeUnitä½¿ç”¨åœ¨å­¦ä¹ çº¿ç¨‹æ± çš„æ—¶å€™å‘çŽ°ThreadPoolExecutorç±»ä¸­æœ‰ä¸ªTimeUnitç±»çš„å‚æ•°ï¼Œæ­¤ç±»æ˜¯java.util.concurrentåŒ…ä¸‹çš„ç±»ï¼Œè®°å½•ä¸€ä¸‹è¯¥ç±»çš„ä½¿ç”¨ã€‚ ä½œç”¨ï¼š æ—¶é—´ç²’åº¦è½¬æ¢ æä¾›äº†å¯è¯»æ€§æ›´å¥½çš„çº¿ç¨‹æš‚åœæ“ä½œï¼Œé€šå¸¸ç”¨æ¥ä»£æ›¿Thread.sleep() å¸¸ç”¨çš„å‡ ä¸ªæ—¶é—´ç²’åº¦TimeUnit.DAYS //å¤©TimeUnit.HOURS //å°æ—¶TimeUnit.MINUTES //åˆ†é’ŸTimeUnit.SECONDS //ç§’TimeUnit.MILLISECONDS //æ¯«ç§’ æ—¶é—´ç²’åº¦è½¬æ¢public long toMillis(long d) //è½¬åŒ–æˆæ¯«ç§’public long toSeconds(long d) //è½¬åŒ–æˆç§’public long toMinutes(long d) //è½¬åŒ–æˆåˆ†é’Ÿpublic long toHours(long d) //è½¬åŒ–æˆå°æ—¶public long toDays(long d) //è½¬åŒ–å¤© Example import java.util.concurrent.TimeUnit;/** * @paragram: ThreadPoolDemo * @description: TimeUnitç±»æµ‹è¯• * @auhor: liuergo * @date: 2019-11-09 14:08 */public class TimeUnitTest &#123; public static void main(String[] args) &#123; //å°†ä¸€å¤©è½¬æ¢ä¸º24å°æ—¶ System.out.println(TimeUnit.DAYS.toHours(1)); //å°†ä¸€å°æ—¶è½¬æ¢ä¸º60åˆ†é’Ÿ System.out.println(TimeUnit.HOURS.toMinutes(1)); &#125;&#125;//è¾“å‡ºç»“æžœ//24//60 å»¶æ—¶import java.sql.Time;import java.util.Timer;import java.util.concurrent.TimeUnit;/** * @paragram: ThreadPoolDemo * @description: TimeUnitç±»æµ‹è¯• * @auhor: liuergo * @date: 2019-11-09 14:08 */public class TimeUnitTest &#123; public static void main(String[] args) throws InterruptedException &#123; Thread.sleep(60 * 60 * 1000); //å¯è¯»æ€§ä¸é«˜ TimeUnit.HOURS.sleep(1); //åŒæ ·æ˜¯çº¿ç¨‹ç¡çœ ä¸€å°æ—¶ï¼Œä½¿ç”¨TimeUnitå¯è¯»æ€§ä¼šé«˜å¾ˆå¤šã€‚ &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼â€”è§‚å¯Ÿè€…æ¨¡å¼]]></title>
    <url>%2F2019%2F11%2F09%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆåˆè¢«ç§°ä¸ºå‘å¸ƒ-è®¢é˜…ï¼ˆPublish/Subscribeï¼‰æ¨¡å¼ï¼Œå±žäºŽè¡Œä¸ºåž‹æ¨¡å¼çš„ä¸€ç§ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ã€‚è¿™ä¸ªä¸»é¢˜å¯¹è±¡åœ¨çŠ¶æ€å˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚ å®šä¹‰å¾ˆæ˜Žç¡®ï¼Œå¦‚æžœå­¦è¿‡Androidçš„ç«¥éž‹è‚¯å®šå¯¹Androidä¸­çš„å¹¿æ’­ä¸é™Œç”Ÿï¼Œå¹¿æ’­å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å®žçŽ°ã€‚ å®žçŽ°ä¸‹é¢ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Žè§‚å¯Ÿè€…æ¨¡å¼ï¼ŒæŸä¸ªæ˜Žæ˜Ÿåœ¨å¾®åšå‘å¸ƒäº†ä¸€ä¸ªåŠ¨æ€ï¼Œè¯´ä»–ä¼šå”±è·³rapç¯®çƒï¼Œç„¶åŽæ‰€æœ‰å…³æ³¨ä»–çš„ç²‰ä¸éƒ½ç¬¬ä¸€æ—¶é—´å°±æ”¶åˆ°äº†ä»–çš„åŠ¨æ€ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…¸åž‹çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œç²‰ä¸ä½œä¸ºè§‚å¯Ÿè€…è§‚å¯Ÿæ˜Žæ˜Ÿï¼Œæ˜Žæ˜Ÿä¸€æ—¦æœ‰çŠ¶æ€æ”¹å˜å°±é€šçŸ¥æ‰€æœ‰ç²‰ä¸ã€‚ é¦–å…ˆç”»å‡ºUMLç±»å›¾ï¼š ObserveræŽ¥å£ï¼šåœ¨æ­¤æŽ¥å£ä¸­ï¼Œåªå£°æ˜Žäº†ä¸€ä¸ªupdate()æ–¹æ³•ï¼Œç”¨æ¥æ›´æ–°æ¯ä¸ªè§‚å¯Ÿè€…çš„çŠ¶æ€ã€‚ Ikunè§‚å¯Ÿè€…ç±»ï¼šæ­¤ç±»å®žçŽ°äº†ObserveræŽ¥å£ï¼Œæ˜¯ä¸€ä¸ªå®žé™…çš„è§‚å¯Ÿè€…ï¼Œåœ¨æˆ‘ä»¬ä¾‹å­ä¸­ï¼Œä¸€ä¸ªIkunå¯¹è±¡å°±æ˜¯Kunkunçš„ç²‰ä¸ä¹‹ä¸€ã€‚ SubjectæŽ¥å£ï¼šåœ¨æ­¤æŽ¥å£ä¸­ï¼Œå£°æ˜Žäº†æ·»åŠ ã€åˆ é™¤ä»¥åŠé€šçŸ¥è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚ Kunkunè¢«è§‚å¯Ÿè€…ç±»ï¼šæ­¤ç±»å®žçŽ°äº†SubjectæŽ¥å£ï¼Œæ˜¯ä¸€ä¸ªå®žé™…çš„è¢«è§‚å¯Ÿè€…ï¼Œç”¨ä¸€ä¸ªArrayListå˜é‡å‚¨å­˜Observerï¼Œè¿™æ ·addObserveræ–¹æ³•å°±æ˜¯å‘ArrayListä¸­addæ–°å…ƒç´ ï¼Œå³ä¸ºKunkunæ·»åŠ ä¸€ä¸ªæ–°ikunï¼›removeObserverå°±æ˜¯removeæŸä¸ªå…ƒç´ ï¼Œå³ä¸ºKunkunè¸¢å‡ºä¸€ä¸ªikunï¼›notifyæ–¹æ³•å°±æ˜¯éåŽ†æ‰€æœ‰çš„Observerï¼Œæ‰§è¡Œupdateæ–¹æ³•ï¼Œé€šçŸ¥æ‰€æœ‰çš„ikunã€‚ ä¸‹é¢ç»™å‡ºJavaä»£ç ï¼š Subject.java package top.liuergo.observer.simple;/** * @author liuergo * @description è¢«è§‚å¯Ÿè€… * @date 2019-11-21 09:59 */public interface Subject &#123; /** * ä¸ºè¯¥Subjectæ·»åŠ è§‚å¯Ÿè€… * @param o ä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡ */ public void addObserver(Observer o); /** * åˆ é™¤æŸä¸ªè§‚å¯Ÿè€… * @param o ä¸€ä¸ªè§‚å¯Ÿè€…å¯¹è±¡ */ public void removeObserver(Observer o); /** * é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€… */ public void notifyAllObservers();&#125; Observer.java package top.liuergo.observer.simple;/** * @author liuergo * @description è§‚å¯Ÿè€… * @date 2019-11-21 09:58 */public interface Observer &#123; /** * æ›´æ–°è§‚å¯Ÿè€…çš„çŠ¶æ€ * @param message çŠ¶æ€ */ public void update(String message);&#125; Kunkun.java package top.liuergo.observer.pratical;import top.liuergo.observer.simple.Observer;import top.liuergo.observer.simple.Subject;import java.util.ArrayList;import java.util.List;/** * @author liuergo * @description æ˜Žæ˜ŸKunkun * @date 2019-11-21 10:31 */public class Kunkun implements Subject &#123; private List&lt;Observer&gt; ikuns; private String message; public Kunkun() &#123; ikuns = new ArrayList&lt;&gt;(); &#125; @Override public void addObserver(Observer o) &#123; //ä¸ºKunkunå¢žåŠ ä¸€ä¸ªikun ikuns.add(o); &#125; @Override public void removeObserver(Observer o) &#123; //å°†ä¸€ä¸ªikunè¸¢å‡ºç²‰ä¸ç¾¤ ikuns.remove(o); &#125; @Override public void notifyAllObservers() &#123; for (Observer ikun : ikuns) &#123; ikun.update(this.message); &#125; &#125; public void sendMessage(String message) &#123; this.message = message; notifyAllObservers(); &#125;&#125; Ikun.java package top.liuergo.observer.pratical;import top.liuergo.observer.simple.Observer;/** * @author liuergo * @description Kunkunç²‰ä¸ * @date 2019-11-21 10:35 */public class Ikun implements Observer &#123; private String name; public Ikun(String name) &#123; this.name = name; &#125; @Override public void update(String message) &#123; //ikunæ›´æ–°è‡ªå·±çš„çŠ¶æ€ System.out.println(name + "æ”¶åˆ°äº†æ¶ˆæ¯ï¼š" + message); &#125;&#125; Tester.java package top.liuergo.observer.pratical;/** * @author liuergo * @description æµ‹è¯•ç±» * @date 2019-11-21 10:46 */public class Tester &#123; public static void main(String[] args) &#123; Ikun ikunA = new Ikun("å¼ ä¸‰"); Ikun ikunB = new Ikun("æŽå››"); Kunkun kunkun = new Kunkun(); kunkun.addObserver(ikunA); kunkun.addObserver(ikunB); kunkun.sendMessage("æˆ‘æ˜¯ç»ƒä¹ æ—¶å¸¸ä¸¤å¹´åŠçš„å¶åƒç»ƒä¹ ç”Ÿï¼Œå–œæ¬¢å”±ã€è·³ã€rapã€ç¯®çƒ~"); &#125;&#125; è¿è¡Œç»“æžœï¼š è¿™æ ·Kukunçš„ä¸¤ä¸ªikunéƒ½æ”¶åˆ°äº†Kunkunå‘å¸ƒçš„æ¶ˆæ¯ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”çº¿ç¨‹æ± ]]></title>
    <url>%2F2019%2F11%2F07%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94%E7%BA%BF%E7%A8%8B%E6%B1%A0%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥ï¼š é™ä½Žèµ„æºçš„æ¶ˆè€—ã€‚çº¿ç¨‹æœ¬èº«æ˜¯ä¸€ç§å¾ˆå®è´µçš„èµ„æºï¼Œåˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹ä¼šæœ‰CPUå¼€é”€ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ˜‚è´µçš„æ“ä½œã€‚ æé«˜ä»»åŠ¡æ‰§è¡Œçš„å“åº”é€Ÿåº¦ã€‚ä½¿ç”¨çº¿ç¨‹æ± ä»¥åŽï¼Œä¸å¿…ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå®Œæ¯•ä»¥åŽå†æ‰§è¡Œã€‚ æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚å¯ä»¥å¯¹çº¿ç¨‹è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ã€‚ çº¿ç¨‹æ± å¤„ç†ä¸»è¦æµç¨‹ Executor æˆ‘ä»¬å¦‚æžœè¦è‡ªå®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ± æˆ–è€…ä½¿ç”¨javaè‡ªå¸¦çš„å‡ ç§çº¿ç¨‹æ± ï¼Œéƒ½è¦ä½¿ç”¨ThreadPoolExecutorç±»æˆ–è€…ä½¿ç”¨å®žçŽ°äº†è¯¥ç±»çš„å·¥åŽ‚æ–¹æ³•ã€‚ å¯ä»¥çœ‹åˆ°ï¼ŒExecutoræŽ¥å£æ˜¯ThreadPoolExecutorçš„é¡¶å±‚æŽ¥å£ã€‚ åœ¨ExecutoræŽ¥å£ä¸­ï¼Œåªæœ‰ä¸€ä¸ªexecute()æ–¹æ³•ï¼Œå¿…é¡»ä¼ è¿›æ¥å®žçŽ°RunnableæŽ¥å£çš„çº¿ç¨‹ï¼Œè¯¥æ–¹æ³•å¯ä»¥å°†ä»»åŠ¡äº¤ç»™çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨ã€‚ï¼ˆæ³¨æ„ï¼Œè¯¥å¯åŠ¨æ–¹å¼æ— æ³•æ‹¿åˆ°è¿”å›žå€¼ï¼‰ã€‚ void execute(Runnable command); ExecutorServiceè¯¥æŽ¥å£ç»§æ‰¿äº†ExecutoræŽ¥å£ï¼Œè¯¥æŽ¥å£ï¼š æä¾›äº†ç”¨äºŽå…³é—­çº¿ç¨‹æ± çš„æ–¹æ³•ï¼Œshutdownæ–¹æ³•å’ŒshutdownNowæ–¹æ³•ï¼Œå…³äºŽè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œshutdownæ–¹æ³•ä¼šå°†çº¿ç¨‹æ± çš„çŠ¶æ€ç½®ä¸ºSHUTDOWNï¼Œå¹¶ä¸”ä¸å†æŽ¥æ”¶æ–°ä»»åŠ¡ï¼ŒåŒæ—¶ç­‰å¾…çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åŽå†ç»“æŸï¼›shutdownNowæ–¹æ³•ä¼šå°†çº¿ç¨‹æ± çš„çŠ¶æ€ç½®ä¸ºSTOPï¼Œç„¶åŽå¯¹çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„çº¿ç¨‹æ‰§è¡Œinterruptæ–¹æ³•ã€‚ æä¾›äº†ç”¨äºŽæ£€æŸ¥çº¿ç¨‹æ± çŠ¶æ€çš„ä¸¤ä¸ªæ–¹æ³•ï¼ŒisShutdownæ–¹æ³•å’ŒisTerminatedæ–¹æ³•ï¼Œä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«å¯ä»¥æ£€æµ‹çº¿ç¨‹æ± æ˜¯å¦è¢«å…³é—­å’Œæ˜¯å¦è¢«ç»ˆæ­¢ã€‚ æä¾›äº†submitå’ŒinvokeAllå¯ä»¥æ‰§è¡Œå®žçŽ°CallableæŽ¥å£çš„çº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨å®šä¹‰ä¸€ä¸ªFutureç±»åž‹çš„å¯¹è±¡èŽ·å–åˆ°çº¿ç¨‹è¿è¡Œä¹‹åŽçš„è¿”å›žå€¼ã€‚ ThreadPoolExecutoræž„é€ å‡½æ•°public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler); è¯¥ç±»çš„æž„é€ æ–¹æ³•å¦‚ä¸Šï¼Œä¸‹é¢ä¸€ä¸€è§£é‡Šæ¯ä¸ªå‚æ•°çš„å«ä¹‰ï¼š corePoolSizeï¼šçº¿ç¨‹æ± ä¸­æ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ï¼Œå¯¹äºŽè¶…å‡ºæ ¸å¿ƒçº¿ç¨‹æ•°é‡ä»¥å¤–çš„çº¿ç¨‹ï¼Œå°†å…¶ç§°ä½œâ€idle threadsâ€ã€‚ maximumPoolSizeï¼šçº¿ç¨‹æ± ä¸­çš„æœ€å¤§çº¿ç¨‹æ•°é‡ã€‚ keepAliveTimeï¼šç©ºé—²æ—¶é—´ï¼Œidle threadså­˜æ´»çš„æ—¶é—´ã€‚ unitï¼šç©ºé—²æ—¶é—´çš„å•ä½ã€‚ workQueueï¼šçº¿ç¨‹æ± çš„ç­‰å¾…é˜Ÿåˆ—ã€‚ threadFactoryï¼šçº¿ç¨‹å·¥åŽ‚ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºæ–°çº¿ç¨‹ã€‚ handlerï¼šæ‹’ç»ç­–ç•¥ï¼Œå½“çº¿ç¨‹æ± å’Œé˜Ÿåˆ—éƒ½æ»¡äº†æ—¶å€™ï¼Œè¿™æ—¶éœ€è¦å¯¹ç»§ç»­æäº¤è¿›æ¥çš„ä»»åŠ¡åšå‡ºå¤„ç†ã€‚ ä¸‹é¢ç€é‡åˆ†æžworkQueueã€threadFactoyå’Œhandlerä¸‰ä¸ªå‚æ•°ã€‚ workQueueç­‰å¾…é˜Ÿåˆ—æ˜¯BlockingQueueç±»åž‹çš„ï¼Œç†è®ºä¸Šï¼Œåªè¦æ˜¯å®ƒçš„å­ç±»ï¼Œéƒ½å¯ä»¥ç”¨æ¥ä½œä¸ºç­‰å¾…é˜Ÿåˆ—ã€‚ å…³äºŽBlockingQueueå¯ä»¥ç§»æ­¥ï¼šBlockingQueue threadFactorypublic interface ThreadFactory &#123; /** * Constructs a new &#123;@code Thread&#125;. Implementations may also initialize * priority, name, daemon status, &#123;@code ThreadGroup&#125;, etc. * * @param r a runnable to be executed by new thread instance * @return constructed thread, or &#123;@code null&#125; if the request to * create a thread is rejected */ Thread newThread(Runnable r);&#125; ThreadFactoryæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œåªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥åˆ›å»ºçº¿ç¨‹ã€‚ static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = "pool-" + poolNumber.getAndIncrement() + "-thread-"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; åœ¨ThreadPoolExecutorä¸­ï¼Œé»˜è®¤ä½¿ç”¨Executors.defaultThreadFactory()é™æ€æ–¹æ³•åˆ›å»ºçº¿ç¨‹å·¥åŽ‚ï¼Œåœ¨æ­¤æ–¹æ³•ä¸­æ–°å»ºäº†ä¸€ä¸ªDefaultThreadFactoryå¯¹è±¡ï¼Œä¸Šé¢æ˜¯è¯¥å¯¹è±¡çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è¯¥æ–¹æ³•åˆ›å»ºçš„çº¿ç¨‹ä¼˜å…ˆçº§å‡ä¸ºNORM_PRIORITYï¼Œå¹¶ä¸”æ˜¯éžå®ˆæŠ¤çº¿ç¨‹ï¼Œä½¿ç”¨&quot;pool-&quot; + poolNumber + &quot;-thread-&quot; + threadNumberæ¥å‘½åçº¿ç¨‹ã€‚æ‰€ä»¥ï¼Œå¯ä»¥é€šè¿‡å®šåˆ¶ä¸€ä¸ªThreadFactoryçš„æ–¹å¼æ¥è¾¾åˆ°ç»Ÿä¸€å‘½åæˆ‘ä»¬çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹çš„ç›®çš„ã€‚ handlerçº¿ç¨‹æ± æä¾›äº†4ç§å†³ç»ç­–ç•¥ï¼š AbortPolicyï¼šç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ˜¯é»˜è®¤ç­–ç•¥ã€‚ CallerRunsPolicyï¼šç”¨è°ƒç”¨è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚ DiscardOldestPolicyï¼šä¸¢å¼ƒé˜»å¡žé˜Ÿåˆ—ä¸­é æœ€å‰çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ã€‚ DiscardPolicyï¼šç›´æŽ¥ä¸¢å¼ƒä»»åŠ¡ã€‚ ExecutorsExecutorsæ˜¯ä¸€ä¸ªçº¿ç¨‹æ± å·¥åŽ‚ï¼Œæä¾›äº†å¾ˆå¤šå·¥åŽ‚æ–¹æ³•ï¼Œæä¾›äº†ä¸€äº›åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•ã€‚ SingleThreadExecutorpublic static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));&#125; åˆ›å»ºå•ä¸€çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œè¿™ä¸ªçº¿ç¨‹æ± åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚å¤šä¸ªä»»åŠ¡è¢«æäº¤åˆ°è¯¥çº¿ç¨‹åŽï¼Œä¼šè¢«ç¼“å­˜åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºInteger.MAX_VALUEçš„LinkedBlockingQueueé˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶çš„maximumPoolSizeå®žé™…ä¸Šæ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œå› ä¸ºç¼“å†²åŒºåŸºæœ¬ä¸ä¼šæ»¡åªæœ‰ç¼“å†²åŒºæ»¡äº†æ‰ä¼šæ‰§è¡Œåˆ¤æ–­maximumPoolSizeçš„é€»è¾‘ã€‚å¦‚æžœåªéœ€è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä¹ŸæŽ¨èä½¿ç”¨è¯¥æ–¹æ³•ä»£æ›¿ç›´æŽ¥new Threadçš„æ–¹æ³•åˆ›å»ºçº¿ç¨‹ï¼Œé¿å…æ˜¾å¼åœ°åˆ›å»ºçº¿ç¨‹ã€‚ FixedThreadPoolpublic static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());&#125; åˆ›å»ºå›ºå®šé•¿åº¦çš„çº¿ç¨‹æ± ï¼Œå’Œä¸Šé¢çš„çº¿ç¨‹æ± ç±»ä¼¼ï¼Œåªä¸è¿‡å¯ä»¥æŽ¥æ”¶æ›´å¤šä»»åŠ¡ã€‚ CachedThreadPoolpublic static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());&#125; åˆ›å»ºå¸¦ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œä½¿ç”¨è¯¥æ–¹å¼åˆ›å»ºçš„çº¿ç¨‹æ ¸å¿ƒçº¿ç¨‹æ•°ä¸º0ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸ºInteger.MAX_VALUEï¼Œä½¿ç”¨SynchronousQueueé˜»å¡žé˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—åœ¨BlockingQueueä¸­æœ‰è®²åˆ°ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æžœæ­¤æ—¶æ¥äº†ä¸€ä¸ªçº¿ç¨‹Aï¼Œç”±äºŽå½“å‰corePoolSizeä¸º0ï¼Œæ‰€ä»¥ç›´æŽ¥å°†å…¶æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œç”±äºŽè¯¥é˜Ÿåˆ—çš„ç‰¹æ€§ï¼Œæ·»åŠ æˆåŠŸçš„å‰ææ˜¯å¿…é¡»è¦æœ‰å¦ä¸€ä¸ªçº¿ç¨‹å·²ç»åœ¨ç­‰å¾…å–å‡ºè¿™ä¸ªå…ƒç´ äº†ï¼Œæ­¤æ—¶æ— å¯ç”¨çº¿ç¨‹ï¼Œå³æ²¡æœ‰ç­‰å¾…å–å‡ºçº¿ç¨‹Açš„çº¿ç¨‹ï¼Œç”±äºŽæœ€å¤§çº¿ç¨‹æ•°ä¸ºInteger.MAX_VALUEæ‰€ä»¥ä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚æ­¤æ—¶å¦‚æžœåˆæ¥äº†ä¸€ä¸ªçº¿ç¨‹Bï¼Œçº¿ç¨‹Aä»ç„¶åœ¨è¿è¡Œä¸­ï¼ŒåŒæ ·æ— å¯ç”¨çº¿ç¨‹ï¼Œä¼šç»§ç»­ä¸ºBåˆ›å»ºæ–°çº¿ç¨‹ã€‚ æ­¤çº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¯æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œå¦‚æžœçŽ°æœ‰çº¿ç¨‹æ²¡æœ‰å¯ç”¨çš„ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹å¹¶æ·»åŠ åˆ°æ± ä¸­ï¼Œå¦‚æžœæœ‰è¢«ä½¿ç”¨å®Œä½†æ˜¯è¿˜æ²¡é”€æ¯çš„çº¿ç¨‹ï¼Œå°±å¤ç”¨è¯¥çº¿ç¨‹ã€‚ç»ˆæ­¢å¹¶ä»Žç¼“å­˜ä¸­ç§»é™¤é‚£äº›å·²æœ‰ 60 ç§’é’Ÿæœªè¢«ä½¿ç”¨çš„çº¿ç¨‹ã€‚å› æ­¤ï¼Œé•¿æ—¶é—´ä¿æŒç©ºé—²çš„çº¿ç¨‹æ± ä¸ä¼šä½¿ç”¨ä»»ä½•èµ„æºã€‚ ScheduledThreadPoolåˆ›å»ºå®šæ—¶è°ƒåº¦çš„çº¿ç¨‹æ± ï¼Œä¸Žä¸Šé¢ä¸‰ä¸ªçº¿ç¨‹æ± ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•è¿”å›žçš„æ˜¯ScheduledExecutorServiceç±»åž‹çš„çº¿ç¨‹æ± ï¼Œ æ˜¯ä¸€ä¸ªèƒ½å®žçŽ°å®šæ—¶ã€å‘¨æœŸæ€§ä»»åŠ¡çš„çº¿ç¨‹æ± ã€‚ ä½¿ç”¨æ–¹æ³•ï¼š BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(5);Producer producer = new Producer(queue);Consumer consumer = new Consumer(queue);ScheduledExecutorService service = Executors.newScheduledThreadPool(3);service.schedule(producer, 5, TimeUnit.SECONDS);service.execute(consumer); ä¸Šé¢çš„ä¾‹å­(æ­¤ä¾‹å­æ¥æºäºŽBlockingQueueè®²è§£)å°±å¯ä»¥å®žçŽ°producerçº¿ç¨‹5såŽè¢«å¯åŠ¨ã€‚ è‡ªå®šä¹‰çº¿ç¨‹æ± å¯¹äºŽä¸Šé¢çš„å‡ ç§çº¿ç¨‹æ± ï¼Œæ˜¯ä¸æŽ¨èç›´æŽ¥ä½¿ç”¨çš„ï¼Œä¸€èˆ¬è¿˜æ˜¯ç»å¸¸ä¼šæ ¹æ®éœ€è¦è‡ªå®šä¹‰çº¿ç¨‹æ± ã€‚è‡ªå®šä¹‰çº¿ç¨‹æ± éœ€è¦ç»“åˆä½¿ç”¨èƒŒæ™¯ï¼Œä¸»è¦å°±æ˜¯å‚æ•°çš„é€‰å–ã€‚ æœ€å¤§çº¿ç¨‹æ•°å¯¹äºŽæœ€å¤§çº¿ç¨‹æ•°çš„æŽ§åˆ¶ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨æ— é™åˆ¶å¤§å°çš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œå¯èƒ½å¼•å‘OOMã€‚ å¯¹äºŽçº¿ç¨‹æ•°é‡çš„ç¡®å®šå¯ä»¥å‚è€ƒä¸‹é¢çš„æ–¹æ¡ˆï¼š 1ã€é’ˆå¯¹IOå¯†é›†åž‹çš„ï¼Œå½“ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡ŒIOæ“ä½œçš„æ—¶å€™ï¼Œå…¶çº¿ç¨‹å°†è¢«é˜»å¡žï¼Œè¿™æ—¶ï¼ŒCPUå°±å¯ä»¥ç«‹å³è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»¥ä¾¿å¤„ç†å…¶ä»–å°±ç»ªçº¿ç¨‹ã€‚ åœ¨ã€ŠJava Concurrency in Practiceã€‹ä¸€ä¹¦ä¸­ï¼Œç»™å‡ºäº†ä¼°ç®—çº¿ç¨‹æ± å¤§å°çš„å…¬å¼ï¼š $Nthreads=NcpuUcpu(1+w/c)$ å…¶ä¸­ï¼ŒNcpu=CPUæ ¸å¿ƒæ•°ï¼ŒUcpu=cpuä½¿ç”¨çŽ‡ï¼Œ0~1ï¼ŒW/C=ç­‰å¾…æ—¶é—´ä¸Žè®¡ç®—æ—¶é—´çš„æ¯”çŽ‡ã€‚ é˜»å¡žè€—æ—¶ä¸€èˆ¬éƒ½æ˜¯è®¡ç®—è€—æ—¶å‡ å€ï¼Œå‡è®¾é˜»å¡žè€—æ—¶=è®¡ç®—è€—æ—¶çš„æƒ…å†µä¸‹ï¼Œ$Nthreads=Ncpu*(1+1)=2Ncpu$ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œå»ºè®®è€ƒè™‘2å€çš„CPUæ ¸å¿ƒæ•°åšä¸ºçº¿ç¨‹æ•°ã€‚ 2ã€å¯¹äºŽè®¡ç®—å¯†é›†åž‹çš„ï¼Œé˜»å¡žè€—æ—¶è¶‹äºŽ0ï¼Œå³w/cè¶‹äºŽ0ï¼Œå…¬å¼$Nthreads = Ncpu$ã€‚ è‡ªå®šä¹‰ThreadFactoryåœ¨ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹ä¸­ï¼Œæœ‰è¿™æ ·çš„ä¸€æ¡è§„å®šï¼š åˆ›å»ºçº¿ç¨‹æˆ–çº¿ç¨‹æ± æ—¶è¯·æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿å‡ºé”™æ—¶å›žæº¯ã€‚åˆ›å»ºçº¿ç¨‹æ± çš„æ—¶å€™è¯·ä½¿ç”¨å¸¦ThreadFactoryçš„æž„é€ å‡½æ•°ï¼Œå¹¶ä¸”æä¾›è‡ªå®šä¹‰ThreadFactoryå®žçŽ°æˆ–è€…ä½¿ç”¨ç¬¬ä¸‰æ–¹å®žçŽ°ã€‚ æ‰€ä»¥æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ± çš„æ—¶å€™ï¼Œå°½é‡æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ã€‚ ç±»æ¯”DefaultThreadFactoryï¼Œåˆ›å»ºè‡ªå®šä¹‰çš„ThreadFactoryã€‚ import java.util.concurrent.ThreadFactory;import java.util.concurrent.atomic.AtomicInteger;/** * @author liuergo * @description è‡ªå®šä¹‰ThreadFactory * @date 2019-11-12 16:41 */public class MyThreadFactory implements ThreadFactory &#123; private static AtomicInteger poolNumber = new AtomicInteger(1); private AtomicInteger threadNumber = new AtomicInteger(1); private ThreadGroup group; private String namePrefix; public MyThreadFactory() &#123; this("my-pool"); &#125; public MyThreadFactory(String namePrefix) &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); this.namePrefix = namePrefix + "-" + poolNumber.getAndIncrement() + "-thread-"; &#125; @Override public Thread newThread(Runnable r) &#123; return new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); &#125;&#125; è¿™æ ·ï¼Œåœ¨æ–°å»ºçº¿ç¨‹æ± çš„æ—¶å€™å°±å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± çš„åç§°äº†ã€‚ ThreadFactory factory = new MyThreadFactory("my-pool");ExecutorService service = new ThreadPoolExecutor(1, 1, 0L, TimeUnit.SECONDS, new LinkedBlockingDeque&lt;&gt;(1024), factory);service.execute(()-&gt; System.out.println(Thread.currentThread().getName()));service.shutdown();//è¾“å‡º//my-pool-1-thread-1 åœ¨ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹ï¼Œæä¾›äº†ä¸‹é¢çš„æ–¹å¼æ–°å»ºä¸€ä¸ªThreadFactoryã€‚ ThreadFactory namedThreadFactory = new ThreadFactoryBuilder() .setNameFormat("demo-pool-%d") .build();ExecutorService singleThreadPool = new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(1024), namedThreadFactory, new ThreadPoolExecutor.AbortPolicy());singleThreadPool.execute(()-&gt; System.out.println(Thread.currentThread().getName()));singleThreadPool.shutdown(); å…¶å®žä¸Šé¢çš„æ–¹å¼ç”¨åˆ°äº†Googleçš„Guava SDKï¼Œå…¶ä¸­ThreadFactoryBuilderæ˜¯å…¶è‡ªå¸¦çš„æž„é€ å™¨æ¨¡å¼æ–¹æ³•ã€‚ ä¸ªäººæŽ¨èç›´æŽ¥ä½¿ç”¨è°·æ­Œè‡ªå¸¦çš„è½®å­ï¼Œæ¯•ç«Ÿä¸è¦é‡å¤é€ è½®å­å˜›ï¼Œå½“ç„¶å­¦ä¹ è¿‡ç¨‹ä¸­è¿˜æ˜¯è¦è‡ªå·±å†™å†™Demoçš„ã€‚ðŸ˜ ç¨‹æ± ç›‘æŽ§å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•æ¥ç›‘æŽ§å½“å‰çº¿ç¨‹æ± çš„çŠ¶æ€ï¼Œåœ¨ThreadPoolExecutorä¸­è‡ªå¸¦äº†ä¸€äº›æ–¹æ³•ï¼š long getTaskCount()ï¼ŒèŽ·å–å·²ç»æ‰§è¡Œæˆ–æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡æ•°ã€‚ long getCompletedTaskCount()ï¼ŒèŽ·å–å·²ç»æ‰§è¡Œçš„ä»»åŠ¡æ•°ã€‚ int getLargestPoolSize()ï¼ŒèŽ·å–çº¿ç¨‹æ± æ›¾ç»åˆ›å»ºè¿‡çš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œæ ¹æ®è¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“çº¿ç¨‹æ± æ˜¯å¦æ»¡è¿‡ã€‚ int getPoolSize()ï¼ŒèŽ·å–çº¿ç¨‹æ± çº¿ç¨‹æ•°ã€‚ int getActiveCount()ï¼ŒèŽ·å–æ´»è·ƒçº¿ç¨‹æ•°ï¼ˆå³æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ•°ï¼‰ã€‚ å…¶æ¬¡ï¼ŒThreadPoolExecutorç•™ç»™æˆ‘ä»¬è‡ªè¡Œå¤„ç†çš„æ–¹æ³•æœ‰3ä¸ªï¼Œå®ƒåœ¨ThreadPoolExecutorä¸­ä¸ºç©ºå®žçŽ°ï¼ˆä¹Ÿå°±æ˜¯ä»€ä¹ˆéƒ½ä¸åšï¼‰ã€‚ protected void beforeExecute(Thread t, Runnable r) // ä»»åŠ¡æ‰§è¡Œå‰è¢«è°ƒç”¨ protected void afterExecute(Runnable r, Throwable t) // ä»»åŠ¡æ‰§è¡ŒåŽè¢«è°ƒç”¨ protected void terminated() // çº¿ç¨‹æ± ç»“æŸåŽè¢«è°ƒç”¨ æˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™è¿™ä¸‰ä¸ªæ–¹æ³•æ¥å®žçŽ°ä¸€äº›å…¶ä»–çš„åŠŸèƒ½ã€‚ ThreadFactory factory = new ThreadFactoryBuilder() .setNameFormat("my-pool-%d") .build();ExecutorService service = new ThreadPoolExecutor(1, 1, 0L, TimeUnit.SECONDS, new LinkedBlockingDeque&lt;&gt;(1024), factory) &#123; private String date = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss").format(new Date()); @Override protected void beforeExecute(Thread t, Runnable r) &#123; String date = formatter.format(new Date()); System.out.println(date + " " + Thread.currentThread().getName() + " å‡†å¤‡æ‰§è¡Œ..."); &#125; @Override protected void afterExecute(Runnable r, Throwable t) &#123; String date = formatter.format(new Date()); System.out.println(date + " " + Thread.currentThread().getName() + " æ‰§è¡Œå®Œæ¯•..."); &#125; @Override protected void terminated() &#123; String date = formatter.format(new Date()); System.out.println(date + " çº¿ç¨‹æ± é€€å‡º"); &#125;&#125;;service.execute(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125;&#125;);service.shutdown();//è¾“å‡º//2019-11-12 08:21:50 my-pool-0 å‡†å¤‡æ‰§è¡Œ...//2019-11-12 08:21:55 my-pool-0 æ‰§è¡Œå®Œæ¯•...//2019-11-12 08:21:55 çº¿ç¨‹æ± é€€å‡º ä¸Šé¢çš„ä¾‹å­ä¸­å°±å®žçŽ°äº†è®°å½•çº¿ç¨‹æ± å‡†å¤‡æ‰§è¡Œçš„æ—¶é—´ã€æ‰§è¡Œå®Œæ¯•çš„æ—¶é—´å’Œçº¿ç¨‹æ± é€€å‡ºçš„æ—¶é—´ã€‚ èŽ·å–å¤„ç†ç»“æžœå’Œå¼‚å¸¸ çº¿ç¨‹æ± çš„å¤„ç†ç»“æžœã€ä»¥åŠå¤„ç†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸éƒ½è¢«åŒ…è£…åˆ°Futureä¸­ï¼Œå¹¶åœ¨è°ƒç”¨Future.get()æ–¹æ³•æ—¶èŽ·å–ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¼šè¢«åŒ…è£…æˆExecutionException ã€‚ Future&lt;Object&gt; future = service.submit(() -&gt; &#123; throw new RuntimeException("exception in call");&#125;);try &#123; future.get();&#125; catch (InterruptedException | ExecutionException e) &#123; e.printStackTrace();&#125; ä¸Šè¿°ä»£ç çš„è¿è¡Œç»“æžœå¦‚ä¸‹ï¼š æ€»ç»“ åœ¨Javaä¸­ï¼Œçº¿ç¨‹æ˜¯ä¸ªæ¯”è¾ƒæ˜‚è´µçš„å¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…æ˜¾å¼åœ°åˆ›å»ºçº¿ç¨‹ï¼Œå°½é‡ä½¿ç”¨çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹ã€‚ å…³äºŽçº¿ç¨‹æ± æˆ‘ä»¬æœ€éœ€è¦æŽŒæ¡çš„å°±æ˜¯çº¿ç¨‹æ± çš„å¤„ç†æµç¨‹å’Œé€šè¿‡ThreadPoolExecutoræž„é€ æ–¹æ³•è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œè™½ç„¶Executorsä¸ºæˆ‘ä»¬æä¾›äº†æž„é€ çº¿ç¨‹æ± çš„ä¾¿æ·æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ä»åº”è¯¥æ ¹æ®å…·ä½“æƒ…å†µè‡ªå®šä¹‰çº¿ç¨‹æ± ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7é…ç½®Tomcatè‡ªå¯åŠ¨]]></title>
    <url>%2F2019%2F10%2F30%2FCentOS7%E9%85%8D%E7%BD%AETomcat%E8%87%AA%E5%90%AF%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[å‡è®¾Tomcatå®‰è£…ç›®å½•ä¸ºusr/local/tomcat åœ¨å’Œtomcat/binç›®å½•å¹³çº§çš„åœ°æ–¹å¢žåŠ ä¸€ä¸ªtomcat.pidæ–‡ä»¶ã€‚ åœ¨tomcat/binç›®å½•ä¸‹ï¼Œå¢žåŠ setenv.shé…ç½®ï¼Œè¿™æ · catalina.shå¯åŠ¨çš„æ—¶å€™ä¼šè°ƒç”¨ï¼ŒåŒæ—¶é…ç½®Javaå†…å­˜å‚æ•°ã€‚ #add tomcat pid CATALINA_PID=&quot;$CATALINA_BASE/tomcat.pid&quot; #add java opts JAVA_OPTS=&quot;-server -XX:PermSize=256M -XX:MaxPermSize=1024m -Xms512M -Xmx1024M -XX:MaxNewSize=256m å¢žåŠ tomcat.service åœ¨ /usr/lib/systemd/system ç›®å½•ä¸‹å¢žåŠ tomcat.serviceæ–‡ä»¶ã€‚ [Unit]Description=TomcatAfter=syslog.target network.target remote-fs.target nss-lookup.target[Service]Type=forkingEnvironment=&quot;JAVA_HOME=/usr/local/jdk1.8.0_191&quot;PIDFile=/usr/local/tomcat/tomcat.pidExecStart=/usr/local/tomcat/bin/startup.shExecReload=/bin/kill -s HUP $MAINPIDExecStop=/bin/kill -s QUIT $MAINPIDPrivateTmp=true[Install]WantedBy=multi-user.target ä½¿ç”¨tomcat.service é…ç½®å¼€æœºå¯åŠ¨ systemctl enable tomcat å¯åŠ¨tomcat systemctl start tomcat åœæ­¢tomcat systemctl stop tomcat é‡å¯tomcat systemctl restart tomcat å› ä¸ºé…ç½®pidï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™ä¼šå†tomcatæ ¹ç›®å½•ç”Ÿæˆtomcat.pidæ–‡ä»¶ï¼Œåœæ­¢ä¹‹åŽåˆ é™¤ã€‚ åŒæ—¶tomcatåœ¨å¯åŠ¨æ—¶å€™ï¼Œæ‰§è¡Œstartä¸ä¼šå¯åŠ¨ä¸¤ä¸ªtomcatï¼Œä¿è¯å§‹ç»ˆåªæœ‰ä¸€ä¸ªtomcatæœåŠ¡åœ¨è¿è¡Œã€‚ å¤šä¸ªtomcatå¯ä»¥é…ç½®åœ¨å¤šä¸ªç›®å½•ä¸‹ï¼Œäº’ä¸å½±å“ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼â€”å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F2019%2F10%2F30%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[åœ¨ä¸Šæ¬¡çš„Androidé¡¹ç›®ä¸­ï¼Œæ•°æ®åº“å¯¹è±¡ä»¥åŠnettyè¿žæŽ¥çš„å¯¹è±¡éƒ½ä½¿ç”¨è¿‡å•ä¾‹æ¨¡å¼ï¼Œä½†æ˜¯å¯¹å•ä¾‹æ¨¡å¼ä¸€ç›´ä¹Ÿæ˜¯ä¸€çŸ¥åŠè§£ï¼Œå€Ÿç€åˆšåœ¨è½¯ä»¶å·¥ç¨‹å¯¼è®ºè¯¾ä¸Šè®²äº†å•ä¾‹æ¨¡å¼ï¼Œæ·±å…¥äº†è§£ä¸€ä¸‹ã€‚ å•ä¾‹æ¨¡å¼ï¼ˆsingleton patternï¼‰å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ Java ä¸­æœ€ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»åž‹çš„è®¾è®¡æ¨¡å¼å±žäºŽåˆ›å»ºåž‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚ è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰å•ä¸ªå¯¹è±¡è¢«åˆ›å»ºã€‚è¿™ä¸ªç±»æä¾›äº†ä¸€ç§è®¿é—®å…¶å”¯ä¸€çš„å¯¹è±¡çš„æ–¹å¼ï¼Œå¯ä»¥ç›´æŽ¥è®¿é—®ï¼Œä¸éœ€è¦å®žä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ã€‚ æ‰€ä»¥åœ¨å•ä¾‹æ¨¡å¼ä¸­ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ä¿è¯å…¶ä¸ä¼šè¢«å®žä¾‹åŒ–å¤šæ¬¡ï¼Œä¿è¯å…¶å”¯ä¸€æ€§ã€‚ å•ä¾‹æ¨¡å¼åœ¨Javaä¸­ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå®žçŽ°æ–¹å¼ï¼š æ‡’æ±‰å¼ï¼Œçº¿ç¨‹ä¸å®‰å…¨ é¥¿æ±‰å¼ï¼Œçº¿ç¨‹å®‰å…¨ åŒé‡æ ¡éªŒé”ï¼ˆDCLï¼‰ é™æ€å†…éƒ¨ç±» æžšä¸¾ æ‡’æ±‰å¼//æ‡’æ±‰å¼(çº¿ç¨‹ä¸å®‰å…¨)public class Singleton &#123; private static Singleton singleton; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; return singleton; &#125;&#125; æ­¤æ–¹å¼æ˜¯æ‡’åŠ è½½çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰å½“è°ƒç”¨getInstance()æ–¹æ³•ä¸”å½“å‰ç±»ä»Žæœªè¢«å®žä¾‹åŒ–è¿‡ï¼Œå½“å‰ç±»æ‰ä¼šè¢«å®žä¾‹åŒ–ï¼Œå¦å¤–ï¼Œæ­¤æ–¹æ³•ä¸é€‚ç”¨äºŽå¤šçº¿ç¨‹ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚ æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨æ–¹å¼ï¼‰//æ‡’æ±‰å¼(çº¿ç¨‹ä¸å®‰å…¨)public class Singleton &#123; private static Singleton singleton; private Singleton() &#123; &#125; public static synchronized Singleton getInstance() &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; return singleton; &#125;&#125; å°†getInstanceæ–¹æ³•æ”¹ä¸ºåŒæ­¥æ–¹æ³•å°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ï¼Œä½†æ˜¯ç”±äºŽåŒæ­¥ä»£ç çš„æ‰§è¡Œæ•ˆçŽ‡æ˜¯å¾ˆä½Žçš„ï¼Œæ‰€ä»¥ï¼Œæ­¤æ–¹æ³•ä¸æ˜¯å¾ˆæŽ¨èã€‚ é¥¿æ±‰å¼//é¥¿æ±‰å¼(çº¿ç¨‹å®‰å…¨)public class Singleton &#123; private static Singleton singleton = new Singleton(); private Singleton () &#123; &#125; public static Singleton getInstance() &#123; return singleton; &#125;&#125; æ­¤æ–¹æ³•åœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™å°±å®Œæˆäº†å®žä¾‹åŒ–ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„é—®é¢˜åªä¼šåœ¨é¦–æ¬¡å®žä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™æ‰ä¼šå‘ç”Ÿï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼å¹¶ä¸ä¼šäº§ç”Ÿçº¿ç¨‹ä¸å®‰å…¨çš„é—®é¢˜ã€‚ åŒé‡æ ¡éªŒé”(DCL) JDK1.5ä»¥åŽå¯ä»¥ä½¿ç”¨ //DCL(çº¿ç¨‹å®‰å…¨)public class Singleton &#123; private volatile static Singleton singleton; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125;&#125; æ­¤æ–¹æ³•æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š åŒé‡æ£€æŸ¥ï¼Œç›¸å¯¹äºŽæ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰æ–¹å¼ï¼ŒDCLæ–¹å¼åœ¨åŒæ­¥ä»£ç å—å¤–é¢åˆåŠ äº†ä¸€ä¸ªåˆ¤æ–­ï¼Œè¿™æ ·æ—¢ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œè€Œä¸”ä¿è¯äº†åªæœ‰åœ¨å•ä¾‹æœªè¢«å®žä¾‹åŒ–çš„æ—¶å€™synchronizedæ‰ä¼šç”Ÿæ•ˆï¼Œä¿è¯äº†æ•ˆçŽ‡ volatileå…³é”®å­—çš„ä½¿ç”¨ã€‚å¯ä»¥çœ‹åˆ°ä¸Šé¢åŸºæœ¬ä¸Šå°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨volatileå…³é”®å­—å‘¢ï¼Ÿåœ¨volatileå…³é”®å­—ä¸­ï¼Œä»‹ç»è¿‡volatileå…³é”®å­—å¯ä»¥ä¿è¯å˜é‡çš„æœ‰åºæ€§å’Œå¯è§æ€§ï¼Œåœ¨æ­¤å¤„ï¼Œä½¿ç”¨volatileå…³é”®å­—å°±æ˜¯ä¸ºäº†ä¿è¯æœ‰åºæ€§ã€‚ volatileå…³é”®å­—ä¿è¯æœ‰åºæ€§ ä»Šå¤©ä¸Šè½¯ä»¶å·¥ç¨‹å¯¼è®ºçš„æ—¶å€™ï¼Œè€å¸ˆè®²åˆ°äº†å•ä¾‹æ¨¡å¼ï¼Œå¹¶ä¸”ä¸¾åˆ°äº†DCLçš„ä¾‹å­ï¼Œä½†æ˜¯åªå­—ä¸ævolatileå…³é”®å­—â€¦â€¦ å¯¼è‡´å¯èƒ½ä¿è¯ä¸äº†æœ‰åºæ€§çš„æ“ä½œæ˜¯ä¸‹é¢çš„ä¸€ä¸ªè¯­å¥ï¼š singleton = new Singleton(); ä¸Šé¢çš„ä¸€å¥è¯å¹¶ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼Œå®ƒå¯ä»¥è¢«åˆ†è§£æˆä»¥ä¸‹å‡ ä¸ªè¯­å¥ï¼š memory = allocate(); //1ï¼šåˆ†é…å¯¹è±¡çš„å†…å­˜ç©ºé—´initInstance(memory); //2ï¼šåˆå§‹åŒ–å¯¹è±¡singleton = memory; //3ï¼šè®¾ç½®singletonæŒ‡å‘åˆšåˆ†é…çš„å†…å­˜åœ°å€ å¯ä»¥çœ‹å‡ºä¸Šé¢çš„ä¸‰ä¸ªæ“ä½œä¸­ï¼Œæ“ä½œ2æ˜¯ä¾èµ–äºŽæ“ä½œ1çš„ï¼Œè€Œæ“ä½œ3å¹¶ä¸ä¾èµ–äºŽæ“ä½œ2ï¼Œå› æ­¤ï¼ŒJVMå°±æœ‰å¯èƒ½å¯¹å…¶è¿›è¡Œé‡æŽ’åºæ“ä½œï¼Œé‡æŽ’åºä¹‹åŽï¼Œä¸Šé¢çš„æ“ä½œä¼šå˜æˆä¸‹é¢çš„æ ·å­ï¼š memory = allocate(); //1ï¼šåˆ†é…å¯¹è±¡çš„å†…å­˜ç©ºé—´singleton = memory; //3ï¼šè®¾ç½®singletonæŒ‡å‘åˆšåˆ†é…çš„å†…å­˜åœ°å€ï¼ˆæ­¤æ—¶çš„å¯¹è±¡è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼‰initInstance(memory); //2ï¼šåˆå§‹åŒ–å¯¹è±¡ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æžœåœ¨çº¿ç¨‹Aä¸­ç»è¿‡é‡æŽ’åºä¹‹åŽï¼Œæ“ä½œ3å’Œæ“ä½œ2å¯¹è°ƒäº†ï¼Œè¿™æ ·åœ¨åˆå§‹åŒ–å¯¹è±¡ä¹‹å‰ï¼Œinstanceé¦–å…ˆæŒ‡å‘äº†ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–çš„å†…å­˜ç©ºé—´ï¼Œå¦‚æžœè¿™æ—¶æœ‰å¦ä¸€ä¸ªçº¿ç¨‹Bè®¿é—®ï¼Œæ­¤æ—¶çš„singletonå·²ç»ä¸æ˜¯nulläº†ï¼Œä¼šè¿”å›žä¸€ä¸ªå•ä¾‹ï¼Œè¿™æ ·å°±æœ‰å¯èƒ½å¾—åˆ°â€åŠä¸ªâ€å•ä¾‹ï¼ˆæœªå®Œæˆåˆå§‹åŒ–ï¼‰ã€‚å¦‚ä¸‹è¡¨ï¼š çº¿ç¨‹A çº¿ç¨‹B åˆ†é…å¯¹è±¡çš„å†…å­˜ç©ºé—´ singleton æŒ‡å‘ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–çš„å†…å­˜ç©ºé—´ åˆ¤æ–­ singleton æ˜¯å¦ä¸ºnull ç”±äºŽsingletonä¸ä¸ºnullï¼Œè®¿é—®å¼•ç”¨å¯¹è±¡ åˆå§‹åŒ–å¯¹è±¡ è®¿é—®å¼•ç”¨å¯¹è±¡ åŠ ä¸Švolatileå…³é”®å­—å°±å¯ä»¥é˜²æ­¢JVMå¯¹å…¶è¿›è¡Œé‡æŽ’åºäº†ï¼Œå°±å¯ä»¥è§£å†³è¿™ç§éšæ‚£ã€‚ é™æ€å†…éƒ¨ç±»//é™æ€å†…éƒ¨ç±»public class Singleton &#123; private static class SingletonHolder &#123; public static Singleton instance = new Singleton(); &#125; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; return SingletonHolder.instance; &#125;&#125; å…³äºŽå†…éƒ¨ç±»å¯ä»¥çœ‹æ­¤åšå®¢Javaå†…éƒ¨ç±»ã€‚ é€šè¿‡é™æ€å†…éƒ¨ç±»å®žçŽ°ï¼Œæ—¢å¯ä»¥å®žçŽ°æ‡’æ±‰å¼çš„æ‡’åŠ è½½åˆå¯ä»¥å®žçŽ°é¥¿æ±‰å¼çš„çº¿ç¨‹å®‰å…¨ã€‚ æ­¤æ–¹æ³•åŒæ ·æ˜¯ä½¿ç”¨äº†ç±»åŠ è½½æœºåˆ¶ä¿è¯åˆå§‹åŒ–å•ä¾‹çš„åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯æ­¤æ–¹å¼åœ¨Singletonç±»è¢«åˆå§‹åŒ–ä¹‹åŽï¼Œinstanceå¹¶ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œåªæœ‰å½“æ˜¾å¼åœ°è°ƒç”¨getInstanceæ–¹æ³•ä¹‹åŽï¼Œæ‰ä¼šå®žä¾‹åŒ–instanceã€‚æ‰€ä»¥æ­¤æ–¹æ³•å¯ä»¥ä¿è¯æ‡’åŠ è½½ã€‚ æžšä¸¾ç±» JDK1.5ä»¥åŽå¯ä»¥ä½¿ç”¨ public enum Singleton &#123; INSTANCE; public void whateverMethod() &#123; &#125; &#125; è¿™ç§æ–¹å¼æ˜¯ Effective Java ä½œè€… Josh Bloch æå€¡çš„æ–¹å¼ï¼Œå®ƒä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜è‡ªåŠ¨æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œé˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®žä¾‹åŒ–ã€‚ è€Œä¸”ä¹Ÿä¸èƒ½é€šè¿‡åå°„æ¥è°ƒç”¨ç§æœ‰çš„æž„é€ æ–¹æ³•ã€‚ æ€»ç»“åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨é¥¿æ±‰å¼å°±å¯ä»¥äº†ï¼Œå¦‚æžœæ˜Žç¡®è¦æ±‚æ‡’åŠ è½½ï¼Œå¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»çš„æ–¹æ³•ï¼Œäº†è§£DCLå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£synchronizedå…³é”®å­—ä»¥åŠvolatileå…³é”®å­—çš„ä½œç”¨ï¼Œæœ€åŽä¸€ç§æžšä¸¾ç±»æ–¹å¼è™½ç„¶ç”¨çš„å°‘ï¼Œä½†æ˜¯è¿˜æ˜¯å¾ˆæŽ¨èä½¿ç”¨è¯¥æ–¹å¼ï¼ˆæ¯•ç«Ÿæ˜¯Effective Javaçš„ä½œè€…æŽ¨èçš„å†™æ³•ï¼Œå¬å¤§ç¥žè¯´çš„å°±å¯¹äº†ðŸ‘ï¼‰ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”volatileå…³é”®å­—]]></title>
    <url>%2F2019%2F10%2F29%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94volatile%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[Javaå¹¶å‘ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§åœ¨Javaå¹¶å‘ç¼–ç¨‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š1. åŽŸå­æ€§ 2. å¯è§æ€§ 3. æœ‰åºæ€§ã€‚ åŽŸå­æ€§ï¼ˆAtomicityï¼‰åŽŸå­æ€§æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯ä¸­æ–­çš„ï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¤±è´¥ï¼Œåœ¨æ•°æ®åº“çš„äº‹åŠ¡ä¸­ä¹Ÿæœ‰è¿™ä¸ªæ€§è´¨ã€‚ ä¾‹å¦‚ï¼Œa++ï¼Œå¯¹äºŽä¸€ä¸ªå…±äº«å˜é‡açš„æ“ä½œå®žé™…ä¸Šå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š1. è¯»å–å˜é‡açš„å€¼ï¼›2. å°†açš„å€¼+1ï¼›3. å°†å€¼é‡æ–°èµ‹å€¼ç»™aã€‚æ­¤æ“ä½œæ˜¯å¯åˆ†å‰²çš„ï¼Œæ‰€ä»¥è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œã€‚åƒè¿™æ ·çš„æ“ä½œï¼Œå¦‚æžœåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå°±æœ‰å¯èƒ½ä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨synchronizedæˆ–è€…Lockæ¥ä¿è¯ä»£ç çš„åŽŸå­æ€§ã€‚ å¯è§æ€§ï¼ˆVisibilityï¼‰å¯è§æ€§å°±æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå¯¹äºŽå¦å¤–ä¸€ä¸ªçº¿ç¨‹æ¥è¯´æ˜¯å¯è§çš„ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚ Javaå†…å­˜æ¨¡åž‹ä¸­ï¼Œçº¿ç¨‹é€šä¿¡æ˜¯é€šè¿‡å…±äº«å†…å­˜çš„æ–¹å¼è¿›è¡Œçš„ï¼Œä¸ºäº†åŠ å¿«çº¿ç¨‹é€šä¿¡çš„é€Ÿåº¦ï¼Œçº¿ç¨‹ä¸€èˆ¬æ˜¯ä¸ä¼šç›´æŽ¥æ“ä½œå†…å­˜çš„ï¼Œè€Œæ˜¯æ“ä½œå½“å‰çº¿ç¨‹å†…çš„ä¸€ä¸ªå‰¯æœ¬ã€‚è¿™æ ·ï¼Œå¦‚æžœçº¿ç¨‹å¯¹å˜é‡çš„æ“ä½œæ²¡æœ‰åˆ·æ–°å†…å­˜çš„è¯ï¼Œä»…ä»…æ”¹å˜äº†å½“å‰çº¿ç¨‹ä¸­çš„å‰¯æœ¬ï¼Œå¯¹äºŽå…¶ä»–çº¿ç¨‹æ¥è¯´ï¼Œå°±æ˜¯ä¸å¯è§çš„ã€‚ volatileå…³é”®å­—çš„ä½œç”¨å°±æ˜¯ä¿è¯äº†å˜é‡çš„å¯è§æ€§ï¼Œvolatileå˜é‡å¯ä»¥ä¿è¯å¯¹å®ƒçš„ä¿®æ”¹å¯ä»¥ç«‹å³è¢«åˆ·æ–°åˆ°ä¸»å­˜ï¼Œè€Œå½“å…¶ä»–çº¿ç¨‹éœ€è¦è¯»å–è¯¥å€¼çš„æ—¶å€™ï¼Œä¼šä»Žå†…å­˜ä¸­åŽ»è¯»å–æ–°çš„å€¼ã€‚ å¦å¤–ï¼ŒsynchronizedåŒæ ·å…·æœ‰å¯è§æ€§ï¼Œå½“çº¿ç¨‹èŽ·å–é”æ—¶ä¼šä»Žä¸»å†…å­˜ä¸­èŽ·å–å…±äº«å˜é‡çš„æœ€æ–°å€¼ï¼Œé‡Šæ”¾é”çš„æ—¶å€™ä¼šå°†å…±äº«å˜é‡åŒæ­¥åˆ°ä¸»å†…å­˜ä¸­ã€‚ æœ‰åºæ€§ï¼ˆOrderingï¼‰æŒ‡ç¨‹åºæ‰§è¡Œçš„é¡ºåºåº”è¯¥æŒ‰ç…§ä»£ç çš„å…ˆåŽé¡ºåºæ‰§è¡Œã€‚åœ¨Javaå†…å­˜æ¨¡åž‹ä¸­ï¼Œæ˜¯å…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æŽ’åºçš„ï¼Œä½†æ˜¯é‡æŽ’åºä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„è¿è¡Œï¼Œåœ¨å•çº¿ç¨‹ç¨‹åºä¸­ï¼ŒJVMé‡æŽ’åºçš„æ—¶å€™ä¼šä¿è¯ç¨‹åºçš„æœ€ç»ˆæ‰§è¡Œç»“æžœå’Œé¡ºåºæ‰§è¡Œä»£ç çš„ç»“æžœæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å¯¹äºŽå¤šçº¿ç¨‹ç¨‹åºæ¥è¯´ï¼Œè¿™å°±ä¸ä¸€å®šäº†ã€‚ ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š //Thread 0context = loadContext();inited = true;//Thread 1while (!inited) &#123; sleep;&#125;doSomethingwithconfig(context); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æžœThread0å‡ºçŽ°äº†é‡æŽ’åºï¼š inited = true;context = loadContext(); åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçº¿ç¨‹Bå°±æœ‰å¯èƒ½æ‹¿åˆ°ä¸€ä¸ªæœªåˆå§‹åŒ–çš„contentåŽ»æ‰§è¡Œå…¶ä»–æ–¹æ³•ï¼Œä»Žè€Œå¼•èµ·é”™è¯¯ã€‚ ä¸ºäº†é˜²æ­¢é‡æŽ’åºï¼Œéœ€è¦ä½¿ç”¨volatileå…³é”®å­—ï¼Œå®ƒå¯ä»¥ä¿è¯å¯¹å˜é‡çš„æ“ä½œæ˜¯ä¸ä¼šè¢«é‡æŽ’åºçš„ã€‚ å†…å¿ƒOSï¼šè¦æ˜¯çœŸå‡ºäº†è¿™æ ·çš„BUGï¼Œä¸æ¸…æ¥šæœ‰åºæ€§è¿˜çœŸä¸çŸ¥é“å’‹æ”¹â€¦ volatileä¿è¯å¯è§æ€§public class VolatileDemo &#123; private static boolean isThreadRunning = true; public static void main(String[] args) throws InterruptedException &#123; Thread thread0 = new Thread(() -&gt; &#123; System.out.println("Thread0å¼€å§‹"); while (isThreadRunning) &#123; &#125; System.out.println("Thread0ç»“æŸ"); &#125;); Thread thread1 = new Thread(() -&gt; &#123; System.out.println("isThreadRunningè¢«ä¿®æ”¹..."); isThreadRunning = false; &#125;); thread0.start(); Thread.sleep(2000); thread1.start(); &#125;&#125; è¿è¡Œç»“æžœï¼š å¯ä»¥çœ‹åˆ°ï¼Œç¨‹åºé™·å…¥äº†æ­»å¾ªçŽ¯ï¼Œè™½ç„¶isThreadRunningçš„å€¼è¢«Thread1ä¿®æ”¹äº†ï¼Œç„¶è€ŒThread0å¹¶æ²¡æœ‰æŽ¥æ”¶åˆ°ä¿®æ”¹çš„å€¼ï¼Œè¿™å°±æ˜¯å› ä¸ºå˜é‡å€¼æ²¡æœ‰è¢«å†™åˆ°ä¸»å­˜ï¼Œå¯¼è‡´æœ¬åœ°å†…å­˜ä¸­çš„å€¼ä¸€ç›´ä¸ºtrueã€‚ è§£å†³æ–¹æ³•å°±æ˜¯ä¸ºisThreadRunningå˜é‡åŠ ä¸Švolatileå…³é”®å­—ã€‚ private volatile static boolean isThreadRunning = true; å†æ¬¡è¿è¡Œç¨‹åºï¼ŒçŽ°åœ¨å°±ä¸ä¼šå¯¼è‡´æ­»å¾ªçŽ¯äº†ã€‚ volatileä¸ŽåŽŸå­æ€§volitileå…³é”®å­—æ˜¯ä¸èƒ½ä¿è¯åŽŸå­æ€§çš„ï¼Œçœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼š public class VolatileDemo &#123; private static volatile int count = 0; public static void main(String[] args) throws InterruptedException &#123; for (int i = 0; i &lt; 10; i++) &#123; new Thread(() -&gt; &#123; for (int j = 0; j &lt; 1000; j++) &#123; count++; System.out.println(count); &#125; &#125;).start(); &#125; &#125;&#125; ä»Žä¸‹é¢çš„è¾“å‡ºç»“æžœå¯ä»¥çœ‹å‡ºæ•°æ®äº§ç”Ÿäº†å¼‚å¸¸ã€‚ å¦‚æžœå°†count++æ“ä½œæ”¹ä¸ºsychronizedæ“ä½œå°±å¯ä»¥ä¿è¯è¾“å‡ºç»“æžœçš„æ­£ç¡®äº†ã€‚ synchronized (lock) &#123; count++;&#125; æ€»ç»“ volitileå…³é”®å­—æ˜¯synchrnizedçš„è½»é‡çº§å®žçŽ°ï¼Œvolitileæ€§èƒ½ä¼˜äºŽsynchrnizedã€‚ volitileå¯ä»¥ä¿è¯æ•°æ®çš„å¯è§æ€§å’Œæœ‰åºæ€§ï¼Œè€Œsynchroizedå’ŒLockä¸‰ç§ç‰¹æ€§éƒ½å¯ä»¥ä¿è¯ã€‚ti]]></content>
      <categories>
        <category>Java</category>
        <category>å¹¶å‘ç¼–ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”çº¿ç¨‹é€šè®¯çš„æ–¹å¼]]></title>
    <url>%2F2019%2F10%2F28%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94%E7%BA%BF%E7%A8%8B%E9%80%9A%E8%AE%AF%E7%9A%84%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[çº¿ç¨‹é€šè®¯çº¿ç¨‹é€šè®¯çš„ç›®çš„æ˜¯ä½¿çº¿ç¨‹ä¹‹é—´èƒ½å¤Ÿäº’ç›¸å‘é€ä¿¡å·ã€‚ å¦ä¸€æ–¹é¢ï¼Œçº¿ç¨‹é€šä¿¡ä½¿çº¿ç¨‹èƒ½å¤Ÿç­‰å¾…å…¶ä»–çº¿ç¨‹çš„ä¿¡å·ã€‚ çº¿ç¨‹é€šè®¯çš„æ–¹å¼ï¼š wait()/notify()æœºåˆ¶ Conditionç±» ThreadLocalæ–¹å¼ ç®¡é“æ–¹å¼ wait()/notify()æœºåˆ¶waitå’Œnotifyè¿˜æœ‰notifyAllæ–¹æ³•æ˜¯Objectç±»çš„ä¸‰ä¸ªæ–¹æ³•ã€‚ è°ƒç”¨waitæ–¹æ³•ï¼Œç›¸å½“äºŽè®©å½“å‰çº¿ç¨‹é‡Šæ”¾é”ï¼Œç„¶åŽè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚ notify()æ–¹æ³•ä¸»è¦çš„ä½œç”¨å°±æ˜¯æ­¤æ–¹æ³•å¯ä»¥å”¤é†’ä¸€ä¸ªæ­£åœ¨ç­‰å¾…æ­¤å¯¹è±¡çš„é”é‡Šæ”¾çš„çº¿ç¨‹ï¼Œå¦‚æžœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ­¤å¯¹è±¡ä¸Šç­‰å¾…ï¼Œåˆ™ä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå”¤é†’ã€‚è€ŒnotifyAll()æ–¹æ³•çš„ä½œç”¨å°±æ˜¯å°†æ‰€æœ‰ç­‰å¾…æ­¤å¯¹è±¡çš„é”çš„çº¿ç¨‹éƒ½å”¤é†’ã€‚ åœ¨waitæ–¹æ³•ä¸­æœ‰è¿™æ ·çš„ä¸€å¥è¯The current thread must own this object&#39;s monitor.ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨waitæ–¹æ³•çš„å‰ææ˜¯è¯¥çº¿ç¨‹å¿…é¡»æ‹¥æœ‰è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œå› æ­¤è°ƒç”¨waitæ–¹æ³•æ—¶å¿…é¡»å­˜åœ¨synchronizedæ–¹æ³•æˆ–è€…synchronizedä»£ç å—ï¼Œå¦‚æžœå½“å‰çº¿ç¨‹æ²¡æœ‰æ‹¥æœ‰é”çš„å¯¹è±¡ï¼Œå°±ä¼šæŠ›å‡ºIllegalMonitorStateExceptionã€‚ ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡åž‹ public class Tester &#123; Object lock = new Object(); int count = 0; public static void main(String[] args) throws Exception &#123; Tester tester = new Tester(); Thread thread = new Thread(tester.new Producer("producer 0")); Thread thread0 = new Thread(tester.new Producer("producer 1")); Thread thread1 = new Thread(tester.new Consumer("consumer 0")); thread.start(); thread0.start(); thread1.start(); &#125; class Producer implements Runnable &#123; private String name; public Producer (String name) &#123; this.name = name; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 10; i++) &#123; try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; synchronized (lock) &#123; while (count == 5) &#123; try &#123; lock.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(name + " produced.."); count++; System.out.println("Current buffer size:" + count); lock.notifyAll(); &#125; &#125; &#125; &#125; class Consumer implements Runnable &#123; private String name; public Consumer(String name) &#123; this.name = name; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 10; i++) &#123; try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; synchronized (lock) &#123; while (count == 0) &#123; try &#123; lock.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(name + " consumed.."); count--; System.out.println("Current buffer size:" + count); lock.notifyAll(); &#125; &#125; &#125; &#125;&#125; ä¸Šé¢å°±æ˜¯ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡åž‹çš„ä¾‹å­ï¼Œå½“ç¼“å†²åŒºæ»¡äº†çš„æ—¶å€™ç”Ÿäº§è€…ä¼šåœæ­¢ç”Ÿäº§ï¼Œè¿™æ—¶ï¼Œå¦‚æžœæ¶ˆè´¹è€…æ¶ˆè´¹äº†ä¸€ä¸ªäº§å“ï¼Œç”Ÿäº§è€…å°±ä¼šè¢«å”¤é†’ï¼›å½“ç¼“å†²åŒºä¸ºç©ºçš„æ—¶å€™æ¶ˆè´¹è€…ä¼šåœæ­¢æ¶ˆè´¹ï¼Œè¿™æ—¶ï¼Œå¦‚æžœç”Ÿäº§è€…äº†ä¸€ä¸ªäº§å“ï¼Œæ¶ˆè´¹è€…å°±ä¼šè¢«å”¤é†’ã€‚ ConditionConditionæ˜¯å¯ä»¥ç”¨æ¥ä»£æ›¿ä¼ ç»Ÿçš„wait/notifyæ–¹å¼ï¼Œæ­¤æ–¹å¼æ›´åŠ å®‰å…¨å’Œé«˜æ•ˆï¼Œæ¯”è¾ƒæŽ¨èä½¿ç”¨è¯¥æ–¹æ³•ã€‚ Conditionæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œå…¶åŸºæœ¬æ–¹æ³•æœ‰await()ã€signal()ä»¥åŠsignalAll()ï¼Œåˆ†åˆ«å¯¹åº”Objectç±»çš„wait()ã€notify()ã€notifyAll()ã€‚ æœ‰å…³æ–¹æ³•å¿…é¡»åœ¨lockå’Œunlockä¹‹é—´ä½¿ç”¨ã€‚ ä¸‹é¢æ˜¯Conditionç±»å®žçŽ°ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„ä¾‹å­ï¼š public class Tester &#123; Lock lock = new ReentrantLock(); //å¯é‡å…¥é”ï¼Œå¹¶å‘åŒ…ä¼šè®²åˆ° Condition condition = lock.newCondition(); int count = 0; public static void main(String[] args) throws Exception &#123; Tester tester = new Tester(); Thread thread = new Thread(tester.new Producer("producer 0")); Thread thread0 = new Thread(tester.new Producer("producer 1")); Thread thread1 = new Thread(tester.new Consumer("consumer 0")); thread.start(); thread0.start(); thread1.start(); &#125; class Producer implements Runnable &#123; private String name; public Producer(String name) &#123; this.name = name; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 10; i++) &#123; try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; lock.lock(); while (count == 5) &#123; try &#123; condition.await(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(name + " produced.."); count++; System.out.println("Current buffer size:" + count); condition.signalAll(); lock.unlock(); &#125; &#125; &#125; class Consumer implements Runnable &#123; private String name; public Consumer(String name) &#123; this.name = name; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 10; i++) &#123; try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; lock.lock(); while (count == 0) &#123; try &#123; condition.await(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(name + " consumed.."); count--; System.out.println("Current buffer size:" + count); condition.signalAll(); lock.unlock(); &#125; &#125; &#125;&#125; ç®¡é“æ–¹å¼ä¹‹å‰åœ¨æ“ä½œç³»ç»Ÿè¿™é—¨è¯¾ä¸­ä¹ŸæŽ¥è§¦åˆ°è¿‡è¿™ç§æ–¹å¼åªä¸è¿‡æ˜¯Cç‰ˆæœ¬çš„ï¼ŒçŽ°åœ¨ä¹Ÿå½“å†æ¬¡é‡æ¸©ä¸€ä¸‹ã€‚æ­¤æ–¹å¼æ˜¯åˆ©ç”¨ç®¡é“æµåœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´ç›´æŽ¥ä¼ è¾“æ•°æ®ï¼Œä¸€ä¸ªçº¿ç¨‹å‘ç®¡é“ä¸­å†™å…¥æ•°æ®ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä»Žç®¡é“ä¸­è¯»æ•°æ®ã€‚ public class PipedStreamDemo &#123; public static void main(String[] args) throws IOException &#123; PipedOutputStream outputStream = new PipedOutputStream(); PipedInputStream inputStream = new PipedInputStream(); outputStream.connect(inputStream); ThreadWrite threadWrite = new ThreadWrite(outputStream); ThreadRead threadRead = new ThreadRead(inputStream); Thread thread = new Thread(threadRead); Thread thread1 = new Thread(threadWrite); thread.start(); thread1.start(); &#125;&#125;class ThreadWrite implements Runnable&#123; PipedOutputStream pipedOutputStream; public ThreadWrite(PipedOutputStream pipedOutputStream) &#123; this.pipedOutputStream = pipedOutputStream; &#125; public void write(PipedOutputStream pipedOutputStream) throws IOException &#123; System.out.println("write:"); for (int i = 0; i &lt; 100; i++) &#123; String data = "" + i; pipedOutputStream.write(data.getBytes()); System.out.println(data); &#125; pipedOutputStream.close(); &#125; @Override public void run() &#123; try &#123; this.write(pipedOutputStream); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125;class ThreadRead implements Runnable&#123; PipedInputStream pipedInputStream; public ThreadRead(PipedInputStream pipedInputStream) &#123; this.pipedInputStream = pipedInputStream; &#125; public void read(PipedInputStream pipedInputStream) throws IOException &#123; System.out.println("read:"); byte[] bytes = new byte[1024]; int readLength = pipedInputStream.read(bytes); while (readLength != -1) &#123; String newData = new String(bytes, 0, readLength); System.out.print(newData); readLength = pipedInputStream.read(bytes); &#125; System.out.println(); pipedInputStream.close(); &#125; @Override public void run() &#123; try &#123; this.read(this.pipedInputStream); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
        <category>å¹¶å‘ç¼–ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WebServiceæŽ¥å£å¼€å‘]]></title>
    <url>%2F2019%2F10%2F26%2FWebService%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æœ‰ä¸€ä¸ªé¡¹ç›®å¯èƒ½éœ€è¦ç”¨åˆ°WebServiceæŠ€æœ¯ï¼Œæå‰å­¦ä¹ ä¸€ä¸‹ã€‚ WebService WebServiceæ˜¯ä¸€ç§è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œç³»ç»Ÿå¹³å°çš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯ã€‚ ç›¸å…³æ¦‚å¿µXML,SOAPå’ŒWSDLå°±æ˜¯æž„æˆWebServiceå¹³å°çš„ä¸‰å¤§æŠ€æœ¯ã€‚ XMLï¼šæ‰©å±•æ€§æ ‡è®°è¯­è¨€ ï¼ˆExtensible Markup Languageï¼‰ ç”¨äºŽä¼ è¾“æ ¼å¼åŒ–çš„æ•°æ®ï¼Œæ˜¯WebæœåŠ¡çš„åŸºç¡€ã€‚ SOAPï¼šç®€å•å¯¹è±¡è®¿é—®åè®®ï¼ˆSimple Object Access Protocolï¼ŒSOAPï¼‰SOAP æ˜¯åŸºäºŽ XML çš„ç®€æ˜“åè®®ï¼Œå¯ä½¿åº”ç”¨ç¨‹åºåœ¨ HTTP ä¹‹ä¸Šè¿›è¡Œä¿¡æ¯äº¤æ¢ã€‚ SOAPåè®® = httpåè®® + XMLæ•°æ®æ ¼å¼ XML Schema(XSD)å°±æ˜¯ä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€å¥—æ ‡å‡†ã€‚å®ƒå®šä¹‰äº†ä¸€å¥—æ ‡å‡†çš„æ•°æ®ç±»åž‹ï¼Œå¹¶ç»™å‡ºäº†ä¸€ç§è¯­è¨€æ¥æ‰©å±•è¿™å¥—æ•°æ®ç±»åž‹ã€‚WebServiceå¹³å°å°±æ˜¯ç”¨XSDæ¥ä½œä¸ºå…¶æ•°æ®ç±»åž‹ç³»ç»Ÿçš„ã€‚å½“ä½ ç”¨æŸç§è¯­è¨€(å¦‚VB.NETæˆ–C#)æ¥æž„é€ ä¸€ä¸ªWeb serviceæ—¶ï¼Œä¸ºäº†ç¬¦åˆWebServiceæ ‡å‡†ï¼Œæ‰€æœ‰ä½ ä½¿ç”¨çš„æ•°æ®ç±»åž‹éƒ½å¿…é¡»è¢«è½¬æ¢ä¸ºXSDç±»åž‹ã€‚ä½ ç”¨çš„å·¥å…·å¯èƒ½å·²ç»è‡ªåŠ¨å¸®ä½ å®Œæˆäº†è¿™ä¸ªè½¬æ¢ï¼Œä½†ä½ å¾ˆå¯èƒ½ä¼šæ ¹æ®ä½ çš„éœ€è¦ä¿®æ”¹ä¸€ä¸‹è½¬æ¢è¿‡ç¨‹ã€‚ WSDLï¼šï¼ˆç½‘ç»œæœåŠ¡æè¿°è¯­è¨€ï¼ŒWeb Services Description Languageï¼‰WSDLæ˜¯ä¸€é—¨åŸºäºŽ XML çš„è¯­è¨€ï¼Œç”¨äºŽæè¿° Web Services ä»¥åŠå¦‚ä½•å¯¹å®ƒä»¬è¿›è¡Œè®¿é—®ã€‚ åœ¨ideaä¸­æ–°å»ºWebServicesé¡¹ç›®ç¼–å†™æœåŠ¡ç«¯ åˆ›å»ºæ–°é¡¹ç›®ï¼Œé€‰æ‹©WebServicesï¼ŒVersioné€‰æ‹©Axisã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œä¸ºäº†å±•ç¤ºå¦‚ä½•å°†ä¸€ä¸ªæ–°å»ºçš„ç±»æ·»åŠ è¿›æ¥ã€‚ public class Test &#123; public String sayHelloWorldFrom(String from) &#123; String result = "Hello, world, from " + from; System.out.println(result); return result; &#125;&#125; æ‰“å¼€web-&gt;WEB-INF-&gt;server-config.wsddæ–‡ä»¶ï¼Œå¤åˆ¶ç²˜è´´ä¸€ä»½ä¸‹é¢çš„ä»£ç ï¼Œå°†ä¸‹é¢ä¸¤ä¸ªéƒ¨åˆ†çš„ä»£ç æ›´æ¢ä¸ºæ–°å»ºçš„Testç±»åç§°ã€‚ è¿™æ—¶ï¼Œè¿”å›žTestç±»å¯ä»¥å‘çŽ°Testç±»æ—è¾¹å¤šäº†ä¸¤ä¸ªðŸŒçš„æ ‡å¿—ï¼Œè¿™æ ·å°±é…ç½®æˆåŠŸäº†ã€‚ ç”Ÿæˆwsdlæ–‡ä»¶ï¼Œæ–°ç‰ˆideaéœ€è¦å…ˆä¸‹è½½WebServiceæ’ä»¶ï¼Œä¹‹åŽTools-&gt;WebServices-&gt;Generate Wsdl Java Codeâ€¦ è¿™é‡Œéœ€è¦å…ˆç¼–è¯‘ä¸€ä¸‹ï¼Œå¦åˆ™æŠ¥ClassNotFoundExceptionï¼Œè¯´æ˜Žåˆšåˆšæ–°å»ºçš„ç±»æ²¡æœ‰ç”Ÿæˆ.classæ–‡ä»¶ã€‚ é…ç½®Tomcatï¼ˆçœç•¥ï¼‰ã€‚ é…ç½®Atifactsï¼Œä¸€å¼€å§‹ä¼šæŠ¥ç¼ºå°‘ä¾èµ–çš„é”™ï¼ŒFixä¸€ä¸‹å°±å¥½ã€‚ è¿è¡Œä¹‹åŽï¼Œé»˜è®¤è·³è½¬åˆ°äº†ä¸‹é¢çš„é¡µé¢ï¼Œåªéœ€è¦åœ¨URLæœ€åŽåŠ ä¸Šserviceså°±å¯ä»¥ã€‚ å•å‡»ä¸Šé¢æŸä¸ªwsdlå°±å¯ä»¥è·³è½¬åˆ°ä¸‹é¢çš„é¡µé¢ã€‚ ç¼–å†™å®¢æˆ·ç«¯ æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©WebService Clientï¼ŒVersioné€‰æ‹©Apache Axisã€‚ å¯¼å…¥wsdlæ–‡ä»¶ï¼Œé€‰æ‹©wsdlå­˜æ”¾çš„ä½ç½®ï¼Œç”Ÿæˆä»£ç ã€‚ ä¿®æ”¹è‡ªåŠ¨ç”Ÿäº§çš„æµ‹è¯•ç±»ä»£ç ã€‚ package example;import test.TestServiceLocator;public class HelloWorldClient &#123; public static void main(String[] argv) &#123; try &#123; TestServiceLocator locator = new TestServiceLocator(); System.out.println(locator.getTest().sayHelloWorldFrom("ergo")); &#125; catch (javax.xml.rpc.ServiceException ex) &#123; ex.printStackTrace(); &#125; catch (java.rmi.RemoteException ex) &#123; ex.printStackTrace(); &#125; &#125;&#125; åœ¨æŽ§åˆ¶å°å¯ä»¥çœ‹åˆ°è¾“å‡ºçš„ç»“æžœã€‚ Javaè°ƒç”¨WebServicæŽ¥å£çš„æ–¹å¼è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ã€‚ WebServiceã€RESTã€RESTfulï¼Ÿé¦–å…ˆç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªåè¯ï¼ŒWebServiceï¼ŒåŸºäºŽSOAPåè®®çš„æœåŠ¡ï¼Œä¸Šé¢å·²ç»ä»‹ç»äº†ï¼› RESTï¼šä¸€ç§è½¯ä»¶æž¶æž„é£Žæ ¼ï¼Œä¸€ç§é¢å‘èµ„æºçš„æž¶æž„ï¼Œå…¶æ ¸å¿ƒæ“ä½œåªæœ‰ GET,PUT,POST,DELETEã€‚ RESTfulï¼š éµå®ˆäº†resté£Žæ ¼çš„webæœåŠ¡ ï¼Œæ˜¯ä¸€ä¸ªå½¢å®¹è¯ã€‚ RESTfulè¯¦è§£ SOAP WebServiceå’ŒRestFul çš„åŒºåˆ«]]></content>
      <categories>
        <category>Webå¼€å‘</category>
      </categories>
      <tags>
        <tag>WebService</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”synchronizedå…³é”®å­—]]></title>
    <url>%2F2019%2F10%2F22%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94synchonized%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[çº¿ç¨‹å®‰å…¨ä¸Žå…±äº«èµ„æºåœ¨ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‹ä¹¦ä¸­å¯¹çº¿ç¨‹å®‰å…¨ç»™å‡ºäº†ä¸‹é¢çš„å®šä¹‰ï¼š å½“å¤šä¸ªçº¿ç¨‹è®¿é—®æŸä¸ªç±»æ—¶ï¼Œè¿™ä¸ªç±»å§‹ç»ˆéƒ½èƒ½è¡¨çŽ°å¤„æ­£ç¡®çš„è¡Œä¸º ä¸‹é¢ä»‹ç»ä¸€ä¸‹å„ç§å˜é‡çš„çº¿ç¨‹å®‰å…¨æ€§ã€‚ åŸºç¡€ç±»åž‹å±€éƒ¨å˜é‡ åŸºç¡€ç±»åž‹çš„å±€éƒ¨å˜é‡å‚¨å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå±€éƒ¨å˜é‡æ°¸è¿œä¸ä¼šè¢«å¤šä¸ªçº¿ç¨‹å…±äº«ã€‚æ‰€ä»¥è¯´æ‰€æœ‰çš„åŸºç¡€ç±»åž‹çš„å±€éƒ¨å˜é‡éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ å¼•ç”¨ç±»åž‹å±€éƒ¨å˜é‡ ç”±äºŽå¼•ç”¨ç±»åž‹å˜é‡çš„å±žæ€§éƒ½å‚¨å­˜åœ¨å †ä¸­ï¼Œä½†æ˜¯åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯èŽ·å–ä¸åˆ°è¯¥å¯¹è±¡çš„ï¼Œåªè¦è¯¥å¯¹è±¡ä¸èƒ½å¤Ÿè¢«å…¶ä»–æ–¹æ³•èŽ·å–åˆ°ï¼Œé‚£ä¹ˆä»–å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ æˆå‘˜å˜é‡ ç”±äºŽä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜æ˜¯å‚¨å­˜åœ¨å †å†…å­˜ä¸Šçš„ï¼Œå¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ›´æ–°åŒä¸€ä¸ªå¯¹è±¡çš„åŒä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µå°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼Œåªæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ªèµ„æºè€Œä¸”å¤šä¸ªçº¿ç¨‹éƒ½å¯¹æ­¤èµ„æºè¿›è¡Œäº†äº›å†™æ“ä½œï¼Œæ‰ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹åŒä¸€ä¸ªèµ„æºè¿›è¡Œè¯»æ“ä½œæ—¶ä¸ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ã€‚ JavaåŒæ­¥å—JavaåŒæ­¥å—ï¼ˆsynchronized blockï¼‰ç”¨æ¥å¯ä»¥å®žçŽ°åŒæ­¥ï¼Œå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥æœ‰æ•ˆåœ°é¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å‡ºçŽ°ã€‚ synchronizedå…³é”®å­—ä¸‰ç§ä½¿ç”¨æ–¹å¼ ä¿®é¥°å®žä¾‹æ–¹æ³•ï¼Œä¸ºå½“å‰å®žä¾‹åŠ é”ï¼Œéœ€è¦æ‹¿åˆ°å½“å‰å®žä¾‹çš„é”ã€‚ ä¿®é¥°é™æ€æ–¹æ³•ï¼Œä¸ºå½“å‰ç±»å¯¹è±¡åŠ é”ï¼Œéœ€è¦èŽ·å¾—å½“å‰ç±»å¯¹è±¡çš„é”ã€‚ ä¿®é¥°ä»£ç å—ï¼ŒæŒ‡å®šåŠ é”å¯¹è±¡ã€‚ ä¿®é¥°å®žä¾‹æ–¹æ³•çœ‹ä¸€ä¸ªä¾‹å­ï¼š public class Tester &#123; public static void main(String[] args) throws Exception &#123; Example example = new Example(); MyThread myThread = new MyThread(example); MyThread myThread1 = new MyThread(example); myThread.start(); myThread1.start(); &#125;&#125;class Example &#123; public synchronized void execute() throws InterruptedException &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.println(i); Thread.sleep(2000); &#125; &#125;&#125;class MyThread extends Thread &#123; private Example example; MyThread(Example example) &#123; this.example = example; &#125; @Override public void run() &#123; try &#123; example.execute(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸ºexecuteæ–¹æ³•åŠ ä¸Šsynchronizedå…³é”®å­—ä¹‹åŽï¼Œç¨‹åºä¼šå…ˆè¾“å‡º09ï¼Œä¹‹åŽå†è¾“å‡ºä¸€æ¬¡09ï¼›å¦‚æžœåŽ»æŽ‰synchronizedå…³é”®å­—ä¹‹åŽï¼Œä¸¤ä¸ªçº¿ç¨‹ä¼šåŒæ—¶ä¼šæ‰§è¡Œexecuteæ–¹æ³•ã€‚ è¿™è¯´æ˜Žï¼Œå¦‚æžœä¸€ä¸ªæ–¹æ³•åŠ ä¸Šäº†synchronizedå…³é”®å­—ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å°±æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œå¦‚æžœä¸€ä¸ªå¯¹è±¡æœ‰synchronizedæ–¹æ³•ï¼ŒæŸä¸€æ—¶åˆ»æŸä¸ªçº¿ç¨‹å·²ç»è¿›å…¥åˆ°äº†synchronizedæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è¯¥æ–¹æ³•æ²¡æœ‰æ‰§è¡Œå®Œæ¯•å‰ï¼Œå…¶ä»–çº¿ç¨‹æ˜¯æ— æ³•è®¿é—®è¯¥å¯¹è±¡çš„ä»»ä½•synchronizedæ–¹æ³•çš„ã€‚ çŽ°åœ¨å°†æ¯ä¸ªMyThreadæž„é€ æ–¹æ³•çš„å‚æ•°æ”¹ä¸ºä¸¤ä¸ªå¯¹è±¡ï¼Œå†æ¬¡è¿è¡Œï¼Œæ­¤æ—¶å³ä½¿åŠ ä¸Šäº†synchronizedå…³é”®å­—ï¼Œexecuteæ–¹æ³•ä»ç„¶æ˜¯åŒæ—¶æ‰§è¡Œçš„ã€‚è¿™æ˜¯å› ä¸ºJavaä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªmonitorï¼Œå½“ä¸€ä¸ªçº¿ç¨‹åŽ»è®¿é—®æŸä¸ªå¯¹è±¡çš„synchronizedæ–¹æ³•æ—¶ï¼Œä¼šå°†è¯¥å¯¹è±¡ä¸Šé”ï¼Œè¿™æ—¶ï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½æ— æ³•åŽ»è®¿é—®è¯¥å¯¹è±¡çš„åŒæ­¥æ–¹æ³•äº†ï¼Œç›´åˆ°æ­¤æ–¹æ³•æ‰§è¡Œå®Œæ¯•æˆ–è€…æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¯¹è±¡å°±ä¼šæŠŠé”é‡Šæ”¾ï¼Œè¿™æ—¶å…¶ä»–çš„çº¿ç¨‹æ‰å¯ä»¥è®¿é—®è¯¥æ–¹æ³•ã€‚ MyThread myThread = new MyThread(new Example());MyThread myThread1 = new MyThread(new Example());myThread.start();myThread1.start(); ä¿®é¥°é™æ€æ–¹æ³•å½“synchronizedä½œç”¨äºŽé™æ€æ–¹æ³•æ—¶ï¼Œç”±äºŽé™æ€æ–¹æ³•å¹¶ä¸æ˜¯å±žäºŽå¯¹è±¡ï¼Œè€Œæ˜¯å±žäºŽç±»ï¼Œå…¶é”æ˜¯å½“å‰ç±»çš„Classå¯¹è±¡é”ï¼Œè€Œè®¿é—®éžé™æ€çš„synchronizedæ–¹æ³•æ—¶ï¼Œæ˜¯ä½¿ç”¨çš„å½“å‰å®žä¾‹çš„å¯¹è±¡é”ã€‚ çœ‹ä¸€ä¸ªä¾‹å­ï¼š public class Tester &#123; public static void main(String[] args) throws Exception &#123; MyThread myThread = new MyThread(new Example()); MyThread myThread1 = new MyThread(new Example()); myThread.start(); myThread1.start(); synchronized (Tester.class) &#123; &#125; &#125;&#125;class Example &#123; public synchronized static void execute() throws InterruptedException &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.println("exe" + i); Thread.sleep(2000); &#125; &#125;&#125;class MyThread extends Thread &#123; private Example example; MyThread(Example example) &#123; this.example = example; &#125; @Override public void run() &#123; try &#123; Example.execute(); &#125; catch (InterruptedException e) &#123; e.printSzaitackTrace(); &#125; &#125;&#125; åœ¨synchronizedä¿®é¥°éžé™æ€æ–¹æ³•æ—¶ï¼Œå¦‚æžœå¯¹äºŽä¸åŒçš„å®žä¾‹å¯¹è±¡æ¥è¯´ï¼Œæ‹¿åˆ°çš„é”ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯å¯¹äºŽstaticæ–¹æ³•æ¥è¯´ï¼Œå³ä½¿å¯¹ä¸åŒçš„å®žä¾‹æ“ä½œï¼Œä¹Ÿæ˜¯æ‹¿åˆ°çš„ä¸€ä¸ªClasså¯¹è±¡é”ï¼Œæ‰€ä»¥å¯¹äºŽä¸Šé¢çš„ä»£ç ä¸­ï¼Œå³ä½¿æœ‰ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹ä¼ å…¥äº†ä¸¤ä¸ªä¸åŒçš„Exampleå¯¹è±¡ï¼Œä½†æ˜¯ä¸¤ä¸ªçº¿ç¨‹ä¾ç„¶ä¼šäº’ç›¸åˆ¶çº¦ï¼Œå¿…é¡»å…ˆæ‰§è¡Œå®Œä¸€ä¸ªå†æ‰§è¡Œå¦å¤–ä¸€ä¸ªã€‚ ä¿®é¥°ä»£ç å—synchronizedä»£ç å—å†™æ³•ï¼š synchronized (object) &#123; &#125; è¡¨ç¤ºå†æŸä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šå°†objectå¯¹è±¡ä¸Šé”ï¼ˆè¯¥å¯¹è±¡å¯ä»¥ä»»æ„æŒ‡å®šï¼‰ã€‚ åœ¨ç¬¬ä¸€ç§ä¿®é¥°å®žä¾‹æ–¹æ³•ç»™å‡ºçš„ä»£ç ä¸­ï¼Œå°†synchronizedæ–¹æ³•ä¿®æ”¹ä¸ºsynchronizedä»£ç å—ã€‚ public void execute() throws InterruptedException &#123; synchronized (this) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.println("exe" + i); Thread.sleep(2000); &#125; &#125;&#125; ä¸Šé¢ä¼ å…¥çš„å¯¹è±¡æ˜¯Exampleå¯¹è±¡æœ¬èº«ï¼Œè¿™æ—¶ï¼Œè¯¥é”èµ·åˆ°çš„ä½œç”¨å’Œsynchronizedå®žä¾‹æ–¹æ³•çš„ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚å¦‚æžœæ”¹ä¸ºsynchronized(new Object())ï¼Œè¿™æ—¶ç”±äºŽé”æ˜¯é’ˆå¯¹Objectå¯¹è±¡çš„ä¸€ä¸ªå®žä¾‹çš„ï¼Œæ‰€ä»¥ï¼Œè¯¥é”å°±ä¸ä¼šèµ·åˆ°ç›¸åº”çš„ä½œç”¨äº†ã€‚ åœ¨ç¬¬äºŒç§ä¿®é¥°é™æ€æ–¹æ³•ç»™å‡ºçš„ä»£ç ä¸­ï¼ŒåŒæ ·å°†synchronizedé™æ€æ–¹æ³•ä¿®æ”¹ä¸ºsynchronizedä»£ç å—. public void execute() throws InterruptedException &#123; synchronized (Exmple.class) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.println("exe" + i); Thread.sleep(2000); &#125; &#125;&#125; ä¸Šé¢ä¼ å…¥çš„å¯¹è±¡æ˜¯Exampleçš„Classå¯¹è±¡ï¼Œè¿™æ—¶ï¼Œè¯¥é”èµ·åˆ°çš„ä½œç”¨å’Œsynchronizedå®žä¾‹æ–¹æ³•çš„ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚åŒæ ·çš„ï¼Œå¦‚æžœä¼ å…¥å…¶ä»–çš„å¯¹è±¡ï¼Œè¯¥é”å°±ä¸ä¼šèµ·åˆ°ç›¸åº”çš„ä½œç”¨äº†ã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>å¹¶å‘ç¼–ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹â€”åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼]]></title>
    <url>%2F2019%2F10%2F21%2FJava%E5%A4%9A%E7%BA%BF%E7%A8%8B%E2%80%94%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å¤šçº¿ç¨‹ç¼–ç¨‹ç®€å•ä»‹ç»å‡ ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³• çº¿ç¨‹çš„åˆ›å»ºæ–¹æ³• ç»§æ‰¿Threadç±»ï¼Œé‡å†™runæ–¹æ³•ï¼›ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ã€‚ //ç»§æ‰¿Threadç±»ï¼Œé‡å†™runæ–¹æ³•class Thread0 extends Thread &#123; @Override public void run() &#123; super.run(); //do something... &#125;&#125;//åŒ¿åå†…éƒ¨ç±»Thread thread0 = new Thread() &#123; @Override public void run() &#123; super.run(); //do something... &#125;&#125;;class Test &#123; Thread0 thread = new Thread0(); thread.start();&#125; å®žçŽ°RunnableæŽ¥å£ï¼Œå®žçŽ°runæ–¹æ³•ï¼›ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ã€‚ //å®žçŽ°RunnableæŽ¥å£ï¼Œå®žçŽ°runæ–¹æ³•class Thread0 implements Runnable &#123; @Override public void run() &#123; //do somrthing... &#125;&#125;//åŒ¿åå†…éƒ¨ç±»Thread thread0 = new Thread(new Runnable() &#123; @Override public void run() &#123; //do something... &#125;&#125;);class Test &#123; Thread thread = new Thread(new Thread0()); thread.start();&#125; CallableæŽ¥å£é™¤äº†ä»¥ä¸Šä¸¤ç§æ–¹å¼åˆ›å»ºçº¿ç¨‹ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å®žçŽ°CallableæŽ¥å£å¹¶å®žçŽ°callæ–¹æ³•çš„æ–¹å¼å®žçŽ°å¤šçº¿ç¨‹ï¼Œåˆ©ç”¨è¿™ç§æ–¹å¼ï¼Œæ‰§è¡Œå®Œä¸€ä¸ªçº¿ç¨‹ä¹‹åŽå¯ä»¥é€šè¿‡ä¸€ä¸ªFutureTaskå¯¹è±¡èŽ·å–è¿”å›žå€¼ï¼Œè€ŒRunnableæ˜¯ä¸èƒ½èŽ·å–åˆ°è¿”å›žå€¼çš„ã€‚å¹¶ä¸”callæ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œrunæ–¹æ³•ä¸å¯ä»¥ã€‚ çœ‹ä¸€ä¸ªä¾‹å­ï¼š class CallableThread implements Callable&lt;String&gt; &#123; @Override public String call() throws Exception &#123; Thread.sleep(5000); return "haha"; &#125;&#125;public class Tester &#123; public static void main(String[] args) throws Exception &#123; CallableThread thread = new CallableThread(); //ä½¿ç”¨FutureTaskç±»æŽ¥æ”¶CallableThreadè¿”å›žçš„æ•°æ® FutureTask&lt;String&gt; task = new FutureTask&lt;&gt;(thread); new Thread(task).start(); System.out.println(task.get()); &#125;&#125; å…³äºŽrunå’Œstartæ–¹æ³•è™½ç„¶æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ˜¯é‡å†™æˆ–è€…å®žçŽ°çš„runæ–¹æ³•ï¼Œä½†æ˜¯å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹éœ€è¦è°ƒç”¨startæ–¹æ³•ï¼Œå¦‚æžœç›´æŽ¥è°ƒç”¨runæ–¹æ³•ï¼Œå…¶å®žè·Ÿè°ƒç”¨ä¸€ä¸ªç±»çš„æ™®é€šæ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œrunæ–¹æ³•çš„æ‰§è¡Œè¿˜æ˜¯å¤„åœ¨è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹ä¸­ï¼›è°ƒç”¨startæ–¹æ³•ä»¥åŽï¼Œè™šæ‹Ÿæœºæ‰ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å¹¶ä¸”è°ƒç”¨runæ–¹æ³•ã€‚ï¼ˆåŒæ ·åœ°ï¼Œç»§æ‰¿CallableæŽ¥å£å®žçŽ°çº¿ç¨‹ä¹Ÿä¸å¯ä»¥ç›´æŽ¥è°ƒç”¨callæ–¹æ³•ï¼‰ Thread thread0 = new Thread(() -&gt; System.out.println("Current thread: " + Thread.currentThread().getName()));thread0.start();thread0.run();----Output----Current thread: mainCurrent thread: Thread-0 çœ‹ä¸Šé¢çš„ä»£ç æ®µï¼Œè°ƒç”¨startæ–¹æ³•ä¹‹åŽè¾“å‡ºæ–°åˆ›å»ºçš„çº¿ç¨‹Thread-0ï¼Œè°ƒç”¨runæ–¹æ³•ä¹‹åŽè¾“å‡ºçš„æ˜¯ä¾ç„¶æ˜¯ä¸»çº¿ç¨‹mainã€‚]]></content>
      <categories>
        <category>Java</category>
        <category>å¹¶å‘ç¼–ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´]]></title>
    <url>%2F2019%2F10%2F20%2FJava%E4%B8%AD%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D%2F</url>
    <content type="text"><![CDATA[åœ¨ä¹‹å‰åšé¡¹ç›®çš„æ—¶å€™ï¼ŒåŒç»„çš„äººå› ä¸ºæ·±æ‹·è´å’Œæµ…æ‹·è´çš„é—®é¢˜äº§ç”Ÿè¿‡BUGï¼Œå½“æ—¶ä¸æ˜¯è‡ªå·±è´Ÿè´£çš„éƒ¨åˆ†ï¼Œæ²¡å¯¹è¿™ä¸ªé—®é¢˜åšè¿‡æ·±å…¥çš„äº†è§£ï¼Œä»Šå¤©æ·±å…¥å­¦ä¹ ä¸€ä¸‹ðŸ‘» åœ¨ä»‹ç»æ·±æ‹·è´å’Œæµ…æ‹·è´ä¹‹å‰ï¼Œå…ˆæ¸©ä¹ å‡ ä¸ªæ¦‚å¿µã€‚ æ•°æ®ç±»åž‹Javaä¸­çš„æ•°æ®ç±»åž‹æœ‰ä¸¤ç§ï¼š åŸºæœ¬ç±»åž‹ï¼šç²’åº¦æœ€å°çš„æ•°æ®ç±»åž‹ã€‚ä¸»è¦åŒ…æ‹¬ 4ç§æ•´æ•°ç±»åž‹ï¼šintã€shortã€longã€byte 2ç§æµ®ç‚¹æ•°ç±»åž‹ï¼šfloatã€double 1ç§å­—ç¬¦ç±»åž‹ï¼šchar 1ç§å¸ƒå°”ç±»åž‹ï¼šboolean å¼•ç”¨ç±»åž‹ï¼šä¹Ÿå«åšå¥æŸ„ï¼Œå®žé™…å­˜æ”¾çš„åº”è¯¥æ˜¯ä¸€ä¸ªåœ°å€ï¼Œåœ°å€æŒ‡å‘å®žé™…å†…å®¹ã€‚ä¸»è¦åŒ…æ‹¬ï¼š ç±» æŽ¥å£ æ•°ç»„ æ•°æ®å¦‚ä½•åœ¨å†…å­˜ä¸­å‚¨å­˜JVMåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ä¼šå°†å†…å­˜åˆ’åˆ†ä¸ºå››ä¸ªåŒºåŸŸï¼š å † æ ˆ é™æ€æ–¹æ³•åŒº å¸¸é‡åŒº é’ˆå¯¹ç¬¬ä¸€èŠ‚çš„æ•°æ®ç±»åž‹ï¼Œä¸‹é¢åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹çš„å±€éƒ¨å˜é‡ã€åŸºæœ¬æ•°æ®ç±»åž‹çš„æˆå‘˜å˜é‡ã€å¼•ç”¨ç±»åž‹å˜é‡æ¥è®²è§£ã€‚ åŸºæœ¬æ•°æ®ç±»åž‹çš„å±€éƒ¨å˜é‡åŸºæœ¬æ•°æ®ç±»åž‹çš„å±€éƒ¨å˜é‡çš„å‚¨å­˜å½¢å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ–¹æ³•ä¸­çš„åŸºæœ¬ç±»åž‹çš„å±€éƒ¨å˜é‡ï¼Œéƒ½æ˜¯å‚¨å­˜è™šæ‹Ÿæœºçš„å †å†…å­˜ä¸­çš„ï¼Œæ•°æ®æœ¬èº«çš„å€¼å°±æ˜¯å‚¨å­˜åœ¨æ ˆå†…å­˜ä¸­ã€‚æ¯æ¬¡ç»™ä¸€ä¸ªæ–°å˜é‡èµ‹å€¼çš„æ—¶å€™ï¼ŒJVMé¦–å…ˆä¼šæ£€éªŒå†…å­˜ä¸­æœ‰æ— è¯¥æ•°æ®ï¼Œå¦‚æžœæœ‰ï¼Œå°±ç›´æŽ¥å°†è¿™ä¸ªå˜é‡æŒ‡å‘è¯¥æ•°æ®ï¼Œæ²¡æœ‰çš„è¯å°±å¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜ç©ºé—´å­˜æ”¾æ•°æ®ï¼Œç„¶åŽå°†å˜é‡æŒ‡å‘è¯¥æ•°æ®ã€‚ int age = 50;int weight = 50;int height = 100; çœ‹ä¸Šé¢çš„ä»£ç æ®µï¼Œä¸‰ä¸ªå˜é‡éƒ½æ˜¯æŸä¸ªæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡ï¼Œå½“æ‰§è¡Œint age = 50çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šå®šä¹‰å˜é‡ï¼Œå­˜å…¥å˜é‡è¡¨ä¸­ï¼Œç„¶åŽåŽ»æ ˆä¸­æ‰¾æ˜¯å¦å­˜åœ¨å€¼ä¸º50çš„å†…å®¹ï¼Œå¹¶å°†ageå˜é‡æŒ‡å‘50ã€‚å½“æ‰§è¡Œint weight = 50æ—¶ï¼Œä¼šåœ¨æ ˆä¸­æ‰¾åˆ°50ï¼Œç›´æŽ¥å°†weightæŒ‡å‘50ã€‚å½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•ä»¥åŽï¼Œæ–¹æ³•å±€éƒ¨å˜é‡ä¼šè¢«JVMçš„åžƒåœ¾å›žæ”¶æœºåˆ¶å›žæ”¶ã€‚ åŸºæœ¬æ•°æ®ç±»åž‹çš„æˆå‘˜å˜é‡å’Œå¼•ç”¨ç±»åž‹å˜é‡å‰é¢æåˆ°ï¼Œé™¤äº†åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯å¼•ç”¨æ•°æ®ç±»åž‹ï¼Œå¯¹äºŽå¼•ç”¨æ•°æ®ç±»åž‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ public class Student &#123; private String name; private int age; private int grade;&#125; ä¸Šé¢æ˜¯ä¸€ä¸ªStudentç±»ï¼Œå¦‚æžœæˆ‘ä»¬ä¸é‡å†™toStringæ–¹æ³•ï¼Œç›´æŽ¥è¾“å‡ºä¸€ä¸ªå®žä¾‹åŒ–çš„å¯¹è±¡çš„è¯ï¼Œä¼šå¾—åˆ°è¿™æ ·çš„è¾“å‡ºï¼š Student@1b6d3586ï¼Œå…¶å®žè¿™å°±æ˜¯Studentç±»çš„åœ°å€ã€‚ æ‰€ä»¥ï¼Œå¯¹äºŽå¼•ç”¨æ•°æ®ç±»åž‹æ¥è¯´ï¼Œå¼•ç”¨æ•°æ®ç±»åž‹åªå‚¨å­˜ä¸€ä¸ªåœ¨å †å†…å­˜ä¸­çš„åœ°å€ï¼Œè€Œæˆå‘˜å˜é‡å’Œæ–¹æ³•è¢«å‚¨å­˜åœ¨å †å†…å­˜ä¸­ã€‚ æ·±æ‹·è´å’Œæµ…æ‹·è´æ¦‚å¿µå‰é¢è¯´äº†è¿™ä¹ˆå¤šï¼ŒçŽ°åœ¨æ­¥å…¥æ­£é¢˜ï¼Œé¦–å…ˆä»‹ç»æ·±æ‹·è´å’Œæµ…æ‹·è´çš„æ¦‚å¿µã€‚ åœ¨Javaä¸­ä½¿ç”¨ â€œ=â€ åšèµ‹å€¼æ“ä½œæ—¶ï¼Œå¯¹äºŽåŸºæœ¬æ•°æ®ç±»åž‹ï¼Œä¼šç›´æŽ¥å°†å€¼ç›´æŽ¥èµ‹å€¼ç»™å˜é‡ï¼Œè€Œå¯¹äºŽå¼•ç”¨æ•°æ®ç±»åž‹æ¥è¯´ï¼Œä¼šå°†å…¶å¼•ç”¨èµ‹å€¼ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚ æµ…æ‹·è´ æµ…æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ‹¥æœ‰è¢«æ‹·è´å¯¹è±¡çš„ä¸€ä¸ªç²¾ç¡®çš„å‰¯æœ¬ã€‚åœ¨è¯¥ç±»çš„æˆå‘˜å˜é‡ä¸­ï¼Œå¯¹äºŽåŸºæœ¬æ•°æ®ç±»åž‹ï¼Œæ‹·è´çš„å°±æ˜¯å…¶å€¼ï¼›å¯¹äºŽå¼•ç”¨æ•°æ®ç±»åž‹ï¼Œæ‹·è´çš„å°±æ˜¯å…¶å†…å­˜åœ°å€ã€‚å¦‚æžœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªå¼•ç”¨æ•°æ®ç±»åž‹çš„å˜é‡çš„æ•°æ®ï¼Œç›¸åº”åœ°ï¼Œå¦ä¸€ä¸ªå¯¹è±¡åœ°è¯¥å¼•ç”¨æ•°æ®ç±»åž‹åœ°æ•°æ®ä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚ å¦‚ä¸‹å›¾ï¼ŒStudentç±»æœ‰ä¸¤ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªSchooleç±»æˆå‘˜å˜é‡ï¼Œä¸€ä¸ªintç±»åž‹çš„æˆå‘˜å˜é‡ï¼ŒStudentç±»æœ‰ä¸¤ä¸¤ä¸ªå®žä¾‹ï¼Œstudent1æ˜¯å¯¹student0çš„æµ…æ‹·è´çš„å¯¹è±¡ã€‚å¯¹äºŽå¼•ç”¨ç±»åž‹çš„Schoolæ¥è¯´ï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½å‚¨å­˜çš„æ˜¯Schoolå¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥è¯´ï¼Œå¦‚æžœæœ‰å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„Schoolå¯¹è±¡çš„å†…å®¹å‘ç”Ÿäº†æ”¹å˜ï¼Œå¦ä¸€ä¸ªå¯¹è±¡ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼›å¯¹äºŽåŸºæœ¬ç±»åž‹çš„æˆå‘˜å˜é‡æ¥è¯´ï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯ç›´æŽ¥å‚¨å­˜çš„ageçš„å€¼ï¼ŒåŒæ–¹äº’ä¸å¹²æ¶‰ã€‚ æ·±æ‹·è´ æ·±æ‹·è´ä¸ä»…ä¼šä¸ºæ‹·è´æ–°å»ºå¯¹è±¡ï¼Œä¹Ÿä¼šå¯¹è¯¥å¯¹è±¡ä¸­ä»»ä½•çš„å¼•ç”¨ç±»åž‹å˜é‡å»ºç«‹æ–°çš„å¯¹è±¡ï¼Œè¿™æ ·ï¼Œæ‹·è´å¯¹è±¡å’ŒåŽŸå¯¹è±¡å°±æ˜¯ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼Œä¸¤è€…å„è‡ªçš„æˆå‘˜å˜é‡ä¹Ÿäº’ä¸å—å½±å“äº†ã€‚ å®žçŽ°æµ…æ‹·è´å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼ˆä¸æ˜¯æµ…æ‹·è´ï¼‰ã€‚ public class Tester &#123; public static void main(String[] args) &#123; int age = 10; int age1 = 20; String name = "aaa"; String name1 = "bbb"; Student student = new Student(); student.setAge(age); student.setName(name); Student student1 = student; student.setAge(age1); student.setName(name1); System.out.println(student); System.out.println(student1); &#125;&#125;----Output----Student&#123;age=20, name='bbb'&#125;Student&#123;age=20, name='bbb'&#125; ä¸Šé¢ä»£ç ç›´æŽ¥ä½¿ç”¨äº† â€œ=â€ å¯¹å¯¹è±¡è¿›è¡Œæ‹·è´ï¼Œå‘çŽ°ï¼Œæ— è®ºæ˜¯åŸºæœ¬ç±»åž‹è¿˜æ˜¯å¼•ç”¨ç±»åž‹çš„æ•°æ®ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„å€¼è¢«æ”¹å˜ï¼Œå¦ä¸€ä¸ªå¯¹è±¡çš„æ•°æ®ä¹Ÿéšä¹‹æ”¹å˜ã€‚ å…¶å®žStudent student1 = student;è¿™ä¸€å¥ä»£ç ï¼Œç›¸å½“äºŽåªæ˜¯å°†studentçš„åœ°å€èµ‹å€¼ç»™äº†student1ï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ä¸€ä¸ªåœ°å€ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸€èµ·å…±äº«çš„ã€‚ è€Œå®žçŽ°æµ…æ‹·è´ä¹‹åŽï¼Œåˆ›å»ºçš„æ–°å¯¹è±¡ä¼šå•ç‹¬å¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´æœ‰è‡ªå·±çš„åœ°å€ï¼Œè¿™æ ·å¯¹äºŽåŸºæœ¬ç±»åž‹çš„æ•°æ®æ¥è¯´ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„æ•°æ®ï¼Œè€Œå¯¹äºŽå¼•ç”¨ç±»åž‹çš„æ•°æ®æ¥è¯´ï¼Œæ–°å¯¹è±¡æ˜¯æ‹·è´çš„å¼•ç”¨ç±»åž‹çš„åœ°å€ï¼Œæ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å…±äº«è¯¥æˆå‘˜å˜é‡çš„ã€‚ public class School implements Cloneable &#123; String name; public School(String name) &#123; this.name = name; &#125; ... @Override public String toString() &#123; return "School&#123;" + "name='" + name + '\'' + '&#125;'; &#125;&#125; public class Student implements Cloneable&#123; private int age; private School school; public Student(int age, School school) &#123; this.age = age; this.school = school; &#125; ... @Override public String toString() &#123; return "Student&#123;" + "age=" + age + ", school=" + school + '&#125;'; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; return super.clone(); &#125;&#125; public class Tester &#123; public static void main(String[] args) throws CloneNotSupportedException &#123; Student student = new Student(10, new School("QUST")); Student student1 = (Student) student.clone(); student.setAge(20); student.getSchool().setName("THU"); System.out.println(student); System.out.println(student1); &#125;&#125;----Output----Student&#123;age=20, school=School&#123;name='THU'&#125;&#125;Student&#123;age=10, school=School&#123;name='THU'&#125;&#125; ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªå®žçŽ°æµ…æ‹·è´çš„ä¾‹å­ï¼Œé¦–å…ˆï¼Œéœ€è¦æ‹·è´çš„ç±»è¦å®žçŽ°CloneableæŽ¥å£ï¼ˆæ­¤æŽ¥å£æ˜¯ä¸ªæ ‡è¯†æ€§æŽ¥å£ï¼ŒæŽ¥å£å†…æ— ä»»ä½•æ–¹æ³•ï¼‰ï¼Œé‡å†™cloneæ–¹æ³•ï¼Œåœ¨æ‹·è´å¯¹è±¡çš„æ—¶å€™ï¼Œä½¿ç”¨Student student = (Student) student.clone()ï¼Œè¿™æ ·å°±å®žçŽ°äº†æµ…æ‹·è´ã€‚ä»Žæµ‹è¯•ç±»çš„è¾“å‡ºå¯ä»¥çœ‹å‡ºæ¥ï¼Œä¿®æ”¹åŽŸå¯¹è±¡çš„åŸºæœ¬æ•°æ®ç±»åž‹çš„æˆå‘˜å˜é‡æ—¶ï¼Œæ‹·è´å¯¹è±¡å¹¶æ²¡æœ‰æ”¶åˆ°å½±å“ï¼Œè€Œä¿®æ”¹åŽŸå¯¹è±¡å¼•ç”¨ç±»åž‹æˆå‘˜å˜é‡Schoolçš„å±žæ€§æ—¶ï¼Œæ‹·è´ç±»åž‹ä¹Ÿå—åˆ°äº†å½±å“ã€‚ å®žçŽ°æ·±æ‹·è´public class School implements Cloneable&#123; String name; public School(String name) &#123; this.name = name; &#125; @Override public String toString() &#123; return "School&#123;" + "name='" + name + '\'' + '&#125;'; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; return super.clone(); &#125;&#125; public class Student implements Cloneable&#123; private int age; private School school; public Student(int age, School school) &#123; this.age = age; this.school = school; &#125; @Override public String toString() &#123; return "Student&#123;" + "age=" + age + ", school=" + school + '&#125;'; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; Student student = (Student) super.clone(); student.school = (School) this.school.clone(); return student; &#125;&#125; public class Tester &#123; public static void main(String[] args) throws CloneNotSupportedException &#123; Student student = new Student(10, new School("QUST")); Student student1 = (Student) student.clone(); student.setAge(20); student.getSchool().setName("THU"); System.out.println(student); System.out.println(student1); &#125;&#125;----Output----Student&#123;age=20, school=School&#123;name='THU'&#125;&#125;Student&#123;age=10, school=School&#123;name='QUST'&#125;&#125; å®žçŽ°æ·±æ‹·è´çš„æ–¹æ³•å°±æ˜¯å°†ç±»ä¸­çš„å¼•ç”¨ç±»åž‹å˜é‡ä¹Ÿè¿›è¡Œæ‹·è´ï¼Œå¼•ç”¨ç±»åž‹æ‰€åœ¨çš„ç±»å®žçŽ°CloneableæŽ¥å£ï¼Œé‡å†™cloneæ–¹æ³•ã€‚è¿™æ ·å°±å¯ä»¥å®žçŽ°æ·±æ‹·è´äº†ã€‚ è¿˜æœ‰ä¸€ç§å®žçŽ°æ·±æ‹·è´çš„æ–¹å¼ï¼Œå°±æ˜¯é€šè¿‡åºåˆ—åŒ–å®žçŽ°å¯ä»¥æŸ¥çœ‹Javaåºåˆ—åŒ–ã€‚ æ€»ç»“ éœ€è¦æ‹·è´å¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æžœä¸€ä¸ªå¯¹è±¡å†…éƒ¨æ•°æ®ç±»åž‹åªæœ‰åŸºæœ¬ç±»åž‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æµ…æ‹·è´ï¼Œå¦‚æžœä¸€ä¸ªå¯¹è±¡å†…éƒ¨è¿˜æœ‰å¼•ç”¨æ•°æ®ç±»åž‹ï¼Œå°±éœ€è¦ä½¿ç”¨æ·±æ‹·è´ã€‚ è™½ç„¶æ·±æ‹·è´å’Œæµ…æ‹·è´å¯èƒ½ç”¨åˆ°çš„ä¸ä¼šå¾ˆå¤šï¼Œä½†æ˜¯å¯¹äºŽç†è§£JVMå†…éƒ¨å†…å­˜è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ðŸ‘…]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoéƒ¨ç½²åˆ°Githubæ–‡ä»¶å¤¹å¤§å°å†™é—®é¢˜]]></title>
    <url>%2F2019%2F10%2F19%2FHexo%E9%83%A8%E7%BD%B2%E5%88%B0Github%E6%96%87%E4%BB%B6%E5%A4%B9%E5%A4%A7%E5%B0%8F%E5%86%99%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿° ä»Šå¤©å†™å®Œåšå®¢ä¸Šä¼ githubæ—¶ï¼Œå‘çŽ°algorithmæ ‡ç­¾404äº†ï¼Œä¸ŠGithubä»“åº“ä¸€çœ‹å‘çŽ°tagsæ–‡ä»¶å¤¹ä¸‹çš„algorithmæ˜¯å¤§å†™çš„Algorithmï¼Œè®¿é—®tags/Algorithmï¼Œå¯ä»¥æ­£å¸¸æ˜¾ç¤º åŽŸå›  æŸ¥è¯¢èµ„æ–™å‘çŽ°ï¼Œgitæ˜¯é»˜è®¤ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä¹‹å‰hexoç”Ÿæˆäº†ä¸€ä¸ªAlgorithmæ–‡ä»¶å¤¹ï¼ŒåŽæ¥å°†æ–‡ä»¶å¤¹çš„åç§°æ”¹ä¸ºäº†algorithmï¼Œç„¶è€Œåœ¨Githubä¸Šæ˜¯ä¸ä¼šå°†å¤§å†™æ”¹ä¸ºå°å†™çš„ã€‚ è§£å†³æ–¹æ³• è¿›å…¥.gitæ–‡ä»¶å¤¹ï¼Œå°†configæ–‡ä»¶çš„ ignorecase=true æ”¹ä¸º ignorecase=falseã€‚]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå†…éƒ¨ç±»]]></title>
    <url>%2F2019%2F10%2F19%2FJava%E5%86%85%E9%83%A8%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[å†…éƒ¨ç±»æ‰€è°“å†…éƒ¨ç±»å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªç±»ï¼Œä¹‹å‰è‡ªå·±å†™ä»£ç çš„æ—¶å€™ä¸€ç›´ä¹Ÿæ²¡ç”¨è¿‡è¿™ç§æ–¹å¼ï¼Œç³»ç»Ÿåœ°å­¦ä¹ ä¸€ä¸‹å†…éƒ¨ç±»ã€‚ /** * @paragram: InnerClassDemo * @description: å†…éƒ¨ç±» * @auhor: liuergo * @date: 2019-10-19 16:30 */public class OuterClass&#123; private String name; private int age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; class InnerClass&#123; public InnerClass ()&#123; name = "Jack"; age = 20; &#125; &#125;&#125; ä¸Šé¢å°±æ˜¯å†…éƒ¨ç±»çš„ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å†…éƒ¨ç±» ä½¿ç”¨å†…éƒ¨ç±»æœ€å¸å¼•äººçš„åŽŸå› æ˜¯ï¼šæ¯ä¸ªå†…éƒ¨ç±»éƒ½èƒ½ç‹¬ç«‹åœ°ç»§æ‰¿ä¸€ä¸ªï¼ˆæŽ¥å£çš„ï¼‰å®žçŽ°ï¼Œæ‰€ä»¥æ— è®ºå¤–å›´ç±»æ˜¯å¦å·²ç»ç»§æ‰¿äº†æŸä¸ªï¼ˆæŽ¥å£çš„ï¼‰å®žçŽ°ï¼Œå¯¹äºŽå†…éƒ¨ç±»éƒ½æ²¡æœ‰å½±å“ã€‚ ä¸Šé¢æ˜¯ã€ŠThinking in Javaã€‹ä¸­çš„ä¸€å¥è¯ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒJavaä¸­æ˜¯æ²¡æœ‰å¤šç»§æ‰¿çš„ï¼Œæ‰€ä»¥æ‰å‡ºçŽ°äº†æŽ¥å£æ¥è§£å†³Javaå¤šç»§æ‰¿çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æžœä½¿ç”¨äº†å†…éƒ¨ç±»ï¼Œå°±å¯ä»¥ä½¿æˆ‘ä»¬çš„ç±»ç»§æ‰¿å¤šä¸ªç±»ã€‚ æˆå‘˜å†…éƒ¨ç±»æœ€æ™®é€šçš„å†…éƒ¨ç±»ï¼Œå°†å†…éƒ¨ç±»ä½œä¸ºå¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œè·Ÿæˆå‘˜å˜é‡å„ç§æ–¹æ³•æ˜¯å¹¶åˆ—çš„ã€‚ public class OuterClass&#123; private String name; private int age; public class InnerClass&#123; public InnerClass ()&#123; name = "Jack"; age = 20; &#125; &#125; public static void main(String[] args) &#123; OuterClass outerClass = new OuterClass(); OuterClass.InnerClass innerClass = outerClass.new InnerClass(); &#125;&#125; å®žä¾‹åŒ–ä¸€ä¸ªå†…éƒ¨ç±»éœ€è¦ä½¿ç”¨å¤–éƒ¨ç±»çš„å¯¹è±¡.newæ¥åˆ›å»ºå†…éƒ¨ç±»ï¼Œåœ¨å†…éƒ¨ç±»ä¸­ï¼Œæ˜¯å¯ä»¥éšä¾¿è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡çš„;å¤–éƒ¨ç±»æ˜¯ä¸å¯ä»¥éšä¾¿è®¿é—®å†…éƒ¨ç±»çš„ã€‚ å±€éƒ¨å†…éƒ¨ç±»åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å†…éƒ¨ç±»ï¼Œè¿™æ—¶çš„å†…éƒ¨ç±»å°±ä¸å±žäºŽå¤–éƒ¨ç±»çš„æˆå‘˜äº†ï¼Œå±€éƒ¨å†…éƒ¨ç±»å¯ä»¥è®¿é—®å½“å‰ä»£ç å—ä¸­çš„finalå…³é”®å­—ä¿®é¥°çš„å±€éƒ¨å˜é‡ä»¥åŠå¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ã€‚ public class OuterClass&#123; private String name; private int age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public void function() &#123; final int i = 0; class InnerClass &#123; private String innerName; void InnerFun() &#123; System.out.println(name); //ç›´æŽ¥è®¿é—®å¤–éƒ¨ç±»çš„å˜é‡ System.out.println(i); //è®¿é—®finalç±»åž‹çš„å±€éƒ¨å˜é‡ System.out.println(this.innerName); //ä½¿ç”¨this.æˆå‘˜å˜é‡è®¿é—®çš„æ˜¯å†…éƒ¨ç±»çš„æˆå‘˜å˜é‡ System.out.println(OuterClass.this.name); //ä½¿ç”¨å¤–éƒ¨ç±»å.this.æˆå‘˜å˜é‡çš„æ–¹å¼è®¿é—®æˆå‘˜å˜é‡ &#125; &#125; &#125;&#125; é™æ€å†…éƒ¨ç±»åœ¨staticå…³é”®å­—ä¸€èŠ‚ä¸­ï¼Œæåˆ°staticå…³é”®å­—å¯ä»¥ä¿®é¥°å˜é‡ã€æ–¹æ³•ã€ä»£ç å—ï¼Œå…¶å®žstaticè¿˜å¯ä»¥ä¿®é¥°å†…éƒ¨ç±»ï¼Œåœ¨é™æ€å†…éƒ¨ç±»ä¸­ï¼Œæ˜¯ä¸ä¿ç•™å¯¹å¤–éƒ¨ç±»çš„å¼•ç”¨çš„ï¼Œè¿™å°±æ„å‘³ç€ï¼Œé™æ€å†…éƒ¨ç±»çš„åˆ›å»ºä¸éœ€è¦ä¾èµ–äºŽå¤–éƒ¨ç±»ã€‚è¿™æ ·ï¼Œé™æ€å†…éƒ¨ç±»ä¹Ÿå°±åªèƒ½è®¿é—®é™æ€å˜é‡å’Œé™æ€æ–¹æ³•ã€‚å¤–éƒ¨ç±»å’Œå†…éƒ¨ç±»å…¶å®žæ˜¯æ²¡æœ‰å…³è”çš„ã€‚ public class OuterClass&#123; private String name; private int age; static int num = 0; static class InnerClass&#123; private String innerName; public InnerClass ()&#123; System.out.println(num); //åªèƒ½è®¿é—®staticå˜é‡ &#125; &#125; public static void main(String[] args) &#123; OuterClass outerClass = new OuterClass(); InnerClass innerClass = new InnerClass(); //åˆ›å»ºå®žä¾‹ä¸ä¾èµ–å¤–éƒ¨ç±» &#125;&#125; åŒ¿åå†…éƒ¨ç±» åŒ¿åå†…éƒ¨ç±»è¿™ä¸€è¯­æ³•é€‚ç”¨äºŽåˆ›å»ºä¸€æ¬¡æ€§ä½¿ç”¨çš„ç±»ã€‚ åœ¨Androidç¼–ç¨‹ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°ç‚¹å‡»äº‹ä»¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»çš„ä¾‹å­ã€‚ btnClick.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View view) &#123; //do something &#125;&#125;); å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œnewäº†ä¸€ä¸ªView.OnClickListenerå¯¹è±¡ï¼Œç„¶è€Œè¿™ä¸ªå¯¹è±¡æ˜¯æ²¡æœ‰åå­—çš„ï¼Œè¿™å°±æ˜¯åŒ¿åå†…éƒ¨ç±»çš„ç‰¹ç‚¹ã€‚ å®šä¹‰åŒ¿åå†…éƒ¨ç±»ä¸‹é¢æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºçš„ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»çš„ä¾‹å­ï¼š public class HelloWorldAnonymousClasses &#123; interface HelloWorld &#123; public void greet(); public void greetSomeone(String someone); &#125; public void sayHello() &#123; //å®žçŽ°HelloWorldæŽ¥å£çš„å†…éƒ¨ç±» class EnglishGreeting implements HelloWorld &#123; String name = "world"; public void greet() &#123; greetSomeone("world"); &#125; public void greetSomeone(String someone) &#123; name = someone; System.out.println("Hello " + name); &#125; &#125; HelloWorld englishGreeting = new EnglishGreeting(); //åŒ¿åç±»å®žçŽ°HelloWorldæŽ¥å£ HelloWorld frenchGreeting = new HelloWorld() &#123; String name = "tout le monde"; public void greet() &#123; greetSomeone("tout le monde"); &#125; public void greetSomeone(String someone) &#123; name = someone; System.out.println("Salut " + name); &#125; &#125;; //åŒ¿åç±»å®žçŽ°HelloWorldæŽ¥å£ HelloWorld spanishGreeting = new HelloWorld() &#123; String name = "mundo"; public void greet() &#123; greetSomeone("mundo"); &#125; public void greetSomeone(String someone) &#123; name = someone; System.out.println("Hola, " + name); &#125; &#125;; englishGreeting.greet(); frenchGreeting.greetSomeone("Fred"); spanishGreeting.greet(); &#125; public static void main(String... args) &#123; HelloWorldAnonymousClasses myApp = new HelloWorldAnonymousClasses(); myApp.sayHello(); &#125; &#125; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨å®žçŽ°HelloWorldæŽ¥å£çš„æ–¹å¼æ¥å®šä¹‰EnglishGreetingç±»ï¼Œå®žä¾‹åŒ–ä¹‹åŽæ‰å¯ä»¥ä½¿ç”¨ï¼›frenchGreetingã€spanishGreetingåœ¨å®šä¹‰çš„æ—¶å€™å°±å®žä¾‹åŒ–äº†ï¼Œå®šä¹‰å®Œä¹‹åŽå°±å¯ä»¥ä½¿ç”¨ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸¤ç§æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æžœä¸€ä¸ªç±»åªéœ€è¦ç”¨åˆ°ä¸€æ¬¡ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦ç”¨ç»§æ‰¿çˆ¶ç±»æˆ–è€…æ˜¯å®žçŽ°æŽ¥å£çš„æ–¹å¼å†å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ã€‚ åŒ¿åå†…éƒ¨ç±»çš„è¯­æ³•åŒ¿åå†…éƒ¨ç±»æœ‰ä¸¤ç§ä½¿ç”¨æ–¹æ³•ï¼š ç»§æ‰¿çˆ¶ç±»çš„åŒ¿åç±» Thread thread = new Thread() &#123; @Override public void run() &#123; super.run(); &#125;&#125;; å®žçŽ°æŽ¥å£çš„åŒ¿åç±» Thread thread = new Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println("11"); &#125;&#125;); ç¬¬äºŒä¸ªä¾‹å­å®žé™…ä¸Šæ˜¯å°†ä¸€ä¸ªå®žçŽ°æŽ¥å£çš„åŒ¿åç±»ä½œä¸ºå‚æ•°ä¼ è¿›äº†Threadçš„æž„é€ å‡½æ•°ä¸­ã€‚ å…³äºŽåŒ¿åç±»çš„æ•°æ®è®¿é—®å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼šåŒ¿åç±»çš„æ•°æ®è®¿é—®ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡ æ•°ä¹‹å’Œç³»åˆ—]]></title>
    <url>%2F2019%2F10%2F19%2F%E5%87%A0%E6%95%B0%E4%B9%8B%E5%92%8C%E7%B3%BB%E5%88%97%2F</url>
    <content type="text"><![CDATA[åœ¨LeetCodeçš„ArrayTagä¸­ï¼Œæœ‰ä¸€ç³»åˆ—çš„__æ•°ä¹‹å’Œé¢˜ï¼Œè¿™å‡ é“é¢˜éƒ½æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ï¼Œåœ¨è¿™é‡Œåšä¸€ä¸‹æ€»ç»“ã€‚ æ€»è§ˆ ä¸¤æ•°ä¹‹å’Œ ä¸‰æ•°ä¹‹å’Œ æœ€æŽ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ å››æ•°ä¹‹å’Œ æ±‚è§£æ–¹æ³• æš´åŠ›æ³•ï¼ˆä¸å¯å–ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦å¾€å¾€ä¸ºnçš„â€œå‡ æ•°â€æ¬¡æ–¹ï¼ˆå¦‚ä¸¤æ•°ä¹‹å’Œä¸º$O(n^2)$ï¼‰ã€‚ HashTableå‡å°‘å¾ªçŽ¯æ¬¡æ•°ï¼Œé™ä½Žæ—¶é—´å¤æ‚åº¦ã€‚ æŽ’åº+åŒæŒ‡é’ˆï¼ˆæŽ¨èï¼‰ã€‚ ä¸¤æ•°ä¹‹å’Œç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›žä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å›ž [0, 1] æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰é“¾æŽ¥ï¼šhttps://leetcode-cn.com/problems/two-sumè‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚ æ­¤é¢˜æ˜¯LeetCodeå…¥å‘ç¬¬ä¸€é¢˜ï¼Œä½œä¸ºä¸€åç®—æ³•å°ç™½ï¼Œé¦–å…ˆå°±æƒ³åˆ°äº†æš´åŠ›æ±‚è§£æ³•ï¼Œæ–¹æ³•ä¹Ÿæ˜¯ç®€å•ç²—æš´ï¼Œä¸åšè§£é‡Šã€‚ class Solution &#123; public int[] twoSum(int[] nums, int target) &#123; //æš´åŠ›æ±‚è§£ for (int i = 0; i &lt; nums.length; i++) &#123; for (int j = i + 1; j &lt; nums.length; j++) &#123; if (nums[i] + nums[j] == target) &#123; return new int[] &#123;i ,j&#125;; &#125; &#125; &#125; throw new IllegalArgumentException("no sulotion!"); &#125;&#125; æš´åŠ›ç»ˆç©¶ä¸å¯å–ï¼Œæ­¤é¢˜è¿˜å¯ä»¥ä½¿ç”¨HashTableæ±‚è§£ï¼Œå‡å°‘äº†ä¸€æ¬¡å¾ªçŽ¯ï¼›ä¸Šä¸€ç§è§£æ³•ç›¸å½“äºŽæ˜¯æ¯ä¸ªæ•°éƒ½è¦åŽ»æ‰¾ä¸€ä¸ªèƒ½å’Œåˆ«äººé…å¯¹çš„æ•°ï¼Œè€Œåˆ©ç”¨HashTableçš„è§£æ³•æ˜¯å°†æ¯ä¸ªæ•°æƒ³è¦é…å¯¹çš„æ•°å­˜èµ·æ¥ï¼Œå¹¶ä¸”åœ¨å­˜èµ·æ¥ä¹‹å‰ï¼Œæ£€æŸ¥ä¸€éå½“å‰çš„HashTableä¸­æ˜¯å¦å·²ç»å­˜åœ¨äº†æƒ³è¦é…å¯¹çš„æ•°ï¼Œå¦‚æžœé…å¯¹æˆåŠŸï¼Œç›´æŽ¥è¿”å›žç»“æžœã€‚ class Solution &#123; public int[] twoSum(int[] nums, int target) &#123; //HashMap HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;(); for (int i = 0; i &lt; nums.length; i++) &#123; int a = target - nums[i]; //æƒ³è¦é…å¯¹çš„æ•° if (hashMap.containsKey(a) ) &#123; return new int[] &#123;hashMap.get(a),i&#125;; &#125; hashMap.put(nums[i], i); &#125; throw new IllegalArgumentException("no sulotion!"); &#125;&#125; ä¸‰æ•°ä¹‹å’Œç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œ*ä½¿å¾— *a + b + c = 0 ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ ä¾‹å¦‚, ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œæ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š[ [-1, 0, 1], [-1, -1, 2]] æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰é“¾æŽ¥ï¼šhttps://leetcode-cn.com/problems/3sum/è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚ æ­¤é¢˜å¯ä»¥å‚ç…§ä¸¤æ•°ä¹‹å’Œçš„è§£æ³•ç»§ç»­ä½¿ç”¨æš´åŠ›æ³•æˆ–è€…æ˜¯HashTableè§£æ³•ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ï¼Œæ‰€ä»¥åŽ»é‡æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œç›®å‰é™¤äº†æƒ³åˆ°å¯¹æ¯ä¸ªä¸‰å…ƒç»„è¿›è¡ŒæŽ’åºå†ä½¿ç”¨HashSetåŽ»é‡å¤–ï¼Œè¿˜æ²¡æœ‰æƒ³åˆ°åˆ«çš„å¥½åŠžæ³•ã€‚ æŽ¥ä¸‹æ¥ä¸»è¦ä»‹ç»æŽ’åº+åŒæŒ‡é’ˆçš„æ–¹æ³•ã€‚ æ­¤é¢˜æœ€åˆé€‚çš„æ–¹æ³•æ˜¯é‡‡ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•æ±‚è§£ï¼Œå…³äºŽåŒæŒ‡é’ˆåœ¨ä¹‹å‰çš„ä¸€é“é¢˜å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œæœ€ä¸»è¦çš„ä¸€ç‚¹å°±æ˜¯å…³äºŽæŒ‡é’ˆå¦‚ä½•ç§»åŠ¨çš„é—®é¢˜ã€‚ ç®—æ³•è¯¦è§£ å¯¹æ•°æ®è¿›è¡ŒæŽ’åºï¼Œä¸€èˆ¬ä½¿ç”¨åŒæŒ‡é’ˆæ±‚è§£éƒ½è¦å…ˆå¯¹æ•°æ®è¿›è¡ŒæŽ’åºã€‚ ç¡®å®šä¸‰ä¸ªæŒ‡é’ˆçš„åˆå§‹ä½ç½®ï¼ŒkæŒ‡å‘æœ€å·¦è¾¹ä¹Ÿå°±æ˜¯æœ€å°çš„æ•°ï¼Œiå’Œjåˆ†åˆ«æŒ‡å‘é™¤äº†kå¤„çš„ä¸¤ç«¯ï¼Œåˆ†åˆ«å‘ä¸­é—´ç§»åŠ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç§»åŠ¨æ–¹å¼ä¸ºi++æˆ–è€…jâ€“ã€‚ è®¡ç®—ä¸‰æ•°ä¹‹å’Œsumï¼Œå¦‚æžœsum = 0ï¼Œç›´æŽ¥è¿”å›žç»“æžœï¼›å¦‚æžœsum &gt; 0ï¼Œåº”è¯¥å‘å³ç§»åŠ¨iæŒ‡é’ˆï¼Œè§£é‡Šä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯éœ€è¦è®©å½“å‰çš„sumå€¼å‡å°æ…¢æ…¢å‘0è¶‹è¿‘ï¼Œi++çš„æ–¹å¼ä¼šè®©sumçš„å€¼å¢žå¤§ï¼Œè€Œjâ€“çš„æ–¹å¼ä¼šè®©sumçš„å€¼å‡å°ï¼Œæ‰€ä»¥åº”è¯¥å‘å³ç§»åŠ¨iæŒ‡é’ˆï¼›å¦‚æžœsum &lt; 0ï¼Œåº”è¯¥å‘å·¦ç§»åŠ¨jæŒ‡é’ˆã€‚ ç”±äºŽäº‹å…ˆå¯¹æ•°æ®è¿›è¡Œäº†æŽ’åºï¼ŒåŽ»é‡ä¹Ÿå˜å¾—æœ‰è¿¹å¯å¾ªï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ†æžé‡å¤æ•°æ®æ˜¯å¦‚ä½•äº§ç”Ÿçš„ã€‚çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ã€‚ åŽ»é™¤é‡å¤æ•°æ® æ‹¿ç¤ºä¾‹æ•°æ®[-1, 0, 1, 2, -1, -4]æ¥è¯´ï¼Œé¦–å…ˆå¯¹æ•°æ®æŽ’åºï¼Œå½“å‰kæŒ‡å‘-1ï¼ŒiæŒ‡å‘0ï¼ŒjæŒ‡å‘1ï¼Œå½“å‰ç»“æžœå°±æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç»“æžœ k i j -4 -1 -1 0 1 2 å½“kç»§ç»­ç§»åŠ¨ä¸€ä½ä»¥åŽï¼Œå‘çŽ°å½“å‰çš„æƒ…å†µä¹Ÿæ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç»“æžœï¼Œä½†æ˜¯å¾ˆæ˜Žæ˜¾å’Œä¸Šä¸€ç§ç»“æžœé‡å¤äº†ã€‚ç”±æ­¤ï¼Œäº§ç”Ÿé‡å¤ç»“æžœçš„åŽŸå› å°±åœ¨äºŽkäº†ï¼Œå¦‚æžœå­˜åœ¨ä¸¤ä¸ªkæŒ‡é’ˆæ‰€æŒ‡çš„æ•°é‡å¤ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å¾ªçŽ¯å°±å¯ä»¥ç›´æŽ¥è·³è¿‡ï¼Œè¿™æ ·å°±é¿å…äº†é‡å¤ç»“æžœçš„äº§ç”Ÿã€‚ k i j -4 -1 -1 0 1 2 å¦å¤–ï¼Œå¯¹äºŽå…¶ä»–ä¸¤ä¸ªæŒ‡é’ˆï¼ŒåŒæ ·ä¼šäº§ç”Ÿé‡å¤çš„æƒ…å†µï¼Œåˆ†æžè¿‡ç¨‹å’Œä¸Šé¢å¯¹kæŒ‡é’ˆçš„åˆ†æžç›¸åŒã€‚ ä»£ç ï¼š class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) &#123; //æŽ’åº + åŒæŒ‡é’ˆ List&lt;List&lt;Integer&gt;&gt; ternaryList = new ArrayList&lt;&gt;(); Arrays.sort(nums); //[-4, -1, -1, 0, 1, 2] //[-1, -1, 0, 1] for (int i = 0; i &lt; nums.length; i++) &#123; if (nums[i] &gt; 0) break; if (i &gt; 0 &amp;&amp; nums[i] == nums[i - 1]) continue; //åŽ»é‡ int i = i + 1; int j = nums.length - 1; while (i &lt; j) &#123; int sum = nums[i] + nums[i] + nums[j]; if (sum == 0) &#123; ternaryList.add(Arrays.asList(nums[i], nums[i], nums[j])); while (i &lt; j &amp;&amp; nums[i] == nums[i + 1]) i++; // åŽ»é‡ while (i &lt; j &amp;&amp; nums[j] == nums[j - 1]) j--; // åŽ»é‡ j--; i++; &#125; else if (sum &lt; 0) &#123; i++; &#125; else if (sum &gt; 0) &#123; j--; &#125; &#125; &#125; return ternaryList; &#125;&#125; å‰©ä¸‹çš„ä¸¤é“é¢˜è§£æ³•å’Œä¸‰æ•°ä¹‹å’ŒåŸºæœ¬ç›¸åŒï¼Œåªç»™å‡ºä»£ç ã€‚ æœ€æŽ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œclass Solution &#123; public int threeSumClosest(int[] nums, int target) &#123; Arrays.sort(nums); int result = nums[0] + nums[1] + nums[2]; for (int i = 0; i &lt; nums.length; i++) &#123; int j = i + 1, k = nums.length - 1; while (j &lt; k) &#123; int sum = nums[i] + nums[j] + nums[k]; if (Math.abs(sum - target) &lt; Math.abs(result - target)) &#123; result = sum; &#125; // ç§»åŠ¨æŒ‡é’ˆ if (sum == target) &#123; return sum; &#125; if (sum &gt; target) &#123; k--; &#125; else &#123; j++; &#125; &#125; &#125; return result; &#125;&#125; å››æ•°ä¹‹å’Œclass Solution &#123; public List&lt;List&lt;Integer&gt;&gt; fourSum(int[] nums, int target) &#123; List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;(); Arrays.sort(nums); for (int i = 0; i &lt; nums.length; i++) &#123; if (i &gt; 0 &amp;&amp; nums[i] == nums[i - 1]) continue; //åŽ»é‡ for (int j = i + 1; j &lt; nums.length; j++) &#123; if (j &gt; i + 1 &amp;&amp; nums[j] == nums[j - 1]) continue; //åŽ»é‡ int k = j + 1, l = nums.length - 1; while (k &lt; l) &#123; int sum = nums[i] + nums[j] + nums[k] + nums[l]; if (sum == target) &#123; result.add(Arrays.asList(nums[i], nums[j], nums[k], nums[l])); while (k &lt; l &amp;&amp; nums[k] == nums[k + 1]) k++; while (k &lt; l &amp;&amp; nums[l] == nums[l - 1]) l--; k++; l--; &#125; else if (sum &gt; target) &#123; l--; &#125; else if (sum &lt; target)&#123; k++; &#125; &#125; &#125; &#125; return result; &#125;]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
        <tag>two-pointers</tag>
        <tag>HashTable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Two pointer]]></title>
    <url>%2F2019%2F10%2F16%2FTwo%20pointers%2F</url>
    <content type="text"><![CDATA[ç››æœ€å¤šæ°´çš„å®¹å™¨ Category Difficulty Likes Dislikes algorithms Medium (58.43%) 847 - Tagsarray&nbsp;|&nbsp;two-pointers Companiesbloomberg ç»™å®š *n* ä¸ªéžè´Ÿæ•´æ•° *a*1ï¼Œ*a*2ï¼Œ...ï¼Œ*a*nï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ (*i*, *ai*) ã€‚åœ¨åæ ‡å†…ç”» *n* æ¡åž‚ç›´çº¿ï¼Œåž‚ç›´çº¿ *i* çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º (*i*, *ai*) å’Œ (*i*, 0)ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸Ž *x* è½´å…±åŒæž„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚ è¯´æ˜Žï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ï¼Œä¸” n çš„å€¼è‡³å°‘ä¸º 2ã€‚ å›¾ä¸­åž‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚ ç¤ºä¾‹: è¾“å…¥: [1,8,6,2,5,4,8,3,7]è¾“å‡º: 49 ä½œè€…ï¼šLeetCodeé“¾æŽ¥ï¼šhttps://leetcode-cn.com/problems/container-with-most-water/æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚ è§£é¢˜æ–¹æ³•æš´åŠ›æ³•ç¬¬ä¸€æ¬¡Submitçš„æ—¶å€™ï¼Œå¥ˆä½•ä¸çŸ¥é“åŒæŒ‡é’ˆï¼Œç”¨çš„æš´åŠ›æ³•ï¼Œè¿˜æœ‰ä¸€ç§LeetCodeå®˜æ–¹è§£ç­”ç§ä½¿ç”¨Javaå†…ç½®Mathå·¥å…·ç±»çš„æ¯”è¾ƒç®€ä»‹çš„å†™æ³•ã€‚ class Solution &#123; public int maxArea(int[] height) &#123;// //æš´åŠ›æ³•// int maxArea = 0;// for (int i = 0; i &lt; height.length; i++) &#123;// for (int j = i + 1; j &lt; height.length; j++) &#123;// int area = 0;// if (height[i] &lt;= height[j]) &#123;// area = height[i] * (j - i);// &#125; else &#123;// area = height[j] * (j - i);// &#125;// if (area &gt;= maxArea) &#123;// maxArea = area;// &#125;// &#125;// &#125;// return maxArea; //2.æš´åŠ›æ³•(ç²¾ç®€) int maxArea = 0; for (int i = 0; i &lt; height.length; i++) &#123; for (int j = i + 1; j &lt; height.length; j++) &#123; maxArea = Math.max(maxArea, Math.min(height[i], height[j]) * (j - i)); &#125; &#125; return maxArea; &#125;&#125; å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚ ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚ ##åŒæŒ‡é’ˆæ³• æ€è·¯ï¼šåŒæŒ‡é’ˆåˆ†åˆ«ä½äºŽå®¹å™¨ä¸¤ç«¯ï¼Œæ ¹æ®æŸä¸ªè§„åˆ™å‘å†…ç§»åŠ¨æŒ‡é’ˆï¼Œå¹¶ä¸”æ›´æ–°é¢ç§¯çš„æœ€å¤§å€¼ï¼Œç›´åˆ°i == jï¼Œè¿”å›žæœ€å¤§å€¼ã€‚ æ°´æ§½çš„é¢ç§¯å…¬å¼ï¼š$S = min(h[i], h[j]) * (j - i)$ å¦‚æžœçŸ­æ¿æˆ–è€…é•¿æ¿å‘ä¸­é—´ç§»åŠ¨ï¼Œjæˆ–è€…iå°±ä¼š-1ï¼Œ(j - i)å°±ä¼š-1ã€‚ å¦‚æžœç§»åŠ¨é•¿æ¿ï¼Œä¸‹ä¸€ä¸ªçŸ­æ¿min(h[i], h[j])ä¼šä¸å˜æˆ–è€…å˜å°ï¼Œç„¶è€Œåªè¦æŒ‡é’ˆå‘ç”Ÿäº†ç§»åŠ¨ï¼Œ(j - i)å¿…å˜å°ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªæ°´æ§½çš„é¢ç§¯ä¸€å®šä¸ä¼šå¤§äºŽä¸Šä¸€ä¸ªæ°´æ§½çš„é¢ç§¯ã€‚ å¦‚æžœç§»åŠ¨çŸ­æ¿ï¼Œä¸‹ä¸€ä¸ªçŸ­æ¿min(h[i], h[j])æ‰å¯èƒ½ä¼šå˜å¤§ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªæ°´æ§½çš„é¢ç§¯æ‰æœ‰å¯èƒ½å˜å¤§ã€‚ æ‰€ä»¥ï¼Œç§»åŠ¨è§„åˆ™å°±æ˜¯æ¯æ¬¡å‘ç€çŸ­æ¿çš„æ–¹å‘ç§»åŠ¨ã€‚ ä»£ç ï¼š class Solution &#123; public int maxArea(int[] height) &#123; //åŒæŒ‡é’ˆæ³• int head = 0, tail = height.length - 1, maxArea = 0; while (head &lt; tail) &#123; if (height[head] &lt;= height[tail]) &#123; maxArea = Math.max(height[head] * (tail - head), maxArea); head++; &#125; else &#123; maxArea = Math.max(height[tail] * (tail - head), maxArea); tail--; &#125; &#125; return maxArea; &#125;&#125; å¤æ‚åº¦ï¼š æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
        <tag>two-pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Final arrays in Java]]></title>
    <url>%2F2019%2F10%2F10%2FFinal%20arrays%20in%20Java%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰åœ¨åšç¬¬ä¸€ä¸ªå®‰å“é¡¹ç›®æ—¶ï¼Œåœ¨ä½¿ç”¨TimerTaskå’Œä½¿ç”¨Threadåˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶å€™ï¼Œå‘çŽ°å¦‚æžœåœ¨åŒ¿åæ–¹æ³•ä¸­å¯¹å±€éƒ¨å˜é‡è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡ï¼Œè€Œä½¿ç”¨æˆå‘˜å˜é‡çš„æ—¶å€™å°±ä¸ä¼šæŠ¥é”™ã€‚ä¸è¿‡ï¼Œå¦‚æžœå°†å…¶å†™æˆä¸‹é¢å°±ä¸ä¼šæŠ¥é”™äº†ï¼Œä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œæ˜Žæ˜Žå°†å˜é‡å£°æ˜Žæˆäº†finalç±»åž‹ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ä¿®æ”¹å…¶å€¼å‘¢ï¼Ÿ void myThread() &#123; final int[] i = &#123;0&#125;; Thread thread = new Thread(()-&gt; i[0]++); thread.start();&#125; æˆ‘ä»¬éœ€è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆåœ¨åŒ¿åæ–¹æ³•ä¸­å¯ä»¥ä¿®æ”¹æˆå‘˜å˜é‡è€Œä¸å¯ä»¥ä¿®æ”¹å±€éƒ¨å˜é‡ï¼Ÿ ä¸ºä»€ä¹ˆåŒ¿åæ–¹æ³•ä¸­åªèƒ½è®¿é—®finalç±»åž‹çš„å±€éƒ¨å˜é‡ï¼Ÿ ä¸ºä»€ä¹ˆfinalæ•°ç»„çš„å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼Ÿ åœ¨åŒ¿åæ–¹æ³•ä¸­ä½¿ç”¨çš„å±€éƒ¨å˜é‡ä¸ºä»€ä¹ˆåªèƒ½æ˜¯finalåŽŸå› æ˜¯Javaè®¾è®¡è€…æƒ³è¦åŒ¿åå‡½æ•°æˆ–è€…Lambdaå‡½æ•°å†…éƒ¨å¤–éƒ¨ä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨åŒ¿åæ–¹æ³•ä¸­ä½¿ç”¨å±€éƒ¨å˜é‡æ—¶ï¼Œå†…éƒ¨ç±»å¹¶ä¸æ˜¯çœŸæ­£åœ°ä½¿ç”¨è¯¥å˜é‡ï¼Œè€Œæ˜¯åœ¨åŒ¿åæ–¹æ³•ä¸­å¤åˆ¶ä¸€ä¸ªå‰¯æœ¬ï¼Œç”±äºŽæ˜¯å‰¯æœ¬ï¼Œæ‰€ä»¥å³ä½¿æ˜¯åœ¨åŒ¿åæ–¹æ³•ä¸­ä¿®æ”¹äº†è¯¥å˜é‡ï¼Œå±€éƒ¨å˜é‡ä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥åŒ¿åæ–¹æ³•ä½¿ç”¨çš„å±€éƒ¨å˜é‡åªèƒ½æ˜¯finalç±»åž‹çš„å˜é‡ã€‚ æ³¨ï¼šåœ¨Java8ä»¥å‰ï¼Œè®¿é—®ä»»ä½•å±€éƒ¨å˜é‡éƒ½è¦åŠ finalå…³é”®å­—ï¼Œè€Œåœ¨Java8ä¹‹åŽï¼Œåªè¦ä¸æ¶‰åŠä¿®æ”¹å±€éƒ¨å˜é‡çš„æ“ä½œï¼Œå°±å¯ä»¥ä¸ç”¨åŠ finalå…³é”®å­—ã€‚ ä½†æ˜¯ï¼Œå¯¹äºŽæˆå‘˜å˜é‡æ¥è¯´ï¼ŒåŒ¿åæ–¹æ³•ä¼šä¿å­˜å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œå› è€Œå†…éƒ¨ç±»ä¸­å¯¹ä»»ä½•å­—æ®µçš„ä¿®æ”¹éƒ½å›žçœŸå®žçš„ååº”åˆ°å¤–éƒ¨ç±»å®žä¾‹æœ¬èº«ä¸Šï¼Œæ‰€ä»¥ä¸éœ€è¦ç”¨finalæ¥ä¿®é¥°å®ƒã€‚å…·ä½“å¯ä»¥å‚è€ƒè¯¥åšå®¢ï¼šhttps://www.cnblogs.com/qq78292959/p/3745348.html Final arrayså¦‚æžœéžè¦å¯¹å±€éƒ¨å˜é‡è¿›è¡Œä¿®æ”¹æ€Žä¹ˆåŠžï¼Œé‚£å°±åªèƒ½ç”¨åˆ°ä¸Šé¢çš„finalæ•°ç»„æ–¹æ³•ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œfinalç±»åž‹çš„æ•°æ®æ˜¯ä¸å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæ­¤å¤„çš„finalæ•°ç»„çš„å€¼è¢«ä¿®æ”¹äº†å‘¢ï¼Ÿ ä¸‹é¢æ˜¯ä¸€ä¸ªé™æ€å¸¸é‡ï¼š public final int[] number = &#123;1, 2, 3&#125;; finalå…³é”®å­—èƒ½ä¿è¯æ•°æ®ä¸å¯ä»¥è¢«ä¿®æ”¹å¯¹äºŽåŸºæœ¬ç±»åž‹æ¥è¯´è¿™ç‚¹æ˜¯æˆç«‹çš„ï¼Œä½†å¯¹äºŽæ•°ç»„æ¥è¯´å°±ä¸æˆç«‹äº†ï¼Œå› ä¸ºæ•°ç»„å’Œç±»ä»¥åŠæŽ¥å£ä¸€æ ·ï¼Œæ˜¯å¼•ç”¨ç±»åž‹ï¼Œå¼•ç”¨æ•°æ®ç±»åž‹å®žé™…ä¸Šåªå‚¨å­˜äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œfinalåªèƒ½ä¿è¯å…¶å¼•ç”¨ä¸å˜ï¼Œå³è¿™ä¸ªæŒ‡é’ˆä¸å˜ï¼Œä½†æ˜¯æ•°ç»„ä¸­çš„å¯¹è±¡çš„å€¼è¿˜æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚è€Œä¸”ï¼Œå¼•ç”¨æ•°æ®ç±»åž‹çš„æ•°æ®æ˜¯å‚¨å­˜åœ¨å †å†…å­˜ä¸­çš„ï¼ŒåŒ¿åæ–¹æ³•å¯ä»¥å…±äº«ã€‚ æ³¨æ„ï¼šæ­£æ˜¯ç”±äºŽfinalæ•°ç»„çš„è¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥åœ¨éœ€è¦å®šä¹‰ä¸€ä¸ªå¸¸é‡æ•°ç»„çš„æ—¶å€™ï¼Œä¸è¦ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¿™æ ·å®šä¹‰ä¾ç„¶æ˜¯ä¼šè¢«ä¿®æ”¹å€¼çš„ã€‚ æ–‡ç« å¼€å§‹çš„ä»£ç å¯ä»¥é‡å†™Threadç±»ï¼Œå®šä¹‰Threadç±»çš„æˆå‘˜å˜é‡æ¥å®žçŽ°ç›¸åŒçš„åŠŸèƒ½ã€‚ private void myThread()&#123; class MyThread extends Thread &#123; private int i = 0; @Override public void run() &#123; super.run(); i++; System.out.println(i); &#125; &#125; MyThread myThread = new MyThread(); myThread.start();&#125; æ€»ç»“ åœ¨åŒ¿åæ–¹æ³•ä¸­ä½¿ç”¨çš„å±€éƒ¨å˜é‡åªèƒ½æ˜¯fianlç±»åž‹çš„ã€‚ Java8ä»¥åŽï¼Œåªè¦ä¸å¯¹å±€éƒ¨å˜é‡ä¿®æ”¹ï¼Œå±€éƒ¨å˜é‡å³ä½¿ä¸åŠ finalå…³é”®å­—ä¹Ÿå¯ä»¥è¢«åŒ¿åæ–¹æ³•è®¿é—®ã€‚ å¦‚æžœåŒ¿åæ–¹æ³•è¦ä¿®æ”¹å±€éƒ¨å˜é‡ï¼Œå¯ä»¥å°†å˜é‡å®šä¹‰æˆfinalæ•°ç»„çš„å½¢å¼ã€‚ å¦‚æžœè¦finalå‘æŒ¥å¸¸é‡ä½œç”¨ï¼Œfinalæ•°ç»„è¦æ…Žç”¨ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­çš„staticå…³é”®å­—]]></title>
    <url>%2F2019%2F10%2F10%2Fstatic%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[staticå…³é”®å­—æ˜¯ç»å¸¸ä¼šä½¿ç”¨åˆ°çš„ï¼Œä¹‹å‰ä¸€ç›´æ²¡æœ‰å¯¹è¯¥å…³é”®å­—è¿›è¡Œè¿‡æ·±å…¥åœ°å­¦ä¹ è¿‡ï¼Œä¸‹é¢å°±è®²è¿°ä¸€ä¸‹è¯¥å…³é”®å­—ä»¥åŠç”¨é€”ã€‚ staticå…³é”®å­—staticå…³é”®å­—è¡¨ç¤ºå…¨å±€æˆ–è€…é™æ€çš„æ„æ€ï¼Œå¯ä»¥å®žçŽ°ç±»ä¼¼å…¨å±€å˜é‡çš„ä½œç”¨ï¼Œç”¨staticä¿®é¥°å˜é‡æˆ–è€…æ–¹æ³•éƒ½æ˜¯ç‹¬ç«‹äºŽæŸä¸ªç±»çš„ï¼Œä¼šè¢«æ‰€æœ‰çš„è¯¥ç±»çš„å®žä¾‹å…±äº«ï¼Œæ‰€æœ‰å®žä¾‹çš„å¼•ç”¨éƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°æ–¹ï¼Œä»»ä½•ä¸€ä¸ªå®žä¾‹å¯¹å…¶çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´å…¶ä»–å®žä¾‹çš„å˜åŒ–ã€‚ public class Student &#123; private static int count; Student() &#123; count++; &#125; public static void main(String[] args) &#123; Student student = new Student(); Student student1 = new Student(); Student student2 = new Student(); System.out.println(Student.count); &#125;&#125;---------------Output:3 å¦‚ä¸Šé¢çš„ä»£ç ï¼Œè¿è¡Œç»“æžœä¸º3ï¼Œè¯´æ˜Žä¸‰ä¸ªç±»çš„å®žä¾‹æ˜¯å…±äº«é™æ€å˜é‡countçš„ï¼Œä½¿ç”¨ä¸Šé¢çš„ä»£ç å¯ä»¥ç»Ÿè®¡ä¸€ä¸ªç±»è¢«å®žä¾‹åŒ–äº†å¤šå°‘æ¬¡ã€‚ staticå…³é”®å­—çš„ç”¨é€” staticæ–¹æ³•å°±æ˜¯æ²¡æœ‰thisçš„æ–¹æ³•ã€‚åœ¨staticæ–¹æ³•å†…éƒ¨ä¸èƒ½è°ƒç”¨éžé™æ€æ–¹æ³•ï¼Œåè¿‡æ¥æ˜¯å¯ä»¥çš„ã€‚è€Œä¸”å¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡çš„å‰æä¸‹ï¼Œä»…ä»…é€šè¿‡ç±»æœ¬èº«æ¥è°ƒç”¨staticæ–¹æ³•ã€‚è¿™å®žé™…ä¸Šæ­£æ˜¯staticæ–¹æ³•çš„ä¸»è¦ç”¨é€”ã€‚ ä¸Šé¢æ˜¯ã€ŠThinking in Javaã€‹å¯¹staticå…³é”®å­—ä½œç”¨çš„è§£é‡Šï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œå°±æ˜¯staticæ–¹æ³•å¯ä»¥åœ¨ä¸ç”¨å®žä¾‹åŒ–å¯¹è±¡çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚ staticå˜é‡æœ‰staticå…³é”®å­—ä¿®é¥°çš„å˜é‡ä¸ºé™æ€å˜é‡ï¼Œè€Œæ²¡æœ‰staticä¿®é¥°çš„å˜é‡æ˜¯æˆå‘˜å˜é‡ï¼Œåœ¨å¯¹ç±»è¿›è¡Œå®žä¾‹åŒ–çš„æ—¶å€™ï¼Œæ— è®ºè¿›è¡Œå¤šå°‘æ¬¡å®žä¾‹åŒ–ï¼Œé™æ€å˜é‡ä¹Ÿåªä¼šè¢«å®žä¾‹åŒ–ä¸€æ¬¡ï¼Œè€Œæˆå‘˜å˜é‡åˆ™ä¸åŒï¼Œå®ƒæ˜¯ä¼´éšç€å®žä¾‹çš„ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®žä¾‹å°±ä¼šäº§ç”Ÿä¸€ä¸ªæˆå‘˜å˜é‡ã€‚ staticæˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºæŒ‰ç…§å®šä¹‰çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚ åœ¨C/C++ä¸­staticæ˜¯å¯ä»¥ä½œç”¨åŸŸå±€éƒ¨å˜é‡çš„ï¼Œä½†æ˜¯åœ¨Javaä¸­staticæ˜¯ä¸å…è®¸ç”¨æ¥ä¿®é¥°å±€éƒ¨å˜é‡ã€‚ staticæ–¹æ³•æœ‰staticå…³é”®å­—ä¿®é¥°çš„æ–¹æ³•å¯ä»¥ç›´æŽ¥é€šè¿‡ç±»åè¿›è¡Œè°ƒç”¨ã€‚ç”±äºŽstaticæ–¹æ³•åœ¨ç±»åŠ è½½çš„æ—¶å€™å°±å·²ç»å­˜åœ¨äº†ï¼Œå®ƒä¸ä¾èµ–äºŽä»»ä½•å®žä¾‹ã€‚ æ³¨æ„ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½è°ƒç”¨éžé™æ€æˆå‘˜å’Œéžé™æ€æ–¹æ³•ï¼Œåœ¨é™æ€æ–¹æ³•åŠ è½½çš„æ—¶å€™éžé™æ€æˆå‘˜å’Œæ–¹æ³•è¿˜æœªåŠ è½½ï¼›ç„¶è€Œï¼Œåœ¨éžé™æ€æ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•ã€‚ staticä»£ç å—staticå…³é”®å­—çš„ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç”¨æ³•å°±æ˜¯é™æ€ä»£ç å—ã€‚é™æ€ä»£ç å—åŒæ ·æ˜¯åœ¨è™šæ‹ŸæœºåŠ è½½ç±»çš„æ—¶å€™å°±ä¼šä¼šè¢«åŠ è½½æ‰§è¡Œï¼Œè€Œä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æžœstaticä»£ç å—æœ‰å¤šä¸ªï¼ŒJVMå°†æŒ‰ç…§å®ƒä»¬åœ¨ç±»ä¸­å‡ºçŽ°çš„å…ˆåŽé¡ºåºä¾æ¬¡æ‰§è¡Œå®ƒä»¬ã€‚ é™æ€ä»£ç å—ä½œç”¨é™æ€ä»£ç å—çš„ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä½œç”¨å°±æ˜¯å¯ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚ æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š public class Student &#123; private Date birthDate; public Student(Date birthDate) &#123; this.birthDate = birthDate; &#125; boolean isBornBoomer() &#123; Date startDate = Date.valueOf("1946"); Date endDate = Date.valueOf("1964"); return birthDate.compareTo(startDate)&gt;=0 &amp;&amp; birthDate.compareTo(endDate) &lt; 0; &#125;&#125; isBornBoomeræ˜¯åˆ¤æ–­è¯¥äººæ˜¯å¦æ˜¯1946å¹´åˆ°1964å¹´ä¹‹é—´å‡ºç”Ÿçš„ï¼Œæ¯æ¬¡isBornBoomerè¢«è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šç”ŸæˆstartDateå’ŒendDateä¸¤ä¸ªå¯¹è±¡ï¼Œé€ æˆäº†ç©ºé—´æµªè´¹ï¼Œå¯ä»¥æ”¹æˆä¸‹é¢çš„å½¢å¼ï¼š public class Student &#123; private Date birthDate; private static Date startDate,endDate; public Student(Date birthDate) &#123; this.birthDate = birthDate; &#125; static &#123; Date startDate = Date.valueOf("1946"); Date endDate = Date.valueOf("1964"); &#125; boolean isBornBoomer() &#123; return birthDate.compareTo(startDate)&gt;=0 &amp;&amp; birthDate.compareTo(endDate) &lt; 0; &#125;&#125; æ‰€ä»¥ï¼Œå¯ä»¥å¯¹åªè¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–çš„æ“ä½œæ”¾åœ¨staticä»£ç å—ä¸­è¿›è¡Œã€‚ é™æ€ä»£ç å—çš„æ‰§è¡Œæ—¶æœºåœ¨Javaä¸­ï¼Œä¸€ä¸ªç±»çš„åŠ è½½è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š1. è£…è½½ 2. è¿žæŽ¥ 3. åˆå§‹åŒ–ã€‚ é™æ€ä»£ç å—æ˜¯åœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œçš„ï¼Œåˆå§‹åŒ–é˜¶æ®µï¼Œjvmä¸»è¦å®Œæˆå¯¹é™æ€å˜é‡çš„åˆå§‹åŒ–ï¼Œé™æ€å—æ‰§è¡Œç­‰å·¥ä½œã€‚ Class A&#123; static&#123; System.out.println("static block invoked!") &#125;&#125; ä¸Šé¢çš„ä»£ç ä¸­ new A()ä¼šæ‰§è¡Œstaticä»£ç å—ä¸­çš„å†…å®¹ã€‚ Class.forName(&quot;A&quot;)ä¼šæ‰§è¡Œä»£ç å—ä¸­çš„å†…å®¹ï¼›è¿™ä¸ªè¿‡ç¨‹ç›¸å½“äºŽClass.forName(&quot;A&quot;, true, A.class.getClassLoader())ã€‚ Class.forName(&quot;A&quot;, false, A.class.getClassLoader())ä¸ä¼šæ‰§è¡Œä»£ç å—ä¸­çš„å†…å®¹ï¼›å› ä¸ºfalseæŒ‡æ˜Žäº†åœ¨ç±»åŠ è½½çš„è¿‡ç¨‹ä¸­ä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œå°±ä¸ä¼šæ‰§è¡Œstaticä»£ç å—äº†ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç½‘ç»œçŸ¥è¯†ç‚¹æ•´ç†]]></title>
    <url>%2F2019%2F09%2F27%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[æœ¬å­¦æœŸå­¦ä¹ äº†è®¡ç®—æœºç½‘ç»œï¼Œæœ¬æ–‡å°†æ•´ç†è®¡ç®—æœºç½‘ç»œçš„ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œä¾›è‡ªå·±ä»¥åŽæŸ¥é˜…ã€‚ è®¡ç®—æœºç½‘ç»œçš„å‡ ç§åˆ†å±‚ç»“æž„è®¡ç®—æœºç½‘ç»œé€šå¸¸å¯ä»¥è¿›è¡Œä¸‹é¢çš„å‡ ç§åˆ†å±‚æ–¹å¼ï¼š ä¸ƒå±‚åˆ’åˆ†ä¸ºï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚ äº”å±‚åˆ’åˆ†ä¸ºï¼šåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚ å››å±‚åˆ’åˆ†ä¸ºï¼šåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæŽ¥å£å±‚ã€‚ ä¸‹é¢åŸºæœ¬ä»¥äº”å±‚æž¶æž„ä¸ºæ ‡å‡†è®²è§£ æ¯å±‚å¸¸ç”¨çš„ç½‘ç»œåè®® å±‚ ç½‘ç»œåè®® åº”ç”¨å±‚ http DNS FTP TFTP Telnet SMTP ä¼ è¾“å±‚ TCP UDP ç½‘ç»œå±‚ IP ICMP RIP ICMP æ•°æ®é“¾è·¯å±‚ ARP RARP æ¯å±‚è¾ƒé‡è¦çš„åè®®åº”ç”¨å±‚ åè®®åç§° åŸºæœ¬ä»‹ç» http è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ç”¨äºŽä»Žä¸‡ç»´ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ï¼ŒåŸºäºŽTCP/IPåè®®é€šä¿¡ã€‚ DNS å°†åŸŸåè§£æžä¸ºIPåœ°å€çš„åè®®ï¼ŒåŸºäºŽUDPåè®®é€šä¿¡ã€‚ FTP æ–‡ä»¶ä¼ è¾“åè®®ã€‚ TFTP ç®€å•æ–‡ä»¶ä¼ è¾“åè®®ã€‚ Telnet ä¸ºç”¨æˆ·æä¾›äº†åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå®Œæˆè¿œç¨‹ä¸»æœºå·¥ä½œçš„èƒ½åŠ›ã€‚ SMTP ç®€å•é‚®ä»¶ä¼ è¾“åè®®ã€‚ ä¼ è¾“å±‚ åè®®åç§° åŸºæœ¬ä»‹ç» TCP TCPåè®®æ˜¯ä¸€ç§é¢å‘è¿žæŽ¥çš„ã€å¯é çš„ã€åŸºäºŽå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚ UDP UDPåè®®æ˜¯ä¸€ç§æ— è¿žæŽ¥çš„ç®€å•ä¼ è¾“åè®®ã€‚ ç½‘ç»œå±‚ åè®®åç§° åŸºæœ¬ä»‹ç» IP IPåè®®ä¸ä»…å®šä¹‰äº†æ•°æ®ä¼ è¾“æ—¶çš„åŸºæœ¬å•å…ƒå’Œæ ¼å¼ï¼Œè¿˜å®šä¹‰äº†æ•°æ®æŠ¥çš„é€’äº¤æ–¹æ³•å’Œè·¯ç”±é€‰æ‹©ã€‚ ICMP é¢å‘æ— è¿žæŽ¥çš„åè®®ï¼Œç”¨äºŽä¼ è¾“å‡ºé”™æŠ¥å‘ŠæŽ§åˆ¶ä¿¡æ¯ã€‚ï¼ˆpingå‘½ä»¤å°±æ˜¯ä½¿ç”¨çš„è¯¥åè®®ï¼Œpingè™½ç„¶å¤„åœ¨åº”ç”¨å±‚ï¼Œä½†æ˜¯å¯ä»¥ç›´æŽ¥ä½¿ç”¨ç½‘ç»œå±‚çš„ICMPåè®®ï¼‰ RIP æ˜¯ä¸€ç§å†…éƒ¨ç½‘å…³åè®®ï¼Œæ˜¯ä¸€ç§åŠ¨æ€è·¯ç”±é€‰æ‹©åè®®ï¼Œç”¨äºŽè‡ªæ²»ç³»ç»Ÿï¼ˆASï¼‰å†…çš„è·¯ç”±ä¿¡æ¯çš„ä¼ é€’ã€‚ æ•°æ®é“¾è·¯å±‚ åè®®åç§° åŸºæœ¬ä»‹ç» ARP åœ°å€è§£æžåè®®ï¼Œå¯ä»¥æ ¹æ®IPåœ°å€èŽ·å–ç‰©ç†åœ°å€ã€‚ RARP åå‘åœ°å€è½¬æ¢åè®®ï¼Œå¯ä»¥æ ¹æ®ç‰©ç†åœ°å€èŽ·å–IPåœ°å€ã€‚ å¸¸ç”¨ç«¯å£å·æ¦‚è¿°è®¡ç®—æœºç«¯å£å·æ€»æ•°ï¼š65535ã€‚ 0-1023ï¼š ç³»ç»Ÿç«¯å£ï¼Œä¹Ÿå«å…¬è®¤ç«¯å£ï¼Œè¿™äº›ç«¯å£åªæœ‰ç³»ç»Ÿç‰¹è®¸çš„è¿›ç¨‹æ‰èƒ½ä½¿ç”¨ã€‚ 1024~65535ï¼šç”¨æˆ·ç«¯å£ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰è¿™äº›ç«¯å£çš„ä½œç”¨ã€‚ å¸¸ç”¨ç«¯å£ åè®®/æœåŠ¡åç§° ç«¯å£å· http 80 https 443 wwwä»£ç†æœåŠ¡ 8080 ssh 22 DNS 53 FTP 20ï¼ˆç”¨äºŽè¿žæŽ¥ï¼‰ã€21ï¼ˆç”¨äºŽä¼ è¾“ï¼‰ Telnet 23]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é…ç½®WireSharkæŠ“å–httpsæ•°æ®åŒ…]]></title>
    <url>%2F2019%2F09%2F27%2F%E9%85%8D%E7%BD%AEWireShark%E6%8A%93%E5%8F%96https%E6%95%B0%E6%8D%AE%E5%8C%85%2F</url>
    <content type="text"><![CDATA[é…ç½®çŽ¯å¢ƒå˜é‡SSLKEYLOGFILEä¸ºE:\ssl_key\sslog.logã€‚ å®Œå…¨é€€å‡ºchromeæˆ–è€…firefoxæµè§ˆå™¨ï¼Œç„¶åŽé‡æ–°æ‰“å¼€ã€‚æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä¸€ä¸ªHTTPS ç½‘é¡µï¼Œç„¶åŽæ‰“å¼€åˆšæ‰SSLKEYLOGFILEçŽ¯å¢ƒå˜é‡å€¼çš„æ–‡ä»¶è·¯å¾„å°±å¯ä»¥çœ‹åˆ°éšæœºå­—ç¬¦ä¸²è®°å½•ã€‚ é…ç½®WireSharkã€‚æ‰“å¼€ç¼–è¾‘-&gt;é¦–é€‰é¡¹-&gt;Protocolsï¼Œæ‰“å¼€SSLå¯¹å…¶è¿›è¡Œç¼–è¾‘ï¼ˆæ³¨ï¼šwiresharkåœ¨æŸæ¬¡ç‰ˆæœ¬æ›´æ–°ä¹‹åŽåŽ»æŽ‰äº†SSLé€‰é¡¹ï¼Œæ²¡æœ‰SSLé€‰é¡¹çš„éœ€è¦è®¾ç½®TSLï¼‰ï¼Œå°†æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„æ·»åŠ åˆ°(Pre)-Master-Securet log fileã€‚ è®¿é—®www.liuergo.top ï¼Œåœ¨WireSharkä¸­å¼€å§‹æŠ“åŒ…ï¼Œå¯ä»¥å‘çŽ°httpsçš„æ•°æ®åŒ…å¯ä»¥è¢«æŠ“åˆ°äº†ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
        <category>WireShark</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>WireShark</tag>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaåºåˆ—åŒ–]]></title>
    <url>%2F2019%2F09%2F26%2FJava%E5%BA%8F%E5%88%97%E5%8C%96%2F</url>
    <content type="text"><![CDATA[åºåˆ—åŒ–ä»‹ç» åºåˆ—åŒ–ï¼šå°†å¯¹è±¡å†™å…¥åˆ°IOæµä¸­ ååºåˆ—åŒ–ï¼šå°†å¯¹è±¡ä»ŽIOæµä¸­æ¢å¤ åºåˆ—åŒ–çš„æ„ä¹‰ï¼šåºåˆ—åŒ–æœºåˆ¶å…è®¸å°†å®žçŽ°åºåˆ—åŒ–çš„Javaå¯¹è±¡è½¬æ¢ä½å­—èŠ‚åºåˆ—ï¼Œè¿™äº›å­—èŠ‚åºåˆ—å¯ä»¥ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œä»¥è¾¾åˆ°ä»¥åŽæ¢å¤æˆåŽŸæ¥çš„å¯¹è±¡ã€‚åºåˆ—åŒ–æœºåˆ¶ä½¿å¾—å¯¹è±¡å¯ä»¥è„±ç¦»ç¨‹åºçš„è¿è¡Œè€Œç‹¬ç«‹å­˜åœ¨ï¼Œè€Œä¸”è¿™æ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯ç‹¬ç«‹äºŽJVMè¿›è¡Œçš„ã€‚ ä½¿ç”¨åœºæ™¯ï¼šæ‰€æœ‰åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„å¯¹è±¡éƒ½éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨RMI(è¿œç¨‹æ–¹æ³•è°ƒç”¨)æ—¶ï¼›æ‰€æœ‰éœ€è¦ä¿å­˜åˆ°ç£ç›˜ä¸Šçš„Javaå¯¹è±¡å¿…é¡»æ˜¯å¯ä»¥è¢«åºåˆ—åŒ–çš„ã€‚é€šå¸¸ç¨‹åºåˆ›å»ºçš„æ¯ä¸ªJavaBeanéƒ½è¦å®žçŽ°SerializeableæŽ¥å£ã€‚ å®žçŽ°åºåˆ—åŒ–å¦‚æžœä¸€ä¸ªç±»è¦å®žçŽ°åºåˆ—åŒ–ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åº”è¯¥å®žçŽ°SerializableæŽ¥å£æˆ–è€…ExternalizableæŽ¥å£ã€‚ SerializableæŽ¥å£SerializableæŽ¥å£æ˜¯ä¸ªæ ‡è®°æŽ¥å£ï¼Œå’Œä¹‹å‰æåˆ°çš„RandomAccessæŽ¥å£ä¸€æ ·ï¼ŒæŽ¥å£ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•ã€‚ä¸€æ—¦å®žçŽ°äº†è¯¥ç±»ï¼Œå°±è¡¨æ˜Žè¯¥ç±»æ˜¯å¯åºåˆ—åŒ–çš„ã€‚ åºåˆ—åŒ–æ­¥éª¤ ç›¸åº”çš„ç±»å®žçŽ°SerializeableæŽ¥å£ã€‚ Student.java /** * @paragram: SerializeDemo * @description: å­¦ç”Ÿç±» * @auhor: liuergo * @date: 2019-09-26 21:55 */public class Student implements Serializable &#123; private String name; private int age; public Student(String name, int age) &#123; this.name = name; this.age = age; &#125; @Override public String toString() &#123; return "Student&#123;" + "name='" + name + '\'' + ", age='" + age + '\'' + '&#125;'; &#125; åˆ›å»ºä¸€ä¸ªObjectOutputStreamè¾“å‡ºæµï¼Œå¹¶è°ƒç”¨ObjectOutputStreamå¯¹è±¡çš„writeObjectè¾“å‡ºå¯åºåˆ—åŒ–å¯¹è±¡ã€‚ public static void main(String[] args) &#123; try &#123; ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("Student.txt")); Student student = new Student("äºŒç‹—", 18); objectOutputStream.writeObject(student); &#125; catch (IOException e) &#123; e.printStackTrace() &#125;&#125; è¿™æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªStudent.txtæ–‡ä»¶ã€‚ ååºåˆ—åŒ–æ­¥éª¤åˆ›å»ºä¸€ä¸ªObjectInputStreamè¾“å…¥ï¼Œå¹¶è°ƒç”¨ObjectInputStreamå¯¹è±¡çš„readObjectæ–¹æ³•ã€‚ public static void main(String[] args) &#123; try &#123; ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream("Student.txt")); Student student = (Student) objectInputStream.readObject(); System.out.println(student.toString()); &#125; catch (IOException | ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125;//è¾“å‡ºç»“æžœ//Student&#123;name='äºŒç‹—', age='18'&#125; ååºåˆ—åŒ–ä¸éœ€è¦è°ƒç”¨æž„é€ æ–¹æ³•ï¼Œå…¶ååºåˆ—åŒ–çš„å¯¹è±¡æ˜¯ç”±JVMè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œä¸éœ€è¦æž„é€ æ–¹æ³•ç”Ÿæˆã€‚ å¯¹åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡åºåˆ—åŒ–public static void main(String[] args) &#123; try &#123; ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("Student")); Student student = new Student("äºŒç‹—", 18); Student student1 = new Student("å¤§é¹…", 18); Student student2 = new Student("ä¸‰è™Ž", 19); objectOutputStream.writeObject(student); objectOutputStream.writeObject(student1); objectOutputStream.writeObject(student2); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; try &#123; ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream("Student")); Student student = (Student) objectInputStream.readObject(); System.out.println(student.toString()); &#125; catch (IOException | ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125;//è¿è¡Œç»“æžœ//Student&#123;name='äºŒç‹—', age='18'&#125; ä»Žè¿è¡Œç»“æžœå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ä¹‹åŽï¼Œå¹¶ä¸ä¼šå†æ¬¡å¯¹å…¶è¿›è¡Œåºåˆ—åŒ–ã€‚ æ‰€ä»¥ï¼Œè¯¥åºåˆ—åŒ–ç®—æ³•å­˜åœ¨è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æžœåœ¨å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ä¹‹åŽï¼Œéœ€è¦ä¿®æ”¹è¯¥å¯¹è±¡çš„å†…å®¹ï¼Œç¬¬äºŒæ¬¡åºåˆ—åŒ–å¹¶ä¸ä¼šæˆåŠŸã€‚ transientå…³é”®å­—å¦‚æžœæœ‰æ—¶å€™å¯¹è±¡çš„æŸäº›å±žæ€§ä¸éœ€è¦åºåˆ—åŒ–ã€‚è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨è¯¥å…³é”®å­—é€‰æ‹©ä¸éœ€è¦åºåˆ—åŒ–çš„å±žæ€§ã€‚ public class Student implements Serializable&#123; private transient String name; private int age; ...&#125; è¿™æ—¶åºåˆ—åŒ–çš„ç»“æžœå°±å˜æˆäº†Student{name=&#39;null&#39;, age=&#39;18&#39;}ï¼Œè¿™æ ·ï¼Œåºåˆ—åŒ–çš„æ—¶å€™å°±è‡ªåŠ¨å¿½ç•¥äº†nameè¿™ä¸ªå±žæ€§ã€‚ ExternalizableæŽ¥å£ Externalizable.java public interface Externalizable extends java.io.Serializable &#123; void writeExternal(ObjectOutput out) throws IOException; void readExternal(ObjectInput in) throws IOException, ClassNotFoundException;&#125; å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æŽ¥å£æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œå®žçŽ°è¯¥æŽ¥å£ï¼Œå¿…é¡»è¦å®žçŽ°writeExternalã€readExternalä¸¤ä¸ªæ–¹æ³•ã€‚ public class Student implements Externalizable &#123; private String name; private int age; public Student(String name, int age) &#123; this.name = name; this.age = age; &#125; @Override public void writeExternal(ObjectOutput out) throws IOException &#123; StringBuffer reverseString = new StringBuffer(this.name).reverse(); out.writeObject(reverseString); out.writeInt(this.age); &#125; @Override public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException &#123; this.name = ((StringBuffer) in.readObject()).reverse().toString(); this.age = in.readInt(); &#125;&#125; Studentç±»ç»§æ‰¿ExternalizableæŽ¥å£ä¹‹åŽï¼Œå®žçŽ°ä¸¤ä¸ªæ–¹æ³•ï¼Œåœ¨writeExternalæ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œä¸€åŠ å¯†ä»¥ä¿è¯å®‰å…¨æ€§ï¼Œæ³¨æ„è¦åœ¨readExternalæ–¹æ³•ä¸­å†™ç›¸åº”çš„è§£å¯†æ–¹æ³•ï¼›è€Œä¸”å¦‚æžœä¸éœ€è¦å¯¹æŸä¸ªå±žæ€§è¿›è¡Œåºåˆ—åŒ–çš„è¯ï¼Œå°±å¯ä»¥ç›´æŽ¥åŽ»æŽ‰æŸä¸ªå±žæ€§åºåˆ—åŒ–çš„è¯­å¥ï¼Œç›¸å½“äºŽå®žçŽ°äº†transientå…³é”®å­—çš„ä½œç”¨ã€‚ public static void main(String[] args) throws Exception&#123; Student student = new Student("äºŒç‹—", 18); try &#123; ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("Student")); objectOutputStream.writeObject(student); ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream("Student")); Student student1 = (Student) objectInputStream.readObject(); System.out.println(student1); &#125; catch (IOException | ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125; åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ä»£ç å’Œä¹‹å‰çš„æ˜¯ä¸€æ ·çš„ï¼Œçœ‹åˆ°è¿™é‡Œå¯èƒ½æˆ–äº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ä¸Šé¢çš„ä¸€æ®µä»£ç ä¸­ï¼Œå¹¶æ²¡æœ‰çœ‹åˆ°åˆšåˆšçš„writeExternalå’ŒreadExternalè¢«æ˜¾å¼è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ–¹æ³•åˆ°åº•æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„å‘¢ï¼Ÿ æŸ¥çœ‹ObjectOutputStreamçš„æºç ï¼Œå¯¹äºŽä¸€ä¸ªå®žçŽ°äº†EXternalizableæŽ¥å£çš„ç±»æ¥è¯´ï¼Œå¯ä»¥çœ‹å‡ºwriteObjectçš„è°ƒç”¨æ ˆï¼š writeObject-&gt;writeObject0-&gt;writeOrdinaryObject-&gt;writeExternalData ObjectOutputStream.java private void writeObject0(Object obj, boolean unshared) throws IOException&#123;......// remaining cases if (obj instanceof String) &#123; writeString((String) obj, unshared); &#125; else if (cl.isArray()) &#123; writeArray(obj, desc, unshared); &#125; else if (obj instanceof Enum) &#123; writeEnum((Enum&lt;?&gt;) obj, desc, unshared); &#125; else if (obj instanceof Serializable) &#123; writeOrdinaryObject(obj, desc, unshared); &#125;......&#125;private void writeOrdinaryObject(Object obj, ObjectStreamClass desc, boolean unshared) throws IOException&#123;...... if (desc.isExternalizable() &amp;&amp; !desc.isProxy()) &#123; writeExternalData((Externalizable) obj); &#125; else &#123; writeSerialData(obj, desc); &#125;......&#125;/** * Writes externalizable data of given object by invoking its * writeExternal() method. */private void writeExternalData(Externalizable obj) throws IOException &#123; PutFieldImpl oldPut = curPut; curPut = null; if (extendedDebugInfo) &#123; debugInfoStack.push("writeExternal data"); &#125; SerialCallbackContext oldContext = curContext; try &#123; curContext = null; if (protocol == PROTOCOL_VERSION_1) &#123; obj.writeExternal(this); &#125; else &#123; bout.setBlockDataMode(true); obj.writeExternal(this); bout.setBlockDataMode(false); bout.writeByte(TC_ENDBLOCKDATA); &#125; &#125; finally &#123; curContext = oldContext; if (extendedDebugInfo) &#123; debugInfoStack.pop(); &#125; &#125;&#125; â­ä¸Šé¢çš„éƒ¨åˆ†æºç ç»™å‡ºäº†è°ƒç”¨æ ˆçš„åŽä¸‰ä¸ªæ–¹æ³•ï¼Œé€šè¿‡æºç å¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹å‡ºï¼Œç”±äºŽExternalizableæŽ¥å£ä¹Ÿå®žçŽ°äº†SerializableæŽ¥å£ï¼Œæ‰€ä»¥åœ¨writeObject0æ–¹æ³•ä¸­é¦–å…ˆç»è¿‡obj instanceof Serializableè¿›å…¥writeOrdinaryObjectæ–¹æ³•ï¼Œåœ¨è¿™é‡Œå¯¹è¯¥å¯¹è±¡æ˜¯å¦å®žçŽ°äº†ExternalizableæŽ¥å£è¿›è¡Œäº†åˆ¤æ–­ï¼ˆå¦‚æžœæ˜¯ç»§æ‰¿äº†SerializableæŽ¥å£ï¼Œä¼šè°ƒç”¨writeSerialDataæ–¹æ³•ï¼Œè¿™ç§æƒ…å†µä¼šåœ¨ä¸‹é¢è®²è§£ï¼‰ï¼Œæœ€åŽè°ƒç”¨writeExternalDataæ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è¯¥æ–¹æ³•ä¸­ä¼šè°ƒç”¨åœ¨ç±»ä¸­é‡å†™çš„writeExternalæ–¹æ³•ã€‚ ðŸžç¬¬ä¸€æ¬¡è¿è¡Œçš„æ—¶å€™ï¼ŒæŠ¥äº†ä»¥ä¸‹å¼‚å¸¸ï¼Œno valid constructorï¼Œæ²¡æœ‰åˆæ³•çš„æž„é€ å™¨ï¼Œè¿™æ˜¯å› ä¸ºStudentç±»ä¸­æ²¡æœ‰ä¸€ä¸ªæ— å‚çš„æž„é€ å™¨ã€‚åœ¨é€šè¿‡å®žçŽ°æŽ¥å£Externalizableè¿›è¡Œåºåˆ—åŒ–è¯»å–å¯¹è±¡æ—¶ï¼Œä¼šè°ƒç”¨è¢«åºåˆ—åŒ–ç±»çš„æ— å‚æž„é€ å™¨åŽ»åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åŽå†å°†è¢«ä¿å­˜å¯¹è±¡çš„å­—æ®µçš„å€¼åˆ†åˆ«å¡«å……åˆ°æ–°å¯¹è±¡ä¸­ã€‚æ‰€ä»¥ï¼Œå®žçŽ°ExternalizableæŽ¥å£çš„ç±»å¿…é¡»è¦æä¾›ä¸€ä¸ªpublicçš„æ— å‚çš„æž„é€ å™¨ï¼Œå¢žåŠ ä¸€ä¸ªæ— å‚æž„é€ å™¨ä¹‹åŽå°±ä¸ä¼šæŠ¥è¿™ä¸ªå¼‚å¸¸äº†ã€‚ serialVersionUIDåœ¨å­¦ä¹ é›†åˆç±»çš„æ—¶å€™ç»å¸¸èƒ½åœ¨æºç ä¸­çœ‹è§serialVersionUIDï¼Œå½“æ—¶åªæ˜¯çŸ¥é“å’Œåºåˆ—åŒ–æœ‰å…³ï¼Œä»Šå¤©å°±æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚ JVMæ˜¯å¦å…è®¸ååºåˆ—åŒ–ï¼Œä¸ä»…å–å†³äºŽç±»è·¯å¾„å’ŒåŠŸèƒ½ä»£ç æ˜¯å¦ä¸€è‡´ï¼Œä¸€ä¸ªéžå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯ä¸¤ä¸ªç±»çš„åºåˆ—åŒ– ID æ˜¯å¦ä¸€è‡´ï¼Œå³serialVersionUIDã€‚ å¦‚æžœååºåˆ—åŒ–æ—¶å€™çš„ä½¿ç”¨çš„åºåˆ—åŒ–IDä¸Žåºåˆ—åŒ–æ—¶ä½¿ç”¨çš„IDä¸åŒçš„è¯ï¼Œå°±ä¼šæŠ¥InvalidClassExceptionå¼‚å¸¸ã€‚ éœ€è¦ç‰¹åˆ«è¯´æ˜Žçš„æ˜¯ï¼Œå¦‚æžœæ–°ç±»ä¸­å®žä¾‹å˜é‡çš„ç±»åž‹ä¸Žåºåˆ—åŒ–æ—¶ç±»çš„ç±»åž‹ä¸ä¸€è‡´ï¼Œåˆ™ä¼šååºåˆ—åŒ–å¤±è´¥ï¼Œè¿™æ—¶å€™éœ€è¦æ›´æ”¹serialVersionUIDã€‚ â­æ‰€ä»¥ï¼Œåœ¨ç¼–å†™æŸä¸ªJavaBeanæ—¶ï¼Œæœ€å¥½æ˜¯ç»™è¿™ä¸ªserialVersionUIDèµ‹å€¼ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ä»¥åŽåœ¨æ›´æ–°ç±»çš„æ—¶å€™äº§ç”Ÿå¼‚å¸¸ï¼Œæ–¹ä¾¿å‡çº§ã€‚ ArrayListçš„åºåˆ—åŒ–æœ€åˆå­¦ä¹ åºåˆ—åŒ–çš„åŽŸå› ï¼Œæ˜¯å› ä¸ºä¸€å¼€å§‹çœ‹ArrayListæºç çš„æ—¶å€™ï¼Œä¸çŸ¥é“serialVersionUIDä¸€å¤§ä¸²æ•°å­—æ˜¯å¹²å˜›çš„ï¼Œä¹Ÿä¸çŸ¥é“transientå…³é”®å­—çš„å«ä¹‰ï¼ŒçŽ°åœ¨å­¦ä¹ å®Œåºåˆ—åŒ–ä¹‹åŽå†å›žè¿‡å¤´æ¥çœ‹ArrayListçš„æºç ã€‚ä»ŽArrayListçš„æºç å¼€å§‹ï¼Œæˆ‘ä»¬é¦–å…ˆå…³æ³¨ä¸‹é¢çš„éƒ¨åˆ†ã€‚ public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable&#123; private static final long serialVersionUID = 8683452581122892189L; transient Object[] elementData; // non-private to simplify nested class access&#125; å¯ä»¥çœ‹åˆ°ï¼Œåº•å±‚çš„å®žçŽ°æ•°ç»„ä½¿ç”¨äº†transientå…³é”®å­—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒArrayListæ˜¯ä¸ä¼šè¢«åºåˆ—åŒ–çš„å—ï¼Ÿ public static void main(String[] args) &#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); list.add(1); list.add(2); list.add(3); try &#123; ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("ArrayList")); objectOutputStream.writeObject(list); ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream("ArrayList")); ArrayList&lt;Integer&gt; list1 = (ArrayList&lt;Integer&gt;) objectInputStream.readObject(); System.out.println(list1); &#125; catch (IOException | ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125;//è¾“å‡ºç»“æžœ//[1, 2, 3] ç„¶è€Œåœ¨ç»è¿‡æµ‹è¯•ä¹‹åŽï¼Œå¯ä»¥å‘çŽ°ï¼ŒArrayListè¢«åºåˆ—åŒ–æˆåŠŸäº†ï¼Œé‚£ä¹ˆä½¿ç”¨äº†transientå…³é”®å­—ä¸ºä»€ä¹ˆè¿˜ä¼šè¢«åºåˆ—åŒ–ï¼Ÿæ—¢ç„¶è¦åºåˆ—åŒ–ArrayListï¼Œåˆæ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¯¥å…³é”®å­—å‘¢ï¼Ÿ å…¶å®žäº‹æƒ…çš„çœŸç›¸å°±åœ¨äºŽArrayListä¸­çš„ä¸¤ä¸ªæ–¹æ³•writeObjectå’ŒreadObjectæ–¹æ³•ï¼Œä¸‹é¢æ˜¯ä¸¤ä¸ªæ–¹æ³•çš„æºç éƒ¨åˆ†ã€‚ private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException&#123; // Write out element count, and any hidden stuff int expectedModCount = modCount; s.defaultWriteObject(); // Write out size as capacity for behavioural compatibility with clone() s.writeInt(size); // Write out all elements in the proper order. for (int i=0; i&lt;size; i++) &#123; s.writeObject(elementData[i]); &#125; if (modCount != expectedModCount) &#123; throw new ConcurrentModificationException(); &#125;&#125;/** * Reconstitute the &lt;tt&gt;ArrayList&lt;/tt&gt; instance from a stream (that is, * deserialize it). */private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException &#123; elementData = EMPTY_ELEMENTDATA; // Read in size, and any hidden stuff s.defaultReadObject(); // Read in capacity s.readInt(); // ignored if (size &gt; 0) &#123; // be like clone(), allocate array based upon size not capacity int capacity = calculateCapacity(elementData, size); SharedSecrets.getJavaOISAccess().checkArray(s, Object[].class, capacity); ensureCapacityInternal(size); Object[] a = elementData; // Read in all elements in the proper order. for (int i=0; i&lt;size; i++) &#123; a[i] = s.readObject(); &#125; &#125;&#125; ä»Žæºç å¯ä»¥çœ‹å‡ºï¼Œåœ¨åºåˆ—åŒ–ä¸€ä¸ªArrayListæ—¶ï¼Œä¼šå°†sizeå’ŒelementDataéƒ½å†™å…¥è¾“å‡ºæµï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåŠ äº†transientå…³é”®å­—ä¹‹åŽä¾ç„¶ä¼šè¢«åºåˆ—åŒ–çš„åŽŸå› ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¦åŠ è¿™ä¸ªå…³é”®å­—å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºelementDataæ˜¯ä¸€ä¸ªç¼“å­˜æ•°ç»„ï¼Œå®ƒé€šå¸¸ä¼šé¢„ç•™ä¸€äº›å®¹é‡ï¼Œç­‰å®¹é‡ä¸è¶³æ—¶å†æ‰©å……å®¹é‡ï¼Œé‚£ä¹ˆæœ‰äº›ç©ºé—´å¯èƒ½å°±æ²¡æœ‰å®žé™…å­˜å‚¨å…ƒç´ ï¼Œé‡‡ç”¨ä¸Šé¢çš„æ–¹å¼æ¥å®žçŽ°åºåˆ—åŒ–æ—¶ï¼Œå°±å¯ä»¥ä¿è¯åªåºåˆ—åŒ–å®žé™…å­˜å‚¨çš„é‚£äº›å…ƒç´ ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ•°ç»„ï¼Œä»Žè€ŒèŠ‚çœç©ºé—´å’Œæ—¶é—´ã€‚ çŽ°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„å‘¢ï¼Ÿæœ‰äº†å‰é¢å¯¹ExternalizableæŽ¥å£åˆ†æžçš„ç»éªŒï¼Œç›´æŽ¥æŸ¥çœ‹ObjectOutputStreamçš„writeSerialDataæ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­è°ƒç”¨äº†invokeWriteObjectæ–¹æ³•æ¥å®žçŽ°åºåˆ—åŒ–ï¼Œä¸‹é¢ç›´æŽ¥çœ‹è¯¥æ–¹æ³•ã€‚ void invokeWriteObject(Object obj, ObjectOutputStream out) throws IOException, UnsupportedOperationException&#123; requireInitialized(); if (writeObjectMethod != null) &#123; try &#123; writeObjectMethod.invoke(obj, new Object[]&#123; out &#125;); &#125; catch (InvocationTargetException ex) &#123; Throwable th = ex.getTargetException(); if (th instanceof IOException) &#123; throw (IOException) th; &#125; else &#123; throwMiscException(th); &#125; &#125; catch (IllegalAccessException ex) &#123; // should not occur, as access checks have been suppressed throw new InternalError(ex); &#125; &#125; else &#123; throw new UnsupportedOperationException(); &#125;&#125; ObjectStreamClass.java writeObjectMethod = getPrivateMethod(cl, "writeObject", new Class&lt;?&gt;[] &#123; ObjectOutputStream.class &#125;, Void.TYPE);readObjectMethod = getPrivateMethod(cl, "readObject", new Class&lt;?&gt;[] &#123; ObjectInputStream.class &#125;, Void.TYPE); é‡ç‚¹å…³æ³¨writeObjectMethod.invoke(obj, new Object[]{ out });è¿™ä¸€è¡Œï¼Œå…¶ä¸­çš„writewriteObjectMethodå¯¹è±¡å°±æ˜¯åœ¨ObjectStreamClassç±»ä¸­å®šä¹‰çš„ï¼Œé€šè¿‡åå°„çš„æ–¹å¼è°ƒç”¨çš„ä¸¤ä¸ªæ–¹æ³•ã€‚ æ€»ç»“ å®žçŽ°åºåˆ—åŒ–çš„æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š å®žçŽ°SerializableæŽ¥å£ï¼Œè°ƒç”¨ObjectOutputStreamçš„writeObjectæ–¹æ³•ï¼Œå°†å¯¹è±¡åºåˆ—åŒ–ï¼Œè¿™æ—¶ï¼Œæ˜¯ä½¿ç”¨çš„Javaçš„è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼ã€‚æ­¤æ—¶è¢«transientå…³é”®å­—ä¿®é¥°çš„å±žæ€§ï¼Œä¸ä¼šè¢«åºåˆ—åŒ–ã€‚ å®žçŽ°SerializableæŽ¥å£ï¼ŒåŒæ—¶æä¾›writeObjectæ–¹æ³•ï¼Œè¿™æ—¶ObjectOutputStreamå°±ä¼šé€šè¿‡åå°„çš„æ–¹å¼è°ƒç”¨writeObjectæ–¹æ³•ã€‚æ­¤æ—¶transientä¿®é¥°çš„å­—æ®µï¼Œæ˜¯å¦ä¼šè¢«åºåˆ—åŒ–ï¼Œå–å†³äºŽwriteObjectæ–¹æ³•ã€‚ å®žçŽ° ExternalizableæŽ¥å£ï¼Œå¹¶å®žçŽ°ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™æ—¶ObjectOutputStreamå°±ä¼šè‡ªåŠ¨è°ƒç”¨writeObjectæ–¹æ³•ã€‚æ­¤æ—¶ï¼Œtransientå…³é”®å­—ä¸ä¼šèµ·ä½œç”¨ï¼Œæ˜¯å¦ä¼šè¢«åºåˆ—åŒ–ï¼Œå–å†³äºŽwriteObjectæ–¹æ³•ã€‚ å®šä¹‰JavaBeanæ—¶ï¼Œæœ€å¥½éƒ½å®žçŽ°SerializableæŽ¥å£ï¼Œå¹¶ä¸”å®šä¹‰serialVersionUIDã€‚ é™æ€å˜é‡ä¸ä¼šè¢«å®žä¾‹åŒ–ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RandomAccessæŽ¥å£]]></title>
    <url>%2F2019%2F09%2F24%2FRandomAccess%E6%8E%A5%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[é€šè¿‡åœ¨Javaé›†åˆç±»ä¸­ï¼ŒæŸ¥çœ‹ç±»ç»§æ‰¿å›¾å’Œæºç å¯ä»¥çœ‹å‡ºArrayListå’ŒVectoréƒ½å®žçŽ°äº†RandomAccessæŽ¥å£ï¼Œè€ŒLinkListå´æ²¡æœ‰å®žçŽ°è¯¥æŽ¥å£ï¼ŒæŸ¥çœ‹RandomAccessæŽ¥å£ï¼Œå‘çŽ°é‡Œé¢æ˜¯ç©ºçš„ã€‚ RandomAccess.java package java.util;/** * ä¸€å¤§å †æ³¨é‡Š... */public interface RandomAccess &#123;&#125; å…¶å®žï¼Œè¯¥æŽ¥å£åªæ˜¯ä¸€ä¸ªæ ‡è¯†æ€§æŽ¥å£(Marker)ï¼Œé™¤äº†RandomAccessæŽ¥å£å¤–ï¼Œè¿˜æœ‰Cloneable (å¯æ‹·è´å…‹éš†)ã€Serializable(è¢«åºåˆ—åŒ–)ï¼Œä¹‹åŽä¼šæœ‰æ–‡ç« ä»‹ç»è¿™ä¸¤ä¸ªæŽ¥å£ã€‚ è¯¥æŽ¥å£çš„å®˜æ–¹è§£é‡Š Listå®žçŽ°ä½¿ç”¨çš„æ ‡è®°ç•Œé¢ï¼Œè¡¨æ˜Žå®ƒä»¬æ”¯æŒå¿«é€Ÿï¼ˆé€šå¸¸ä¸ºæ’å®šæ—¶é—´ï¼‰éšæœºè®¿é—®ã€‚ æ­¤æŽ¥å£çš„ä¸»è¦ç›®çš„æ˜¯å…è®¸é€šç”¨ç®—æ³•æ›´æ”¹å…¶è¡Œä¸ºï¼Œä»¥ä¾¿åœ¨åº”ç”¨äºŽéšæœºè®¿é—®åˆ—è¡¨æˆ–é¡ºåºè®¿é—®åˆ—è¡¨æ—¶æä¾›è‰¯å¥½çš„æ€§èƒ½ã€‚ å½“æ–½åŠ åˆ°é¡ºåºè®¿é—®åˆ—è¡¨ï¼ˆå¦‚LinkedListï¼‰ï¼Œç”¨äºŽæ“çºµéšæœºæŽ¥å…¥åˆ—è¡¨ï¼ˆå¦‚ArrayListï¼‰æœ€å¥½ç®—æ³•å¯ä»¥äº§ç”ŸäºŒæ¬¡è¡Œä¸ºã€‚ é¼“åŠ±é€šç”¨åˆ—è¡¨ç®—æ³•åœ¨åº”ç”¨å¦‚æžœåº”ç”¨äºŽé¡ºåºè®¿é—®åˆ—è¡¨ä¹‹å‰æä¾›è¾ƒå·®æ€§èƒ½çš„ç®—æ³•ï¼Œå¹¶ä¸”å¦‚æžœéœ€è¦æ”¹å˜å…¶è¡Œä¸ºä»¥ç¡®ä¿å¯æŽ¥å—çš„æ€§èƒ½ï¼Œåˆ™æ£€æŸ¥ç»™å®šåˆ—è¡¨æ˜¯å¦ä¸ºinstanceofæ­¤æŽ¥å£ã€‚ æ­¤å¾ªçŽ¯ï¼š for (int i=0, n=list.size(); i &lt; n; i++) list.get(i); æ¯”è¿™ä¸ªå¾ªçŽ¯è¿è¡Œå¾—æ›´å¿«ï¼š for (Iterator i=list.iterator(); i.hasNext(); ) i.next(); Collectionsç±»ä¸­çš„ä½¿ç”¨æ­¤æŽ¥å£åœ¨Collectionsç±»ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éƒ½ä½¿ç”¨åˆ°äº†ï¼Œæ¯”å¦‚ä¸‹é¢çš„binarySearchæ–¹æ³• Collection.java @SuppressWarnings("unchecked")public static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) &#123; if (c==null) return binarySearch((List&lt;? extends Comparable&lt;? super T&gt;&gt;) list, key); if (list instanceof RandomAccess || list.size()&lt;BINARYSEARCH_THRESHOLD) return Collections.indexedBinarySearch(list, key, c); else return Collections.iteratorBinarySearch(list, key, c);&#125; ä¸Šé¢çš„æ–¹æ³•ä¸­ï¼Œé€šè¿‡åˆ¤æ–­listæ˜¯å¦å®žçŽ°äº†RandomAccessæŽ¥å£æ¥åˆ¤æ–­æ‰§è¡ŒindexedBinarySearchæ–¹æ³•è¿˜æ˜¯æ‰§è¡ŒiteratorBinarySearchæ–¹æ³•(instanceofå…³é”®å­—çš„ä½œç”¨æ˜¯åˆ¤æ–­æŸä¸ªå¯¹è±¡æ‰€åœ¨çš„ç±»æ˜¯å¦ç»§æ‰¿æŸä¸ªç±»æˆ–è€…æ˜¯å®žçŽ°æŸä¸ªæŽ¥å£)ã€‚ åº”ç”¨ä¸‹é¢å…ˆåšä¸€ä¸ªåˆ†åˆ«ä½¿ç”¨forå¾ªçŽ¯å’ŒIteratoréåŽ†ArrayListå’ŒLinkedListçš„å®žéªŒã€‚ RamdomAccessDemo.java import java.util.ArrayList;import java.util.Iterator;import java.util.LinkedList;import java.util.List;/** * @paragram: CollectionDemo * @description: RandomAccessæŽ¥å£Demo * @auhor: liuergo * @date: 2019-09-24 23:00 */public class RandomAccessDemo &#123; public static void main(String[] args) &#123; System.out.println("arrayListä½¿ç”¨forå¾ªçŽ¯éåŽ†" + arrayListFor()); System.out.println("arrayListä½¿ç”¨IteratoréåŽ†" + arrayListIterator()); System.out.println("linkedListä½¿ç”¨forå¾ªçŽ¯éåŽ†" + linkedListFor()); System.out.println("linkedListä½¿ç”¨IteratoréåŽ†" + linkedListIterator()); &#125; //forå¾ªçŽ¯éåŽ†ArrayList public static long arrayListFor() &#123; List list = new ArrayList(); for (int i = 0; i &lt; 5000000; i++) &#123; list.add(i); &#125; long startTime = System.currentTimeMillis(); for (int i = 0; i &lt; list.size(); i++) &#123; Object object = list.get(i); &#125; long endTime = System.currentTimeMillis(); return endTime - startTime; &#125; //Iteratorå¾ªçŽ¯éåŽ†ArrayList public static long arrayListIterator() &#123; List list = new ArrayList(); for (int i = 0; i &lt; 5000000; i++) &#123; list.add(i); &#125; long startTime = System.currentTimeMillis(); Iterator iterator = list.iterator(); while (iterator.hasNext()) &#123; Object object = iterator.next(); &#125; long endTime = System.currentTimeMillis(); return endTime - startTime; &#125; //forå¾ªçŽ¯éåŽ†ArrayList public static long linkedListFor() &#123; List list = new LinkedList(); for (int i = 0; i &lt; 50000; i++) &#123; list.add(i); &#125; long startTime = System.currentTimeMillis(); for (int i = 0; i &lt; list.size(); i++) &#123; Object object = list.get(i); &#125; long endTime = System.currentTimeMillis(); return endTime - startTime; &#125; //Iteratorå¾ªçŽ¯éåŽ†ArrayList public static long linkedListIterator() &#123; List list = new LinkedList(); for (int i = 0; i &lt; 50000; i++) &#123; list.add(i); &#125; long startTime = System.currentTimeMillis(); Iterator iterator = list.iterator(); while (iterator.hasNext()) &#123; Object object = iterator.next(); &#125; long endTime = System.currentTimeMillis(); return endTime - startTime; &#125;&#125; è¿è¡Œç»“æžœ å¯ä»¥å‘çŽ°ï¼Œä½¿ç”¨forå¾ªçŽ¯æ¯”ä½¿ç”¨IteratoréåŽ†ArrayListå¿«ï¼Œä½¿ç”¨Iteratoræ¯”ä½¿ç”¨forå¾ªçŽ¯å¿«ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›é›†åˆç±»çš„æ—¶å€™ï¼Œåº”è¯¥æƒ³åˆ°å¯¹äºŽä¸åŒçš„é›†åˆç±»é‡‡å–ä¸åŒçš„éåŽ†æ–¹å¼ï¼Œå…·ä½“é‡‡å–é‚£ç§æ–¹å¼å°±å¯ä»¥é‡‡å–é€šè¿‡åˆ¤æ–­è¯¥ç±»æ˜¯å¦å®žçŽ°äº†RandomAccessæŽ¥å£çš„æ–¹å¼ã€‚ å¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„æ¨¡æ¿ï¼š public void traverseList(List list) &#123; if (list instanceof RandomAccess) &#123; for (int i = 0; i &lt; list.size(); i++) &#123; &#125; &#125; else &#123; Iterator iterator = list.iterator(); while (iterator.hasNext()) &#123; &#125; &#125;&#125; æ³¨ï¼šæŽ¨èä½¿ç”¨å¢žå¼ºforå¾ªçŽ¯ï¼Œå¢žå¼ºforå¾ªçŽ¯åœ¨åº•å±‚ä¹Ÿæ˜¯å®žçŽ°çš„Iteratorã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜¿é‡Œäº‘OSS+PicGoå»ºç«‹å›¾åºŠ]]></title>
    <url>%2F2019%2F09%2F21%2F%E9%98%BF%E9%87%8C%E4%BA%91OSS%2BPicGo%E5%BB%BA%E7%AB%8B%E5%9B%BE%E5%BA%8A%E8%B8%A9%E5%9D%91%2F</url>
    <content type="text"><![CDATA[åœ¨æœ¬åœ°å†™mdæ–‡æ¡£æ—¶å€™æ’å…¥å›¾ç‰‡æ˜¯ä¸€ä»¶æŒºéº»çƒ¦çš„äº‹æƒ…ï¼Œä½¿ç”¨æœ¬åœ°å›¾ç‰‡çš„è¯ï¼Œæ¯æ¬¡åœ¨ç»™åˆ«äººåˆ†äº«æ–‡æ¡£æˆ–è€…ä¸Šä¼ åšå®¢çš„æ—¶å€™å°±æ¯”è¾ƒéš¾é¡¶äº†ã€‚ç½‘ä¸Šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ç§æ˜¯ä½¿ç”¨å›¾ç‰‡çš„base64ç¼–ç ï¼Œä½†æ˜¯å›¾ç‰‡è½¬æ¢ä¸ºbase64ç¼–ç ä¹‹åŽï¼Œç¼–ç é•¿åº¦ä¼šå¾ˆå¤§ï¼Œæ–‡æ¡£çš„å¯è¯»æ€§ä¸å¥½ï¼Œè€Œä¸”ä¹Ÿä¼šä½¿æ–‡æ¡£çš„ä½“ç§¯æ€¥å‰§å˜å¤§ï¼Œè¿™ç§æ–¹æ³•æ˜¾ç„¶ä¸å¤ªå¥½ã€‚æ‰€ä»¥ï¼Œæœ€ç»ˆä½¿ç”¨äº†å›¾åºŠçš„æ–¹æ³•å°†å›¾ç‰‡å‚¨å­˜åœ¨é˜¿é‡Œäº‘ä¸­ã€‚ å¼€é€šOSSæœåŠ¡â€‹ è¿›å…¥é˜¿é‡Œäº‘åˆ›å»ºä¸€ä¸ªå¯¹è±¡å­˜å‚¨OSSçš„æœåŠ¡ï¼Œä¹‹åŽæ–°å»ºä¸€ä¸ªBucketï¼Œåˆ›å»ºBucketä¹‹åŽï¼Œæˆ‘ä»¬çš„å­˜å‚¨ç©ºé—´å°±åˆ›å»ºæˆåŠŸäº†ã€‚ ä½¿ç”¨PicGoå¿«é€Ÿä¸Šä¼ å›¾ç‰‡ PicGoä¸‹è½½åœ°å€https://github.com/Molunerfinn/PicGo é…ç½®PicGo â€‹ KeyIdå’ŒKeySecretå¯ä»¥ä»Žé˜¿é‡Œçš„æŽ§åˆ¶å°èŽ·å–ã€‚ â€‹ å‚¨å­˜ç©ºé—´åå°±æ˜¯Bucketçš„åç§°ï¼Œå­˜å‚¨åŒºåŸŸåœ¨è®¿é—®åŸŸåå¯ä»¥æ‰¾åˆ°ã€‚ â€‹ é…ç½®å®Œæˆä¹‹åŽå°±å¯ä»¥ä½¿ç”¨PicGoä¸Šä¼ å›¾ç‰‡äº†ã€‚ è¸©å‘è®°å½•â€‹ ç¬¬ä¸€æ¬¡ä½¿ç”¨PicGoä¸Šä¼ å›¾ç‰‡çš„æ—¶å€™ï¼Œæ€»æ˜¯æç¤ºä¸Šä¼ å¤±è´¥ï¼Œæ£€æŸ¥äº†å¥½å‡ éé…ç½®ï¼Œéƒ½æ²¡æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œå¯æ˜¯å°±æ˜¯ä¸Šä¼ ä¸äº†ã€‚ â€‹ æ‰“å¼€PicGoçš„é…ç½®æ–‡ä»¶ä¹‹åŽï¼Œå‘çŽ°æœ‰ä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚ 2019-09-21 21:33:11 [PicGo ERROR] StatusCodeError: 403 - &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;Error&gt;\n RequestTimeTooSkewed\n &lt;Message&gt;The difference between the request time and the current time is too large.&lt;/Message&gt;\n &lt;RequestId&gt;5D8634B41BCC63B32BB5C43E&lt;/RequestId&gt;\n &lt;HostId&gt;lzy-md-image.oss-cn-qingdao.aliyuncs.com&lt;/HostId&gt;\n &lt;MaxAllowedSkewMilliseconds&gt;900000&lt;/MaxAllowedSkewMilliseconds&gt;\n &lt;RequestTime&gt;2019-09-21T13:33:10.000Z&lt;/RequestTime&gt;\n &lt;ServerTime&gt;2019-09-21T14:33:24.000Z&lt;/ServerTime&gt;\n&lt;/Error&gt;\n&quot;------Error Stack Begin------StatusCodeError: 403 - &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;Error&gt;\n RequestTimeTooSkewed\n &lt;Message&gt;The difference between the request time and the current time is too large.&lt;/Message&gt;\n &lt;RequestId&gt;5D8634B41BCC63B32BB5C43E&lt;/RequestId&gt;\n &lt;HostId&gt;lzy-md-image.oss-cn-qingdao.aliyuncs.com&lt;/HostId&gt;\n &lt;MaxAllowedSkewMilliseconds&gt;900000&lt;/MaxAllowedSkewMilliseconds&gt;\n &lt;RequestTime&gt;2019-09-21T13:33:10.000Z&lt;/RequestTime&gt;\n &lt;ServerTime&gt;2019-09-21T14:33:24.000Z&lt;/ServerTime&gt;\n&lt;/Error&gt;\n&quot; at new StatusCodeError (E:\PicGo\resources\app.asar\node_modules\request-promise-core\lib\errors.js:32:15) at Request.plumbing.callback (E:\PicGo\resources\app.asar\node_modules\request-promise-core\lib\plumbing.js:104:33) at Request.RP$callback [as _callback] (E:\PicGo\resources\app.asar\node_modules\request-promise-core\lib\plumbing.js:46:31) at Request.self.callback (E:\PicGo\resources\app.asar\node_modules\request\request.js:185:22) at Request.emit (events.js:182:13) at Request.&lt;anonymous&gt; (E:\PicGo\resources\app.asar\node_modules\request\request.js:1157:10) at Request.emit (events.js:182:13) at IncomingMessage.&lt;anonymous&gt; (E:\PicGo\resources\app.asar\node_modules\request\request.js:1079:12) at Object.onceWrapper (events.js:273:13) at IncomingMessage.emit (events.js:187:15)-------Error Stack End------- â€‹ é‡ç‚¹å…³æ³¨The difference between the request time and the current time is too largeè¿™ä¸€éƒ¨åˆ†ï¼ŒæŸ¥æ‰¾é˜¿é‡Œäº‘OSæ–‡æ¡£ï¼Œ403é”™è¯¯åŠæŽ’æŸ¥ã€‚çœ‹åˆ°ä¸‹é¢çš„éƒ¨åˆ†ï¼Œå°±æ˜Žç™½äº†å‡ºé—®é¢˜çš„åŽŸå› ã€‚ â€‹ ç”±äºŽæˆ‘çš„ç”µè„‘æ˜¯Windows+UbuntuåŒç³»ç»Ÿï¼Œæ¯æ¬¡åˆ‡æ¢ç³»ç»Ÿçš„æ—¶å€™éƒ½ä¼šäº§ç”Ÿå…«ä¸ªå°æ—¶çš„æ—¶å·®ï¼Œä¸€ç›´æ²¡æœ‰è§£å†³è¿™ä¸ªå†²çªé—®é¢˜ï¼Œæ‰€ä»¥é€ æˆäº†Windowsæ—¶é—´ä¸æ­£å¸¸ï¼Œä¹Ÿå°±å¯¼è‡´äº†ä»Šå¤©çš„é—®é¢˜ã€‚ â€‹ è§£å†³æ–¹æ³•å°±å¾ˆç®€å•äº†ï¼Œé‡æ–°åŒæ­¥ä¸€ä¸‹æ—¶é’Ÿå°±å¥½äº†ã€‚]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Javaé›†åˆç±»]]></title>
    <url>%2F2019%2F09%2F20%2FJava%E9%9B%86%E5%90%88%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[Javaä¼—å¤šçš„é›†åˆç±»ç”±ä¸¤å¤§æŽ¥å£è¡ç”Ÿè€Œæ¥ï¼šCollectionæŽ¥å£å’ŒMapæŽ¥å£ CollectionList(æœ‰åºï¼Œå¯é‡å¤)ArrayListä¼˜ç‚¹ï¼šåº•å±‚æ•°æ®ç»“æž„æ˜¯æ•°ç»„ï¼Œå…·æœ‰æ•°ç»„æœ¬èº«çš„ç‰¹ç‚¹ï¼šæŸ¥è¯¢å¿«ï¼Œå¢žåˆ æ…¢ã€‚ ç¼ºç‚¹ï¼šçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆçŽ‡é«˜ã€‚ ç±»ç»§æ‰¿å›¾ ArrayList.java /** * The array buffer into which the elements of the ArrayList are stored. * The capacity of the ArrayList is the length of this array buffer. Any * empty ArrayList with elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA * will be expanded to DEFAULT_CAPACITY when the first element is added. */transient Object[] elementData; // non-private to simplify nested class access ä¸Šé¢çš„elementDataå°±æ˜¯ArrayListçš„åº•å±‚æ•°ç»„çš„å®žçŽ°ã€‚ Vectorä¼˜ç‚¹ï¼šåº•å±‚æ•°æ®ç»“æž„æ˜¯æ•°ç»„ï¼Œå…·æœ‰æ•°ç»„æœ¬èº«çš„ç‰¹ç‚¹ï¼šæŸ¥è¯¢å¿«ï¼Œå¢žåˆ æ…¢ã€‚ ç¼ºç‚¹ï¼šçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆçŽ‡ä½Žã€‚ ç±»ç»§æ‰¿å›¾ Vector.java /** * Appends the specified element to the end of this Vector. * * @param e element to be appended to this Vector * @return &#123;@code true&#125; (as specified by &#123;@link Collection#add&#125;) * @since 1.2 */public synchronized boolean add(E e) &#123; modCount++; ensureCapacityHelper(elementCount + 1); elementData[elementCount++] = e; return true;&#125; æŸ¥çœ‹Vectorçš„æºç å¯ä»¥å‘çŽ°ï¼Œå¤§éƒ¨åˆ†æºç éƒ½åŠ ä¸Šäº†synchronizedå…³é”®å­—ï¼Œæ¯”å¦‚ä¸Šé¢çš„addæ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯Vectorçº¿ç¨‹å®‰å…¨çš„åŽŸå› ã€‚ LinkedListä¼˜ç‚¹: åº•å±‚æ•°æ®ç»“æž„æ˜¯é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢žåˆ å¿«ã€‚ç¼ºç‚¹: çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆçŽ‡é«˜ã€‚ ç±»ç»§æ‰¿å›¾ æ¯”è¾ƒLinkedListå’Œå‰ä¸¤ä¸ªé›†åˆç±»çš„åŒºåˆ«ï¼Œå¯ä»¥å‘çŽ°LinkedListå®žçŽ°äº†DequeæŽ¥å£ï¼Œå¹¶ä¸”æ²¡æœ‰å®žçŽ° RandomAccessæŽ¥å£ï¼Œè¡¨ç¤ºæ­¤é›†åˆç±»ä¸æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œæ­¤æŽ¥å£æœ‰ä¸“é—¨çš„æ–‡ç« è®²è§£ã€‚ Set(æ— åºï¼Œå”¯ä¸€)HashSetåº•å±‚æ•°æ®ç»“æž„æ˜¯å“ˆå¸Œè¡¨ï¼ˆæ— åºï¼Œå”¯ä¸€ï¼‰ã€‚ ç±»ç»§æ‰¿å›¾ å¯ä»¥çœ‹å‡ºï¼ŒHashSetä¹Ÿæ˜¯æ²¡æœ‰å®žçŽ°RandomAccessæŽ¥å£çš„ï¼Œä¸æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œå…³äºŽHashSetæ˜¯å¦‚ä½•ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§çš„ï¼ŒåŠå…¶æ— åºæ€§çš„åŽŸå› å°†åœ¨HashMapä¸­è§£é‡Šã€‚ HashSet.java private transient HashMap&lt;E,Object&gt; map;// Dummy value to associate with an Object in the backing Mapprivate static final Object PRESENT = new Object();public boolean add(E e) &#123; return map.put(e, PRESENT)==null;&#125; ä»Žä¸Šé¢çš„æºç å¯ä»¥çœ‹å‡ºï¼ŒHashSetçš„åº•å±‚å®žçŽ°æ˜¯HashMapï¼Œæ¯æ¬¡è°ƒç”¨addæ–¹æ³•æ—¶ï¼ŒMapçš„valueéƒ¨åˆ†ä»…ä»…putäº†ä¸€ä¸ªä¸€ä¸ªObjectå¯¹è±¡ï¼Œè€ŒHashMapçš„Keyæ˜¯å”¯ä¸€çš„ï¼Œä¹Ÿå°±ä¿è¯äº†HashSetçš„å”¯ä¸€æ€§ã€‚ LinkedHashSetåº•å±‚æ•°æ®ç»“æž„æ˜¯å“ˆå¸Œè¡¨å’Œé“¾è¡¨ï¼ˆæœ‰åºï¼Œå”¯ä¸€ï¼‰ï¼Œé“¾è¡¨ä¿è¯å…¶æœ‰åºï¼Œå“ˆå¸Œè¡¨ä¿è¯å…¶å”¯ä¸€ã€‚ ä»Žç±»ç»§æ‰¿å›¾å¯ä»¥çœ‹å‡ºï¼ŒLinkedHashSetç»§æ‰¿äº†HashSetï¼Œä»Žä¸‹é¢çš„æºç å¯ä»¥çœ‹å‡ºï¼ŒLinkedHashSetä¸»è¦æ˜¯å®žçŽ°äº†HashSetçš„HashSet(int initialCapacity, float loadFactor, boolean dummy)æž„é€ æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­æ–°å»ºäº†ä¸€ä¸ªLinkedHashMapå¯¹è±¡ï¼Œé“¾è¡¨éƒ¨åˆ†çš„å®žçŽ°å°±åœ¨LikedHashMapä¸­å®žçŽ°äº†ã€‚ //LinkedHashSet.javapublic LinkedHashSet(int initialCapacity, float loadFactor) &#123; super(initialCapacity, loadFactor, true);&#125;//HashSet.javaHashSet(int initialCapacity, float loadFactor, boolean dummy) &#123; map = new LinkedHashMap&lt;&gt;(initialCapacity, loadFactor);&#125; TreeSetåº•å±‚æ•°æ®ç»“æž„æ˜¯çº¢é»‘æ ‘ï¼ˆå”¯ä¸€ï¼Œæœ‰åºï¼‰ã€‚SortedSetæŽ¥å£ä¿è¯äº†å…¶æœ‰åºæ€§ï¼Œä¸»è¦ç”¨äºŽæŽ’åºã€‚ ç±»ç»§æ‰¿å›¾ MapHashMapMapæ—ä¸»è¦åŒ…æ‹¬HashMapã€LinkedHashMapã€TreeMapã€Hashtable HashMap çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆçŽ‡é«˜ï¼Œæ— åºã€‚ HashMapå…è®¸ç©ºå€¼ï¼Œå¹¶ä¸”keyå’Œvalueéƒ½å…è®¸ã€‚keyå€¼å…·æœ‰å”¯ä¸€æ€§ï¼Œå­˜åœ¨çš„è¯keyå€¼ä¸ä¼šè¦†ç›–ï¼Œæ–°çš„valueä¼šæ›¿ä»£æ—§çš„valueï¼Œè€Œä¸”HashMapæ˜¯æ— åºçš„ï¼Œä¹‹åŽä¼šæœ‰æºç è®²è§£è¯¦ç»†è§£é‡Šã€‚ LinkedHashMap å†…éƒ¨ç»´æŒäº†ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œç›¸æ¯”äºŽHashMapæ¥è¯´å¯ä»¥ä¿è¯æœ‰åºã€‚ TreeMap å†…éƒ¨å®žçŽ°æ˜¯çº¢é»‘æ ‘ï¼Œå¯ä»¥å¯¹æ’å…¥çš„å…ƒç´ è¿›è¡Œè‡ªåŠ¨æŽ’åºã€‚ Hashtable å¾ˆå¤šæ–¹æ³•åŠ ä¸Šäº†synchronizedï¼Œæ‰€ä»¥ï¼ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œä¸”Hashtableä¸å…è®¸ç©ºå€¼ã€‚ å¯¹æ¯”åˆ†æžTreeSetï¼ŒLinkedHashSetï¼ŒHashSetå¯¹æ¯”ç›¸åŒç‚¹ ç”±äºŽå®žçŽ°äº†SetæŽ¥å£ï¼Œéƒ½æœ‰å”¯ä¸€æ€§çš„ç‰¹ç‚¹ã€‚ ä¸‰è€…éƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æžœæƒ³ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ä½¿ç”¨Collections.synchronizedSet()æ–¹æ³•ã€‚ ä¸åŒç‚¹ æ˜¯å¦æœ‰åºï¼šHashSetç›´æŽ¥å®žçŽ°äº†HanshMapï¼Œæ˜¯æ— åºçš„ï¼Œè€Œç”±äºŽLinkedHashSetå®žçŽ°äº†é“¾è¡¨ï¼Œå¯ä»¥ä¿è¯æ•°æ®æŒ‰ç…§æ’å…¥é¡ºåºæŽ’åºï¼ŒTreeSetä¼šå¯¹æ’å…¥çš„æ•°æ®å®žçŽ°æŽ’åºã€‚ æ˜¯å¦å…è®¸ç©ºå€¼ï¼šHashSetå’ŒLinkHashSetå…è®¸å­˜åœ¨nullæ•°æ®ï¼Œä½†æ˜¯TreeSetä¸­æ’å…¥nullæ•°æ®æ—¶ä¼šæŠ¥NullPointerExceptionã€‚ æµ‹è¯•public static void setTest() &#123; HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;(); LinkedHashSet&lt;Integer&gt; linkedHashSet = new LinkedHashSet&lt;&gt;(); TreeSet&lt;Integer&gt; treeSet = new TreeSet&lt;&gt;(); for (Integer data: Arrays.asList(745, 3, 114, 526, 5, 7, 4)) &#123; hashSet.add(data); linkedHashSet.add(data); treeSet.add(data); &#125; System.out.println("HashSetï¼š" + hashSet); System.out.println("LinkedHashSetï¼š" + linkedHashSet); System.out.println("TreeSetï¼š" + treeSet);&#125; è¿è¡Œç»“æžœ å¯ä»¥çœ‹å‡ºæ¥ï¼ŒéåŽ†HashSetçš„ç»“æžœæ˜¯æ— åºçš„ï¼ŒéåŽ†LinkedHashSetçš„ç»“æžœæ˜¯è·Ÿæ’å…¥æ•°æ®çš„é¡ºåºä¿æŒä¸€è‡´ï¼ŒTreeSetå¯ä»¥å¯¹æ•°æ®è¿›è¡ŒæŽ’åºã€‚ HashMapã€LinkedHashMapã€TreeMapã€Hashtableå¯¹æ¯”ç›¸åŒç‚¹ éƒ½æ˜¯ç”¨äºŽå‚¨å­˜key/valueé”®å€¼å¯¹ï¼Œkeyä¸èƒ½é‡å¤ ä¸åŒç‚¹ æ˜¯å¦æ”¯æŒå¤šçº¿ç¨‹è¯»å†™ï¼šHashMapã€TreeMapã€LinkedHashMapçº¿ç¨‹ä¸å®‰å…¨ï¼Œåªæœ‰Hashtableçº¿ç¨‹å®‰å…¨ã€‚ æ˜¯å¦æœ‰åºï¼šHashMapã€Hashtableæ— åºï¼ŒLikedHashMapå¯ä»¥ä¿è¯æ•°æ®æŒ‰ç…§æ’å…¥é¡ºåºæŽ’åºã€TreeMapå¯ä»¥å¯¹æ•°æ®è¿›è¡ŒæŽ’åºã€‚ æ˜¯å¦å…è®¸ç©ºå€¼ï¼šHashMapã€LikedHashMapå…è®¸å­˜åœ¨ä¸€æ¡é”®ä¸ºnullçš„è®°å½•ï¼ŒHashtableã€TreeMapä¸å…è®¸ç©ºå€¼å­˜åœ¨ã€‚ éåŽ†æ–¹å¼Listä¸»è¦æœ‰ä¸‰ç§å¾ªçŽ¯æ–¹å¼ï¼Œforå¾ªçŽ¯ã€å¢žå¼ºforå¾ªçŽ¯å’Œè¿­ä»£å™¨æ–¹å¼ã€‚å¢žå¼ºforå¾ªçŽ¯çš„å†…éƒ¨æ˜¯è°ƒç”¨iteratorå®žçŽ°çš„ï¼ŒåŽä¸¤ç§æ–¹å¼çš„æ•ˆæžœåŸºæœ¬ç›¸åŒ(åœ¨ideaä¸­ä¹Ÿä¼šæœ‰æç¤ºå»ºè®®ä½¿ç”¨å¢žå¼ºforå¾ªçŽ¯çš„æ–¹å¼)ã€‚å¯¹äºŽå¦‚ä½•é€‰æ‹©éåŽ†æ–¹å¼ï¼Œåœ¨RandomAccessæŽ¥å£ä¸­æœ‰è®²åˆ°ã€‚ //ListéåŽ†private static void traverseListTest() &#123; ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 20; i++) &#123; arrayList.add(i); &#125; //forå¾ªçŽ¯éåŽ† for (int i = 0; i &lt; arrayList.size(); i++) &#123; System.out.println(arrayList.get(i)); &#125; //å¢žå¼ºforå¾ªçŽ¯ for (Integer integer : arrayList) &#123; System.out.println(integer); &#125; //iteratoræ–¹å¼ Iterator iterator = arrayList.iterator(); while (iterator.hasNext()) &#123; System.out.println(iterator.next()); &#125;&#125; MapéåŽ†æ–¹å¼ï¼Œä¸»è¦çš„éåŽ†æ–¹å¼æœ‰å››ç§ï¼Œç¬¬ä¸€ä¸­å›½æ–¹å¼ä»…ä»…éåŽ†valueæˆ–è€…keyçš„è¯ç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªå¢žå¼ºforå¾ªçŽ¯ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨Map.keysetæ–¹æ³•éåŽ†keyï¼Œå¯ä»¥å†é€šè¿‡keyæ‰¾åˆ°valueï¼Œç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨Map.entrySetéåŽ†ï¼Œæ­¤æ–¹æ³•æ˜¯æ•ˆçŽ‡æ¯”è¾ƒé«˜çš„ä¸€ç§ï¼Œç¬¬å››ç§æ˜¯ä½¿ç”¨IteratoréåŽ†ï¼Œå’Œä¸Šä¸€ç§æ–¹å¼åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯å¦‚æžœéœ€è¦åœ¨éåŽ†è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ çš„è¯ï¼Œéœ€è¦ä½¿ç”¨è¯¥æ–¹æ³•ã€‚ //MapéåŽ†private static void traverseMapTest() &#123; Map&lt;Integer, Integer&gt; map = new HashMap(); for (int i = 0; i &lt; 100000; i++) &#123; map.put(i, 1); &#125; //ä»…éåŽ†value for (Integer value : map.values()) &#123; System.out.println(value); &#125; //ä»…éåŽ†key for (Integer key : map.keySet()) &#123; System.out.println(key); &#125; //Map.keySetæ–¹æ³• for (Integer key : map.keySet()) &#123; System.out.println(key + " " + map.get(key)); &#125; //Map.entrySetæ–¹æ³• for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123; System.out.println(entry.getKey() + " " + entry.getValue()); &#125; //Iteratoræ–¹å¼ Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; iterator = map.entrySet().iterator(); while (iterator.hasNext()) &#123; System.out.println(iterator.next().getKey() + " " + iterator.next().getValue()); &#125; //lambada map.forEach((key, value) -&gt; System.out.println(key + " " + value));&#125; æ€§èƒ½æµ‹è¯•æ’å…¥äº†500wæ¡æ•°æ®è¿›è¡Œæµ‹è¯•ã€‚ éåŽ†æ–¹å¼ æ—¶é—´ï¼ˆmsï¼‰ KeySet 13 values 42 keySet get(key) 51 entrySet 41 iterator 39 æ€»ç»“ å¦‚æžœåªæ˜¯èŽ·å–keyæˆ–è€…valueï¼ŒæŽ¨èä½¿ç”¨KeySetå’Œvaluesæ–¹å¼ã€‚ åŒæ—¶éœ€è¦keyå’Œvalueï¼ŒæŽ¨èä½¿ç”¨entrySetæ–¹å¼ã€‚ å¦‚æžœéœ€è¦åœ¨éåŽ†çš„è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨iteratoræ–¹å¼ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä»€ä¹ˆè¾“å…¥IPåœ°å€æ— æ³•è®¿é—®ç½‘ç«™]]></title>
    <url>%2F2019%2F09%2F20%2F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BE%93%E5%85%A5IP%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%2F</url>
    <content type="text"><![CDATA[ðŸŒˆå­¦ä¹ å®ŒDNSè§£æžä¹‹åŽï¼Œè‡ªå·±å°è¯•å†™äº†ä¸€ä¸ªJavaç¨‹åºè§£æžDNSåœ°å€çš„å°Demoã€‚ ä»£ç ï¼š import java.net.InetAddress;import java.net.UnknownHostException;import java.util.Arrays;/** * @paragram: DNSDemo * @description: åŸŸåè§£æž * @auhor: liuergo * @date: 2019-09-18 15:41 */public class Test &#123; public static void main(String[] args) &#123; Test tester = new Test(); // tester.resolveDomain("www.baidu.com"); tester.resolveDomain("www.zhihu.com"); &#125; private void resolveDomain(String domain) &#123; InetAddress[] address; try &#123; address = InetAddress.getAllByName(domain); Arrays.stream(address) .map(InetAddress::getHostAddress) .forEach(System.out::println); &#125; catch (UnknownHostException e) &#123; e.printStackTrace(); &#125; &#125;&#125; è§£æžç™¾åº¦çš„IPåœ°å€ä»¥åŽï¼Œç›´æŽ¥è®¿é—®ç™¾åº¦çš„IPåœ°å€å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œç„¶è€Œè§£æžçŸ¥ä¹Žçš„IPåœ°å€ä»¥åŽï¼Œæ— æ³•æ­£å¸¸è®¿é—®ã€‚ åŸŸåå¯ä»¥è®¿é—®ç„¶è€ŒIPä¸èƒ½è®¿é—®ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ åªè¾“å…¥IPåœ°å€æ— æ³•è®¿é—®ç½‘ç«™çš„åŽŸå› â€‹ è¾“å…¥IPåœ°å€æ— æ³•è®¿é—®çš„åŽŸå› å°±æ˜¯å¤šä¸ªç«™ç‚¹åœ¨å…±ç”¨è¿™ä¸€ä¸ªIPï¼Œå¦‚æžœåªè¾“å…¥IPåœ°å€çš„è¯ï¼Œæµè§ˆå™¨ä¹Ÿä¸çŸ¥é“è¦è®¿é—®å“ªä¸ªç«™ç‚¹ï¼Œæ‰€ä»¥å°±æ— æ³•è®¿é—®äº†ã€‚ â€‹ é‚£ä¹ˆï¼Œæµè§ˆå™¨ä¸ä¹Ÿæ˜¯è§£æžåŸŸåä¹‹åŽå†è®¿é—®çš„IPåœ°å€å—ï¼Œæœ€ç»ˆä¹Ÿæ˜¯è®¿é—®çš„IPåœ°å€ï¼Œé‚£ä¹ˆè¶Šè¿‡DNSè§£æžç›´æŽ¥è®¿é—®å’Œå‰ä¸€ç§å½¢å¼ä¸åº”è¯¥ä¸€æ ·å—ï¼Ÿ â€‹ æœ‰ä¸¤ç§æŠ€æœ¯å¯ä»¥ä¸Šé¢çš„é—®é¢˜ï¼š è™šæ‹Ÿä¸»æœºæŠ€æœ¯ åå‘ä»£ç†æŠ€æœ¯ è™šæ‹Ÿä¸»æœºæŠ€æœ¯ è™šæ‹Ÿä¸»æœºæŠ€æœ¯æ˜¯apacheï¼Œnginxç­‰æœåŠ¡å™¨æ‰€ç‰¹æœ‰çš„ä¸€ç§åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å®žçŽ°å¤šä¸ªç«™ç‚¹åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šæ”¾ç½®ã€‚ é‚£ä¹ˆï¼ŒçŸ¥ä¹Žçš„æŸå°æœåŠ¡å™¨å¯èƒ½å°±æ˜¯ä¸‹é¢çš„æ ·å­ï¼š ç«™ç‚¹ æ–‡ä»¶å­˜æ”¾è·¯å¾„ www.zhihu.com /zhihu/index www.a.com /a/index www.b.com /b/index è¿™æ ·ï¼ŒåŸŸåå’Œæ–‡ä»¶ä¹‹é—´å°±å­˜åœ¨æ˜ å°„å…³ç³»äº†ï¼Œå½“æˆ‘ä»¬ç›´æŽ¥è®¿é—® www.zhihu.com æ—¶ï¼Œä¸»è¦ç»åŽ†äº†ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š DNSåŸŸåè§£æžï¼ŒèŽ·å¾—è§£æžåŽçš„ç»“æžœï¼Œæ¯”å¦‚æ˜¯223.111.243.190ã€‚ æµè§ˆå™¨ä¸ŽIPä¸º223.111.243.190çš„æœåŠ¡å™¨è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹TCPè¿žæŽ¥ã€‚ æµè§ˆå™¨å¼€å§‹æž„å»ºHTTPè¯·æ±‚æŠ¥æ–‡ï¼Œé€šè¿‡æŠ“åŒ…å¯ä»¥çœ‹åˆ°æŠ¥æ–‡æ ¼å¼ï¼š Hypertext Transfer Protocol GET / HTTP/1.1\r\n Host: www.zhihu.com\r\n User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101 Firefox/68.0\r\n Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8\r\n Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\r\n Accept-Encoding: gzip, deflate\r\n Connection: keep-alive\r\n Upgrade-Insecure-Requests: 1\r\n \r\n [Full request URI: http://www.zhihu.com/] [HTTP request 1/18] [Response in frame: 121] ä»¥ä¸Šä¿¡æ¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨ä¸€è¡Œï¼Œå°±æ˜¯Host: www.zhihu.com\r\n è¿™ä¸€è¡Œï¼Œé€šè¿‡è¿™ä¸ªå¤´éƒ¨å­—æ®µï¼ŒæœåŠ¡å™¨å°±å¯ä»¥çŸ¥é“ åˆ°åº•è®¿é—®çš„æ˜¯å“ªä¸ªHOSTï¼Œç„¶åŽæœåŠ¡å™¨å°±æ ¹æ®HOSTå’ŒåŸŸåçš„å¯¹åº”å…³ç³»ï¼ŒåŽ»å¯»æ‰¾/zhihu/indexæ–‡ä»¶ã€‚ åå‘ä»£ç†æŠ€æœ¯å…ˆä»‹ç»ä¸€ä¸‹æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼š æ­£å‘ä»£ç†æ­£å‘ä»£ç†ï¼Œæ˜¯åœ¨ç”¨æˆ·ç«¯çš„ã€‚æ¯”å¦‚éœ€è¦è®¿é—®æŸäº›å›½å¤–ç½‘ç«™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è´­ä¹°vpnã€‚ å¹¶ä¸”vpnæ˜¯åœ¨æˆ‘ä»¬çš„ç”¨æˆ·æµè§ˆå™¨ç«¯è®¾ç½®çš„(å¹¶ä¸æ˜¯åœ¨è¿œç«¯çš„æœåŠ¡å™¨è®¾ç½®)ã€‚ æµè§ˆå™¨å…ˆè®¿é—®vpnåœ°å€ï¼Œvpnåœ°å€è½¬å‘è¯·æ±‚ï¼Œå¹¶æœ€åŽå°†è¯·æ±‚ç»“æžœåŽŸè·¯è¿”å›žæ¥ã€‚ åå‘ä»£ç†æœ‰æ­£å‘ä»£ç†ï¼Œå°±æœ‰åå‘ä»£ç†ã€‚ åå‘ä»£ç†æ˜¯ä½œç”¨åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œæ˜¯ä¸€ä¸ªè™šæ‹ŸIP(VIP)ã€‚å¯¹äºŽç”¨æˆ·çš„ä¸€ä¸ªè¯·æ±‚ï¼Œä¼šè½¬å‘åˆ°å¤šä¸ªåŽç«¯å¤„ç†å™¨ä¸­çš„ä¸€å°æ¥å¤„ç†è¯¥å…·ä½“è¯·æ±‚ã€‚ å¤§åž‹ç½‘ç«™éƒ½æœ‰DNS(åŸŸåè§£æžæœåŠ¡å™¨)ï¼Œload balance(è´Ÿè½½å‡è¡¡å™¨)ç­‰ã€‚ ä¸‹é¢ä¸»è¦ä»‹ç»åå‘ä»£ç†æŠ€æœ¯ â€‹ åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œåå‘ä»£ç†æ˜¯ä»£ç†æœåŠ¡å™¨çš„ä¸€ç§ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä»Žå…¶å…³è”çš„ä¸€ç»„æˆ–å¤šç»„åŽç«¯ï¼ˆå¦‚WebæœåŠ¡å™¨ï¼‰ä¸ŠèŽ·å–èµ„æºï¼Œç„¶åŽå†å°†è¿™äº›èµ„æºè¿”å›žç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åªä¼šå¾—çŸ¥åå‘ä»£ç†çš„IPåœ°å€ï¼Œè€Œä¸çŸ¥é“åœ¨ä»£ç†æœåŠ¡å™¨åŽé¢çš„æœåŠ¡å™¨ç°‡çš„å­˜åœ¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æŽ¥è®¿é—®IPçš„æ—¶å€™ä¼šè®¿é—®åå‘ä»£ç†æœåŠ¡å™¨ï¼Œè¿™æ ·è®¿é—® www.zhihu.com çš„æ—¶å€™ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š é€šè¿‡DNSè§£æžèŽ·å¾— www.zhihu.com çš„åå‘ä»£ç†IPåœ°å€223.111.243.190ã€‚ HTTPè¯·æ±‚åˆ°è¾¾åå‘ä»£ç†æœåŠ¡å™¨ä¹‹åŽï¼Œè¯¥æœåŠ¡å™¨ä¼šå¯¹è¯·æ±‚åšè½¬å‘ã€‚ è¯·æ±‚çš„HOSTåœ°å€ä¸º www.zhihu.com ï¼Œåå‘ä»£ç†æœåŠ¡å™¨ä¼šå°†è¯·æ±‚æŠ¥æ–‡è½¬å‘åˆ°åŸŸåä¸ºwww.zhihu.comçš„æœåŠ¡å™¨ä¸Šã€‚ æ€»ç»“ç›´æŽ¥ä½¿ç”¨IPæ— æ³•è®¿é—®ç«™ç‚¹çš„åŽŸå›  ä¸€ä¸ªIPå¯èƒ½å¯¹åº”å¤šä¸ªwebç«™ç‚¹ï¼Œä»…ä»…å‡­å€ŸIPæ— æ³•æ‰¾åˆ°ç›¸åº”çš„ç«™ç‚¹ã€‚é€šè¿‡åŸŸåè®¿é—®å°±å¯ä»¥å€ŸåŠ©HOSTåˆ†è¾¨åˆ°åº•æ˜¯è¦è®¿é—®å“ªä¸ªç«™ç‚¹ã€‚å¦‚æžœä½¿ç”¨è™šæ‹Ÿä¸»æœºæŠ€æœ¯ï¼Œé‚£ä¹ˆåˆ©ç”¨HOST + IPçš„æ–¹å¼å°±å¯ä»¥è®¿é—®ï¼›å¦‚æžœä½¿ç”¨åå‘ä»£ç†æŠ€æœ¯ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨æ‰¾åˆ°ç«™ç‚¹å®žé™…æœåŠ¡å™¨çš„IPä¹Ÿå¯ä»¥è®¿é—®ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
        <category>é—®é¢˜</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>http</tag>
        <tag>åå‘ä»£ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WireSharkåŸºæœ¬æ“ä½œ]]></title>
    <url>%2F2019%2F09%2F16%2FWireShark%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[1. æ‹¦æˆªæœ¬åœ°å›žçŽ¯æ•°æ®ï¼ˆéœ€è¦çš„æ—¶å€™å†å¼€å¯ï¼‰æœºè®¿é—®æœ¬æœºçš„å›žçŽ¯æ•°æ®æ˜¯ä¸ç»è¿‡ç½‘å¡çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æœ¬æœºè®¿é—®æ­å»ºåœ¨æœ¬æœºä¸Šçš„webæœåŠ¡ï¼Œä½†æˆ‘ä»¬ç»å¸¸æœ‰æœåŠ¡æ­å»ºåœ¨æœ¬æœºçš„æ“ä½œä¹Ÿç»å¸¸æœ‰æ‹¦æˆªæœ¬åœ°å›žçŽ¯æ•°æ®åŒ…åŠ ä»¥åˆ†æžçš„éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬çŽ¯è¦æ‹¦è½½å›žçŽ¯æ•°æ®åŒ…ã€‚æ“ä½œå¦‚ä¸‹ã€‚ é¦–å…ˆï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdï¼ˆæ™®é€šç”¨æˆ·æ²¡æœ‰è·¯ç”±è¡¨æ“ä½œæƒé™ï¼Œä¼šæç¤ºâ€œè¯·æ±‚çš„æ“ä½œéœ€è¦æå‡â€ï¼‰ ç„¶åŽï¼Œä½¿ç”¨ipconfigæŸ¥çœ‹æœ¬æœºipå’Œç½‘å…³ï¼š ipconfig å†ç„¶åŽï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ è·¯ç”±ï¼ŒæŒ‡å®šå›žçŽ¯æ•°æ®ä¹Ÿè¦å…ˆè½¬å‘åˆ°ç½‘å…³ï¼ˆä½¿ç”¨ä¸Šä¸€æ­¥èŽ·å–æœ¬çš„æœ¬æœºipå’Œç½‘å…³æ›¿æ¢å…¶ä¸­çš„å’Œï¼‰ï¼š route add &lt;your_IP&gt; mask 255.255.255.255 &lt;gateway_IP&gt; metric 1 æœ€åŽï¼ŒæŸ¥çœ‹è·¯ç”±è¡¨ä¸­è·¯ç”±æ˜¯å¦å·²æ·»åŠ æˆåŠŸï¼š route print å›žçŽ¯æ•°æ®ç»ç½‘å…³å†å›žæ¥ä¼šå¢žåŠ ç½‘å¡çš„åŽ‹åŠ›ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤è·¯ç”±ï¼ˆä½¿ç”¨å‰è¾¹èŽ·å–æœ¬çš„æœ¬æœºipæ›¿æ¢å…¶ä¸­çš„ï¼‰ï¼š route delete &lt;your_IP&gt; 2. WireShark ç•Œé¢è¯´æ˜Ž åŒºåŸŸ1ï¼šè¯¥åŒºåŸŸå±•ç¤ºçš„æ˜¯wiresharkæ•èŽ·åˆ°çš„æ‰€æœ‰æ•°æ®åŒ…çš„åˆ—è¡¨ã€‚æ³¨æ„æœ€åŽä¸€åˆ—Infoåˆ—æ˜¯wiresharkç»„ç»‡çš„è¯´æ˜Žåˆ—å¹¶ä¸ä¸€å®šæ˜¯è¯¥æ•°æ®åŒ…ä¸­çš„åŽŸå§‹å†…å®¹ã€‚ åŒºåŸŸ 2ï¼šè¯¥åŒºåŸŸæ˜¯åŒºåŸŸ 1 ä¸­é€‰å®šçš„æ•°æ®åŒ…çš„åˆ†åè®®å±‚å±•ç¤ºã€‚ åŒºåŸŸ 3ï¼šè¯¥åŒºåŸŸæ˜¯åŒºåŸŸ 1 ä¸­é€‰å®šçš„æ•°æ®åŒ…çš„æºæ•°æ®ï¼Œå…¶ä¸­å·¦ä¾§æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºå³ä¾§æ˜¯ASCIIç è¡¨ç¤ºã€‚å¦å¤–åœ¨2å·çª—å£ä¸­é€‰ä¸­æŸå±‚æˆ–æŸå­—æ®µï¼Œ3å·çª—å£å¯¹åº”ä½ç½®ä¹Ÿä¼šè¢«é«˜äº®ã€‚ 2. æ•èŽ·è¿‡æ»¤å™¨è¡¨è¾¾å¼åœ¨æ¬¢è¿Žé¡µé¢å¯ä»¥çœ‹åˆ°ç®¡ç†æ•èŽ·è¿‡æ»¤å™¨ã€‚ æ‰“å¼€ä»¥åŽï¼Œå¯ä»¥çœ‹åˆ°è¿‡æ»¤å™¨çš„å„ç§å†™æ³•ã€‚ 3. æ˜¾ç¤ºè¿‡æ»¤å™¨è¡¨è¾¾å¼åŠå…¶ä¹¦å†™è§„å¾‹æ˜¾ç¤ºè¿‡æ»¤å™¨ä¼šåœ¨WireSharkæ•èŽ·æ•°æ®åŒ…ä¹‹åŽï¼ŒæŒ‰ç…§è¿‡æ»¤è¡¨è¾¾çš„æ¡ä»¶ï¼Œæœ‰é€‰æ‹©æ€§åœ°æ˜¾ç¤ºå·²ç»æ•èŽ·çš„æ‰€æœ‰æ•°æ®åŒ…ã€‚ 3.1. åŸºæœ¬è¿‡æ»¤è¡¨è¾¾å¼ä¸€ä¸ªåŸºæœ¬çš„è¡¨è¾¾å¼ç”±è¿‡æ»¤é¡¹ã€è¿‡æ»¤å…³ç³»ã€è¿‡æ»¤å€¼ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚ æ¯”å¦‚ip.addr == 192.168.1.1è¿™æ¡è¡¨è¾¾å¼ ip.addræ˜¯è¿‡æ»¤é¡¹ == æ˜¯è¿‡æ»¤å…³ç³» 192.168.1.1æ˜¯è¿‡æ»¤å€¼ è¡¨è¾¾å¼çš„æ„æ€ä¸ºæ‰¾å‡ºæ‰€æœ‰ipåè®®ä¸­æºæˆ–ç›®æ ‡åœ°å€ä¸º192.168.1.1çš„æ•°æ®åŒ…ã€‚ 3.1.1. è¿‡æ»¤é¡¹==è¿‡æ»¤é¡¹ = åè®® + åè®®å­—æ®µ== ä»¥ç«¯å£ä¸ºä¾‹ï¼Œç«¯å£å‡ºçŽ°äºŽtcpåè®®ä¸­æ‰€ä»¥æœ‰ç«¯å£è¿™ä¸ªè¿‡æ»¤é¡¹ä¸”å…¶å†™æ³•å°±æ˜¯tcp.portã€‚ å½“åœ¨åº”ç”¨è¿‡æ»¤æ˜¾ç¤ºå™¨ä¸­è¾“å…¥æ—¶ï¼Œä¼šæœ‰ç›¸åº”çš„æç¤ºã€‚ 3.1.2. è¿‡æ»¤å…³ç³»è¿‡æ»¤å…³ç³»å¯ä»¥ä½¿ç”¨â€œEnglishâ€å’Œâ€œC-likeâ€ä¸¤ç§æ–¹å¼ï¼Œä¾‹å¦‚â€œ==â€å¯ä»¥å†™ä½œâ€œeqâ€ã€‚ 3.1.3 è¿‡æ»¤å€¼ä¸è§£é‡Šã€‚ ###3.2. å¤åˆè§„å¾‹è¡¨è¾¾å¼ English C-like Description Example and &amp;&amp; Logical AND ip.src==10.0.0.5 and tcp.flags.fin or || Logical OR ip.scr==10.0.0.5 or ip.src==192.1.1.1 xor ^^ Logical XOR tr.dst[0:3] == 0.6.29 xor tr.src[0:3] == 0.6.29 not ! Logical NOT not llc [â€¦] Subsequence See â€œSlice Operatorâ€ below. in Set Membership http.request.method in {&quot;HEAD&quot; &quot;GET&quot;}. See â€œMembership Operatorâ€ below. 3.3. å¸¸è§ç”¨æ˜¾ç¤ºè¿‡æ»¤éœ€æ±‚åŠå…¶å¯¹åº”è¡¨è¾¾å¼æ•°æ®é“¾è·¯å±‚ï¼š ç­›é€‰macåœ°å€ä¸º04:f9:38:ad:13:26çš„æ•°æ®åŒ…â€”-eth.src == 04:f9:38:ad:13:26 ç­›é€‰æºmacåœ°å€ä¸º04:f9:38:ad:13:26çš„æ•°æ®åŒ…â€”-eth.src == 04:f9:38:ad:13:26 ç½‘ç»œå±‚ï¼š ç­›é€‰ipåœ°å€ä¸º192.168.1.1çš„æ•°æ®åŒ…â€”-ip.addr == 192.168.1.1 ç­›é€‰192.168.1.0ç½‘æ®µçš„æ•°æ®â€”- ip contains â€œ192.168.1â€ ç­›é€‰192.168.1.1å’Œ192.168.1.2ä¹‹é—´çš„æ•°æ®åŒ…â€”-ip.addr == 192.168.1.1 &amp;&amp; ip.addr == 192.168.1.2 ç­›é€‰ä»Ž192.168.1.1åˆ°192.168.1.2çš„æ•°æ®åŒ…â€”-ip.src == 192.168.1.1 &amp;&amp; ip.dst == 192.168.1.2 ä¼ è¾“å±‚ï¼š ç­›é€‰tcpåè®®çš„æ•°æ®åŒ…â€”-tcp ç­›é€‰é™¤tcpåè®®ä»¥å¤–çš„æ•°æ®åŒ…â€”-!tcp ç­›é€‰ç«¯å£ä¸º80çš„æ•°æ®åŒ…â€”-tcp.port == 80 ç­›é€‰12345ç«¯å£å’Œ80ç«¯å£ä¹‹é—´çš„æ•°æ®åŒ…â€”-tcp.port == 12345 &amp;&amp; tcp.port == 80 ç­›é€‰ä»Ž12345ç«¯å£åˆ°80ç«¯å£çš„æ•°æ®åŒ…â€”-tcp.srcport == 12345 &amp;&amp; tcp.dstport == 80 åº”ç”¨å±‚ï¼š ç‰¹åˆ«è¯´æ˜Žâ€”-httpä¸­http.requestè¡¨ç¤ºè¯·æ±‚å¤´ä¸­çš„ç¬¬ä¸€è¡Œï¼ˆå¦‚GET index.jsp HTTP/1.1ï¼‰ï¼Œhttp.responseè¡¨ç¤ºå“åº”å¤´ä¸­çš„ç¬¬ä¸€è¡Œï¼ˆå¦‚HTTP/1.1 200 OKï¼‰ï¼Œå…¶ä»–å¤´éƒ¨éƒ½ç”¨http.header_nameå½¢å¼ã€‚ ç­›é€‰urlä¸­åŒ…å«.phpçš„httpæ•°æ®åŒ…â€”-http.request.uri contains â€œ.phpâ€ ç­›é€‰å†…å®¹åŒ…å«usernameçš„httpæ•°æ®åŒ…â€”-http contains â€œusernameâ€]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
        <category>WireShark</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>WireShark</tag>
      </tags>
  </entry>
</search>
